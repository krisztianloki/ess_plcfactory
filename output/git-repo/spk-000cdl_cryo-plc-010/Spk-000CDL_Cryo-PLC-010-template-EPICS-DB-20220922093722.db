
################################################################################
#
# This file was autogenerated by PLCFactory
# Please, DO NOT EDIT by hand!
#
#
# PLC-IOC Hash: 457744924
# Timestamp: 20220922093722
# Branch of PLCFactory: master
# Commit id of PLCFactory: fb3b582a9a66e37ff877560bc4f23ab7654f4230
# Status of PLCFactory working copy: Clean
# Command line:
#
# plcfactory.py --device Spk-000CDL:Cryo-PLC-010 --plc-siemens --ioc --ioc-git-commit-message=auto --plc-diag
#
################################################################################

#
# This shows the module version that was 'required'
#
record(stringin, "Spk-000CDL:Cryo-PLC-010:ModVersionR")
{
	field(DESC,	"Module version")
	field(DISP,	"1")
	field(VAL,	"$(MODVERSION=20220922093722)")
	field(PINI,	"YES")
}

#
# This can be used to get the branch of PLCFactory that was used to generate this file
#
record(stringin, "Spk-000CDL:Cryo-PLC-010:PLCFBranchR")
{
	field(DESC,	"Branch of PLCFactory")
	field(DISP,	"1")
#master
	field(VAL,	"master")
	field(PINI,	"YES")
	info("plcf_branch", "master")
}

#
# This can be used to get the exact same version of PLCFactory that was used to generate this file
#
record(stringin, "Spk-000CDL:Cryo-PLC-010:PLCFCommitR")
{
	field(DESC,	"Commit hash of PLCFactory")
	field(DISP,	"1")
#fb3b582a9a66e37ff877560bc4f23ab7654f4230
	field(VAL,	"fb3b582a9a66e37ff877560bc4f23ab7654f423")
	field(PINI,	"YES")
	info("plcf_commit", "fb3b582a9a66e37ff877560bc4f23ab7654f4230")
}

#
# This shows if the PLCFactory working copy was clean when this file was generated
#
record(bi, "Spk-000CDL:Cryo-PLC-010:PLCFStatusR")
{
	field(DESC,	"Status of PLCFactory")
	field(DISP,	"1")
	field(ZNAM,	"Dirty")
	field(ONAM,	"Clean")
	field(VAL,	"1")
	field(PINI,	"YES")
}

#
# This shows when PLCFactory was run to generate this file
#
record(stringin, "Spk-000CDL:Cryo-PLC-010:PLCFTimestampR")
{
	field(DESC,	"Timestamp when PLCFactory was run")
	field(DISP,	"1")
	field(VAL,	"20220922093722")
	field(PINI,	"YES")
	info("plcf_timestamp", "20220922093722")
}

#
# These are used in DOL links
#
record(bi, "Spk-000CDL:Cryo-PLC-010:#plcfC1")
{
	field(DESC,	"Constant 1")
	field(DISP,	"1")
	field(PINI,	"YES")
	field(VAL,	"1")
}

record(longin, "Spk-000CDL:Cryo-PLC-010:#plcfC2")
{
	field(DESC,	"Constant 2")
	field(DISP,	"1")
	field(PINI,	"YES")
	field(VAL,	"2")
}


#########################################################
########## EPICS <-> PLC connection management ##########
#########################################################
record(asyn, "Spk-000CDL:Cryo-PLC-010:Asyn")
{
	field(DTYP,	"asynRecordDevice")
	field(PORT,	"$(PLCNAME)")
}
record(bi, "Spk-000CDL:Cryo-PLC-010:ModbusConnectedR")
{
	field(DESC,	"Shows if the MODBUS channel connected")
	field(INP,	"Spk-000CDL:Cryo-PLC-010:Asyn.CNCT CP")
	field(ONAM,	"Connected")
	field(ZNAM,	"Disconnected")
	field(ZSV,      "MAJOR")
	field(FLNK,	"Spk-000CDL:Cryo-PLC-010:CommsHashToPLCS.PROC CA")
}
record(bi, "Spk-000CDL:Cryo-PLC-010:S7ConnectedR")
{
	field(DESC,	"Shows if the S7 channel is connected")
	field(SCAN,	"I/O Intr")
	field(DTYP,	"S7plc stat")
	field(INP,	"@$(PLCNAME)")
	field(ONAM,	"Connected")
	field(ZNAM,	"Disconnected")
	field(ZSV,      "MAJOR")
}
record(stringin, "Spk-000CDL:Cryo-PLC-010:PLCAddr-RB")
{
# We assume S7 and Modbus address are the same (as they should be)
	field(DESC,	"Address of the PLC")
}
record(scalcout, "Spk-000CDL:Cryo-PLC-010:#plcfCalcPLCAddr")
{
	field(DESC,	"Strip port number of host:port")
	field(INAA,	"Spk-000CDL:Cryo-PLC-010:S7Addr-RB CP")
	field(CALC,	"AA[0,':']")
	field(OUT,	"Spk-000CDL:Cryo-PLC-010:PLCAddr-RB PP")
}
record(stringout, "Spk-000CDL:Cryo-PLC-010:PLCAddrS")
{
	field(DESC,	"Set the address of the PLC")
	field(FLNK,	"Spk-000CDL:Cryo-PLC-010:#plcfSetPLCAddr-FO")
}
record(fanout, "Spk-000CDL:Cryo-PLC-010:#plcfSetPLCAddr-FO")
{
	field(LNK1,	"Spk-000CDL:Cryo-PLC-010:#plcfCalcS7AddrS")
	field(LNK2,	"Spk-000CDL:Cryo-PLC-010:#plcfCalcModbusAddrS")
}
record(scalcout, "Spk-000CDL:Cryo-PLC-010:#plcfCalcS7AddrS")
{
	field(DESC,	"Construct the S7 address")
	field(INAA,	"Spk-000CDL:Cryo-PLC-010:PLCAddrS")
	field(CALC,	"AA + ':' + '$(S7_PORT)'")
	field(OUT,	"Spk-000CDL:Cryo-PLC-010:#plcfS7AddrS PP")
}
record(scalcout, "Spk-000CDL:Cryo-PLC-010:#plcfCalcModbusAddrS")
{
	field(DESC,	"Construct the Modbus address")
	field(INAA,	"Spk-000CDL:Cryo-PLC-010:PLCAddrS")
	field(CALC,	"AA + ':' + '$(MODBUS_PORT)'")
	field(OUT,	"Spk-000CDL:Cryo-PLC-010:Asyn.HOSTINFO PP")
}
record(stringin, "Spk-000CDL:Cryo-PLC-010:ModbusAddr-RB")
{
	field(DESC,	"Address of the PLC")
	field(INP,	"Spk-000CDL:Cryo-PLC-010:Asyn.HOSTINFO CP")
}
record(stringin, "Spk-000CDL:Cryo-PLC-010:S7Addr-RB")
{
	field(DESC,	"Address of the PLC")
	field(INP,	"Spk-000CDL:Cryo-PLC-010:#plcfS7AddrS CP")
}
record(stringout, "Spk-000CDL:Cryo-PLC-010:#plcfS7AddrS")
{
	field(DESC,	"Set address of the PLC")
	field(DTYP,	"S7plc addr")
	field(OUT,	"@$(PLCNAME)")
	field(DISP,	"1")
}
record(calcout, "Spk-000CDL:Cryo-PLC-010:#plcfCalcConn")
{
# Need to explicitly scan because using multiple CPs is not robust
	field(SCAN,	"1 second")
	field(INPA,	"Spk-000CDL:Cryo-PLC-010:S7ConnectedR CP")
	field(INPB,	"Spk-000CDL:Cryo-PLC-010:ModbusConnectedR CP")
	field(CALC,	"A && B")
	field(OUT,	"Spk-000CDL:Cryo-PLC-010:ConnectedR PP")
}
record(bi, "Spk-000CDL:Cryo-PLC-010:ConnectedR")
{
	field(DESC,	"Shows if the PLC is connected")
	field(ONAM,	"Connected")
	field(ZNAM,	"Disconnected")
	field(ZSV,      "MAJOR")
}
record(bi, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
{
	field(DESC,	"Shows if the comms hash is correct")
	field(ONAM,	"Correct")
	field(ZNAM,	"Incorrect")
	field(ZSV,      "MAJOR")
}
record(bi, "Spk-000CDL:Cryo-PLC-010:AliveR")
{
	alias("Spk-000CDL:Cryo-PLC-010:CommsOK")
	field(DESC,	"Shows if the PLC is sending heartbeats")
	field(ONAM,	"Alive")
	field(ZNAM,	"Not responding")
	field(ZSV,      "MAJOR")
}
record(bi, "Spk-000CDL:Cryo-PLC-010:PayloadSizeCorrectR")
{
	field(DESC,	"Shows if the payload size is correct")
	field(ONAM,	"Correct")
	field(ZNAM,	"Incorrect")
	field(ZSV,      "MAJOR")
}
record(calcout, "Spk-000CDL:Cryo-PLC-010:#plcfCheckHash")
{
	field(INPA,	"Spk-000CDL:Cryo-PLC-010:CommsHashToPLC")
	field(INPB,	"Spk-000CDL:Cryo-PLC-010:#plcfHasMBHash")
	field(INPC,	"Spk-000CDL:Cryo-PLC-010:S7CommsHash")
	field(INPD,	"Spk-000CDL:Cryo-PLC-010:MBCommsHash")
	field(INPE,	"Spk-000CDL:Cryo-PLC-010:S7CommsHash.STAT")
	field(INPF,	"Spk-000CDL:Cryo-PLC-010:MBCommsHash.STAT")
# if we have the HASH in the modbus map it should be the same as the one from the S7 stream
	field(CALC,	"A == C && (B ? C == D : 1) && E == 0 && F == 0")
	field(OOPT,	"On Change")
	field(OUT,	"Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR PP")
}
record(bo, "Spk-000CDL:Cryo-PLC-010:#plcfGotHeartbeat")
{
	field(DESC,	"Update AliveR")
	field(DOL,	"Spk-000CDL:Cryo-PLC-010:#plcfC1")
	field(OMSL,	"closed_loop")
	field(OUT,	"Spk-000CDL:Cryo-PLC-010:#plcfKickAlive PP")
}
record(bo, "Spk-000CDL:Cryo-PLC-010:#plcfKickAlive")
{
	field(DESC,	"Set AliveR to true for 2 seconds")
	field(HIGH,	"5")
	field(OUT,	"Spk-000CDL:Cryo-PLC-010:AliveR PP")
}
record(mbbi, "Spk-000CDL:Cryo-PLC-010:UploadStat-RB")
{
# Maintain compatibility with existing OPIs
	alias("Spk-000CDL:Cryo-PLC-010:UploadStatR")
	field(DESC,	"Parameter upload status from the PLC")
	field(SCAN,	"I/O Intr")
	field(DTYP,	"S7plc")
	field(INP,	"@$(PLCNAME)/6 T=INT16")
	field(NOBT,     "16")
	field(SHFT,     "0")

	field(ZRVL,	"0")
	field(ZRST,	"Never uploaded")

	field(ONVL,	"1")
	field(ONST,	"Uploading...")

	field(TWVL,	"2")
	field(TWST,	"Uploaded")

	field(DISS,	"INVALID")
	field(DISV,	"0")
	field(SDIS,	"Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}
record(longin, "Spk-000CDL:Cryo-PLC-010:PayloadSizeR")
{
	field(DESC,	"The configuread payload size")
	field(DISP,	"1")
	field(PINI,	"YES")
	field(VAL,	"${PAYLOAD_SIZE=-1}")
}
record(calcout, "Spk-000CDL:Cryo-PLC-010:#plcfCheckPayloadSize")
{
	field(INPA,	"Spk-000CDL:Cryo-PLC-010:PayloadSizeR")
	field(INPB,	"Spk-000CDL:Cryo-PLC-010:PayloadSizeFromPLCR")
	field(INPC,	"Spk-000CDL:Cryo-PLC-010:PayloadSizeFromPLCR.STAT")
	field(CALC,	"A == B && C == 0")
	field(OOPT,	"On Change")
	field(OUT,	"Spk-000CDL:Cryo-PLC-010:PayloadSizeCorrectR PP")
}

########################################################
########## EPICS -> PLC comms management data ##########
########################################################
record(ao, "Spk-000CDL:Cryo-PLC-010:CommsHashToPLC")
{
# Maintain compatibility with existing OPIs
	alias("Spk-000CDL:Cryo-PLC-010:iCommsHashToPLC")
	field(DESC,	"The comms hash to PLC")
	field(DISP,	"1")
	field(PINI,	"YES")
	field(VAL,	"457744924")
}
record(ao, "Spk-000CDL:Cryo-PLC-010:CommsHashToPLCS")
{
	field(DESC,	"Sends comms hash to PLC")
	field(SCAN,	"1 second")
	field(DTYP,	"asynInt32")
	field(OUT,	"@asyn($(PLCNAME)write, 0, 100)INT32_BE")
	field(OMSL,	"closed_loop")
	field(DOL,	"Spk-000CDL:Cryo-PLC-010:CommsHashToPLC")
	field(DISV,	"0")
	field(SDIS,	"Spk-000CDL:Cryo-PLC-010:ModbusConnectedR")
}
record(calc, "Spk-000CDL:Cryo-PLC-010:#plcfCalcHeartbeatToPLC")
{
	field(SCAN,	"1 second")
	field(INPA,	"Spk-000CDL:Cryo-PLC-010:#plcfCalcHeartbeatToPLC.VAL")
	field(CALC,	"(A >= 32000)? 0 : A + 1")
	field(FLNK,	"Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(DISV,	"0")
	field(SDIS,	"Spk-000CDL:Cryo-PLC-010:ModbusConnectedR")
}
record(ao, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
{
	field(DESC,	"Sends heartbeat to PLC")
	field(DTYP,	"asynInt32")
	field(OUT,	"@asyn($(PLCNAME)write, 2, 100)")
	field(OMSL,	"closed_loop")
	field(DOL,	"Spk-000CDL:Cryo-PLC-010:#plcfCalcHeartbeatToPLC.VAL")
	field(OIF,	"Full")
	field(DRVL,	"0")
	field(DRVH,	"32000")
	field(DISV,	"0")
	field(SDIS,	"Spk-000CDL:Cryo-PLC-010:ModbusConnectedR")
}
record(longout, "Spk-000CDL:Cryo-PLC-010:#plcfUploadStatToPLCS")
{
	field(DESC,	"Parameter upload status to the PLC")
	field(DTYP,	"asynInt32")
	field(OUT,	"@asyn($(PLCNAME)write, 5, 100)")
	field(DISV,	"0")
	field(SDIS,	"Spk-000CDL:Cryo-PLC-010:ModbusConnectedR")
}

########################################################
########## PLC -> EPICS comms management data ##########
########################################################
# This iS7CommsHash/iMBCommsHash/iIsMBHash magic is needed because moving the HASH to the modbus map
#  does not change the HASH itself so the new SCL is not necessarily downloaded to the PLC
# AND making sure that iS7CommsHash == iMBCommsHash is a good check to make sure that the size of
#  the S7 stream is correctly set
record(ai, "Spk-000CDL:Cryo-PLC-010:S7CommsHash")
{
	field(DESC,	"Comms hash from PLC using S7 stream")
	field(SCAN,	"I/O Intr")
	field(DTYP,	"S7plc")
	field(INP,	"@$(PLCNAME)/0 T=INT32")
	field(FLNK,	"Spk-000CDL:Cryo-PLC-010:CommsHashFromPLCR")
}
record(ai, "Spk-000CDL:Cryo-PLC-010:MBCommsHash")
{
	field(DESC,	"Comms hash from PLC using MB map")
	field(SCAN,	"I/O Intr")
	field(DTYP,	"asynInt32")
	field(INP,	"@asyn($(PLCNAME)read, 3, 100)INT32_BE")
	field(FLNK,	"Spk-000CDL:Cryo-PLC-010:#plcfHasMBHash")
}
record(calcout, "Spk-000CDL:Cryo-PLC-010:#plcfHasMBHash")
{
	field(INPA,	"Spk-000CDL:Cryo-PLC-010:MBCommsHash")
	field(CALC,	"A != 0")
# Make sure to process it even if it is being processed right now
	field(OUT,	"Spk-000CDL:Cryo-PLC-010:CommsHashFromPLCR.PROC CA")
}
record(sel, "Spk-000CDL:Cryo-PLC-010:CommsHashFromPLCR")
{
	field(DESC,	"Comms hash from PLC")
	field(NVL,	"Spk-000CDL:Cryo-PLC-010:#plcfHasMBHash")
	field(INPA,	"Spk-000CDL:Cryo-PLC-010:S7CommsHash MSS")
	field(INPB,	"Spk-000CDL:Cryo-PLC-010:MBCommsHash MSS")
	field(FLNK,	"Spk-000CDL:Cryo-PLC-010:#plcfCheckHash")
}
record(ai, "Spk-000CDL:Cryo-PLC-010:HeartbeatFromPLCR")
{
	field(DESC,	"Heartbeat from PLC")
	field(SCAN,	"I/O Intr")
	field(DTYP,	"S7plc")
	field(INP,	"@$(PLCNAME)/4 T=INT16")
	field(FLNK,	"Spk-000CDL:Cryo-PLC-010:#plcfGotHeartbeat")
	field(DISS,	"INVALID")
	field(DISV,	"0")
	field(SDIS,	"Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}
record(longin, "Spk-000CDL:Cryo-PLC-010:PayloadSizeFromPLCR")
{
	field(DESC,	"Payload size from PLC using MB map")
	field(SCAN,	"I/O Intr")
	field(DTYP,	"asynInt32")
	field(INP,	"@asyn($(PLCNAME)read, 6, 100)INT16")
	field(FLNK,	"Spk-000CDL:Cryo-PLC-010:#plcfCheckPayloadSize")
}


##########
########## Spk-000CDL:SC-FSM-300 ##########
##########
########## CommandWordsLength: 1
########## ParameterWordsLength: 72
########## StatusWordsLength: 73
##########

##############################################################################################

#CONFIGURATION INTERFACE FOR

##############################################################################################
#Author:   ZMa
#Date:	    14-01-2020
#Version:  v1.1
#Note:
##############################################################################################
#Author:   EAsensi
#Date:	    26-01-2021
#Version:  v1.2
#Note: Shortened names for EPICS
##############################################################################################

############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:SC-FSM-300 PLC   -> EPICS status   ##########
##########

#<<<--- add_analog("Controlled_Device",		"INT",  			PV_DESC="Controlled Device")
record(ai, "Spk-000CDL:SC-FSM-300:Controlled_Device")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/20 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Controlled Device")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "Controlled_Device")
}

#<<<--- add_string("Controlled_Dev_Msg",	39,             	PV_NAME="Controlled_Dev_Msg",   	PV_DESC="Controlled Device Message")
record(stringin, "Spk-000CDL:SC-FSM-300:Controlled_Dev_Msg")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/22 T=STRING L=40")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Controlled Device Message")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "Controlled_Dev_Msg")
}

#<<<--- add_analog("OpMode",				"INT",          	PV_DESC="Operation Mode")
record(ai, "Spk-000CDL:SC-FSM-300:OpMode")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/62 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "OpMode")
}

#<<<--- add_string("OpMode_Msg",			39,             	PV_NAME="OpMode_Msg",   			PV_DESC="Operation Mode Message")
record(stringin, "Spk-000CDL:SC-FSM-300:OpMode_Msg")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/64 T=STRING L=40")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Message")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "OpMode_Msg")
}


#<<<--- add_digital("SS_ON",									PV_DESC="StandBy Setpoint On",   	 		PV_ONAM="True",	PV_ZNAM="False")
record(bi, "Spk-000CDL:SC-FSM-300:SS_ON")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/104 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "StandBy Setpoint On")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "SS_ON")
}

#<<<--- add_analog("SS_Setpoint",			"REAL",     		PV_DESC="SS Setpoint",						PV_EGU="%")
record(ai, "Spk-000CDL:SC-FSM-300:SS_Setpoint")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/106 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "SS Setpoint")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "SS_Setpoint")
}


#<<<--- add_analog("Measuring_Device", 		"INT",  			PV_DESC="Measuring Dev Index")
record(ai, "Spk-000CDL:SC-FSM-300:Measuring_Device")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/110 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Measuring Dev Index")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "Measuring_Device")
}

#<<<--- add_string("Measuring_Dev_Msg",		39,             	PV_NAME="Measuring_Dev_Msg",   	PV_DESC="Measuring Device Message")
record(stringin, "Spk-000CDL:SC-FSM-300:Measuring_Dev_Msg")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/112 T=STRING L=40")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Measuring Device Message")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "Measuring_Dev_Msg")
}

#<<<--- add_analog("INT_Setpoint",			"REAL",     		PV_DESC="INT Setpoint")
record(ai, "Spk-000CDL:SC-FSM-300:INT_Setpoint")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/152 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "INT Setpoint")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "INT_Setpoint")
}

#<<<--- add_analog("LowLimit",				"REAL",     		PV_DESC="Low Limit for control")
record(ai, "Spk-000CDL:SC-FSM-300:LowLimit")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/156 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Low Limit for control")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "LowLimit")
}

#<<<--- add_analog("HighLimit",				"REAL",     		PV_DESC="High Limit for Control")
record(ai, "Spk-000CDL:SC-FSM-300:HighLimit")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/160 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "High Limit for Control")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "HighLimit")
}


#<<<--- add_digital("Config_Fault",							PV_DESC="Faulty Set in Configuration",   	PV_ONAM="True",	PV_ZNAM="False")
record(bi, "Spk-000CDL:SC-FSM-300:Config_Fault")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/164 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Faulty Set in Configuration")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "Config_Fault")
}





############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:SC-FSM-300 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Get_Data",             			PV_DESC="CMD: Get Data")
record(bo, "Spk-000CDL:SC-FSM-300:Cmd_Get_Data")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 10, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Get Data")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "Cmd_Get_Data")
}

#<<<--- add_digital("Cmd_Set_Data",		                    PV_DESC="CMD: Set Data")
record(bo, "Spk-000CDL:SC-FSM-300:Cmd_Set_Data")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 10, 0x0002, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Set Data")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "Cmd_Set_Data")
}

#<<<--- add_digital("Cmd_Enable_AutoConf",                          PV_DESC="CMD: Enable Auto Mode Configuration")
record(bo, "Spk-000CDL:SC-FSM-300:Cmd_Enable_AutoConf")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 10, 0x0004, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Enable Auto Mode Configuration")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "Cmd_Enable_AutoConf")
}

#<<<--- add_digital("Cmd_Disable_AutoConf",                          PV_DESC="CMD: Disable Auto Mode Configuration")
record(bo, "Spk-000CDL:SC-FSM-300:Cmd_Disable_AutoConf")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 10, 0x0008, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Disable Auto Mode Configuration")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "Cmd_Disable_AutoConf")
}





############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:SC-FSM-300 EPICS -> PLC parameters ##########
##########

#<<<--- add_analog("P_Ctrld_Dev_Index",	"INT",  		PV_DESC="Controlled Device")
record(ao, "Spk-000CDL:SC-FSM-300:P_Ctrld_Dev_Index")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 11, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Controlled Device")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "P_Ctrld_Dev_Index")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_string("P_Ctrld_Dev_Name",	39,             PV_NAME="P_Controled_Dev_Name",   	PV_DESC="Controlled Device Name")
record(stringout, "Spk-000CDL:SC-FSM-300:P_Controled_Dev_Name")
{
	field(DTYP, "asynOctetWrite")
	field(OUT,  "@asyn($(PLCNAME)write, 12, 100)ZSTRING_HIGH_LOW=40")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Controlled Device Name")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "P_Ctrld_Dev_Name")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_OpMode_Index",		"INT",          	PV_DESC="Operation Mode")
record(ao, "Spk-000CDL:SC-FSM-300:P_OpMode_Index")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 32, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "P_OpMode_Index")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_string("P_OpMode_Name",		39,             PV_NAME="P_OpMode_Name",   	PV_DESC="Operation Mode Param")
record(stringout, "Spk-000CDL:SC-FSM-300:P_OpMode_Name")
{
	field(DTYP, "asynOctetWrite")
	field(OUT,  "@asyn($(PLCNAME)write, 33, 100)ZSTRING_HIGH_LOW=40")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Param")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "P_OpMode_Name")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("P_SS_ON",						PV_DESC="StandBy Setpoint On",   	 		PV_ONAM="True",	PV_ZNAM="False")
record(bo, "Spk-000CDL:SC-FSM-300:P_SS_ON")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 53, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "StandBy Setpoint On")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "P_SS_ON")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_SS_Setpoint",		"REAL",     		PV_DESC="SS Setpoint",						PV_EGU="%")
record(ao, "Spk-000CDL:SC-FSM-300:P_SS_Setpoint")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 54, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "SS Setpoint")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "P_SS_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Meas_Dev_Index", 	"INT",  		PV_DESC="Measuring Device_Index")
record(ao, "Spk-000CDL:SC-FSM-300:P_Meas_Dev_Index")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 56, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Measuring Device_Index")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "P_Meas_Dev_Index")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_string("P_Meas_Dev_Name",	39,             PV_NAME="P_Measuring_Dev_Name",   	PV_DESC="Measuring Device Param")
record(stringout, "Spk-000CDL:SC-FSM-300:P_Measuring_Dev_Name")
{
	field(DTYP, "asynOctetWrite")
	field(OUT,  "@asyn($(PLCNAME)write, 57, 100)ZSTRING_HIGH_LOW=40")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Measuring Device Param")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "P_Meas_Dev_Name")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_INT_Setpoint",		"REAL",     		PV_DESC="INT Setpoint")
record(ao, "Spk-000CDL:SC-FSM-300:P_INT_Setpoint")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 77, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "INT Setpoint")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "P_INT_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_LowLimit",		"REAL",     		PV_DESC="Low Limit for control")
record(ao, "Spk-000CDL:SC-FSM-300:P_LowLimit")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 79, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Low Limit for control")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "P_LowLimit")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_HighLimit",		"REAL",     		PV_DESC="High Limit for Control")
record(ao, "Spk-000CDL:SC-FSM-300:P_HighLimit")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 81, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "High Limit for Control")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "P_HighLimit")
	info(autosaveFields_pass0, "VAL")
}




record(fanout, "Spk-000CDL:SC-FSM-300:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:SC-FSM-300:P_Ctrld_Dev_Index")
	field(LNK2, "Spk-000CDL:SC-FSM-300:P_Controled_Dev_Name")
	field(LNK3, "Spk-000CDL:SC-FSM-300:P_OpMode_Index")
	field(LNK4, "Spk-000CDL:SC-FSM-300:P_OpMode_Name")
	field(LNK5, "Spk-000CDL:SC-FSM-300:P_SS_ON")
	field(LNK6, "Spk-000CDL:SC-FSM-300:P_SS_Setpoint")
	field(LNK7, "Spk-000CDL:SC-FSM-300:P_Meas_Dev_Index")
	field(LNK8, "Spk-000CDL:SC-FSM-300:P_Measuring_Dev_Name")
	field(LNK9, "Spk-000CDL:SC-FSM-300:P_INT_Setpoint")
	field(LNKA, "Spk-000CDL:SC-FSM-300:P_LowLimit")
	field(LNKB, "Spk-000CDL:SC-FSM-300:P_HighLimit")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:SC-FSM-400 ##########
##########
########## CommandWordsLength: 1
########## StatusWordsLength: 8
##########

##############################################################################
#Type:     Cryo Systems
#Project:  C3S
#DevType:  C3S-:CRYO: DIAG - Diganostics
#Author:	Madi Zoltan
#Date:		05-10-2019
#Version:  v3.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:SC-FSM-400 PLC   -> EPICS status   ##########
##########

#Local modules connection state
#<<<--- add_digital("PS_Connected",                          PV_DESC="LM Siemens PS connected",      PV_ONAM="Connected",        PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:PS_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/166 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens PS connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "PS_Connected")
}

#<<<--- add_digital("CPU_Connected",                         PV_DESC="LM Siemens CPU connected",      PV_ONAM="Connected",        PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CPU_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/166 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens CPU connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CPU_Connected")
}

#<<<--- add_digital("KF2_Connected",                         PV_DESC="LM Siemens KF3 connected",      PV_ONAM="Connected",        PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:KF2_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/166 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF3 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF2_Connected")
}

#<<<--- add_digital("KF3_Connected",                         PV_DESC="LM Siemens KF3 connected",      PV_ONAM="Connected",        PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:KF3_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/166 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF3 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF3_Connected")
}

#<<<--- add_digital("KF4_Connected",                         PV_DESC="LM Siemens KF4 connected",      PV_ONAM="Connected",        PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:KF4_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/166 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF4 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF4_Connected")
}

#<<<--- add_digital("KF5_Connected",                         PV_DESC="LM Siemens KF5 connected",      PV_ONAM="Connected",        PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:KF5_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/166 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF5 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF5_Connected")
}

#<<<--- add_digital("KF6_Connected",                         PV_DESC="LM Siemens KF6 connected",      PV_ONAM="Connected",        PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:KF6_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/166 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF6 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF6_Connected")
}

#<<<--- add_digital("KF7_Connected",                         PV_DESC="LM Siemens KF7 connected",      PV_ONAM="Connected",        PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:KF7_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/166 T=UINT16 B=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF7 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF7_Connected")
}

#<<<--- add_digital("KF8_Connected",                         PV_DESC="LM Siemens KF8 connected",      PV_ONAM="Connected",        PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:KF8_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/166 T=UINT16 B=8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF8 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF8_Connected")
}

#<<<--- add_digital("KF9_Connected",                         PV_DESC="LM Siemens KF9 connected",      PV_ONAM="Connected",        PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:KF9_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/166 T=UINT16 B=9")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF9 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF9_Connected")
}

#<<<--- add_digital("KF10_Connected",                        PV_DESC="LM Siemens KF10 connected",     PV_ONAM="Connected",        PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:KF10_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/166 T=UINT16 B=10")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF10 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF10_Connected")
}

#<<<--- add_digital("KF11_Connected",                        PV_DESC="LM Siemens KF11 connected",     PV_ONAM="Connected",        PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:KF11_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/166 T=UINT16 B=11")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF11 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF11_Connected")
}

#<<<--- add_digital("KF12_Connected",                        PV_DESC="LM Siemens KF12 connected",     PV_ONAM="Connected",        PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:KF12_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/166 T=UINT16 B=12")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF12 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF12_Connected")
}

#<<<--- add_digital("KF13_Connected",                        PV_DESC="LM Siemens KF12 connected",     PV_ONAM="Connected",        PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:KF13_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/166 T=UINT16 B=13")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF12 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF13_Connected")
}

#<<<--- add_digital("KF14_Connected",                        PV_DESC="LM Siemens KF12 connected",     PV_ONAM="Connected",        PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:KF14_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/166 T=UINT16 B=14")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF12 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF14_Connected")
}

#<<<--- add_digital("KF15_Connected",                        PV_DESC="LM Siemens KF12 connected",     PV_ONAM="Connected",        PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:KF15_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/166 T=UINT16 B=15")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF12 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF15_Connected")
}


#RIO1 connection state
#<<<--- add_digital("RIO1_Connected",                           PV_DESC="RIO1 connected",                    PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/168 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_Connected")
}

#<<<--- add_digital("RIO1_KF2_Connected",                       PV_DESC="RIO1 KF2 connected",                PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF2_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/168 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF2 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF2_Connected")
}

#<<<--- add_digital("RIO1_KF3_Connected",                       PV_DESC="RIO1 KF3 connected",                PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF3_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/168 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF3 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF3_Connected")
}

#<<<--- add_digital("RIO1_KF4_Connected",                       PV_DESC="RIO1 KF4 connected",                PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF4_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/168 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF4 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF4_Connected")
}

#<<<--- add_digital("RIO1_KF5_Connected",                       PV_DESC="RIO1 KF5 connected",                PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF5_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/168 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF5 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF5_Connected")
}

#<<<--- add_digital("RIO1_KF6_Connected",                       PV_DESC="RIO1 KF6 connected",                PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF6_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/168 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF6 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF6_Connected")
}

#<<<--- add_digital("RIO1_KF7_Connected",                       PV_DESC="RIO1 KF7 connected",                PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF7_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/168 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF7 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF7_Connected")
}

#<<<--- add_digital("RIO1_KF8_Connected",                       PV_DESC="RIO1 KF8 connected",                PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF8_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/168 T=UINT16 B=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF8 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF8_Connected")
}

#<<<--- add_digital("RIO1_KF9_Connected",                       PV_DESC="RIO1 KF9 connected",                PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF9_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/168 T=UINT16 B=8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF9 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF9_Connected")
}

#<<<--- add_digital("RIO1_KF10_Connected",                      PV_DESC="RIO1 KF10 connected",               PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF10_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/168 T=UINT16 B=9")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF10 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF10_Connected")
}

#<<<--- add_digital("RIO1_KF11_Connected",                      PV_DESC="RIO1 KF11 connected",               PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF11_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/168 T=UINT16 B=10")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF11 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF11_Connected")
}

#<<<--- add_digital("RIO1_KF12_Connected",                      PV_DESC="RIO1 KF12 connected",               PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF12_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/168 T=UINT16 B=11")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF12 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF12_Connected")
}

#<<<--- add_digital("RIO1_KF13_Connected",                      PV_DESC="RIO1 KF13 connected",               PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF13_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/168 T=UINT16 B=12")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF13 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF13_Connected")
}

#<<<--- add_digital("RIO1_KF14_Connected",                      PV_DESC="RIO1 KF14 connected",               PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF14_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/168 T=UINT16 B=13")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF14 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF14_Connected")
}

#<<<--- add_digital("RIO1_KF15_Connected",                      PV_DESC="RIO1 KF15 connected",               PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF15_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/168 T=UINT16 B=14")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF15 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF15_Connected")
}


#Lakeshore connection state
#<<<--- add_digital("LKSR01_Connected",						 PV_DESC="Lakeshore 01 connected",               PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:LKSR01_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/168 T=UINT16 B=15")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Lakeshore 01 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "LKSR01_Connected")
}

#<<<--- add_digital("LKSR02_Connected",						 PV_DESC="Lakeshore 02 connected",               PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:LKSR02_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/170 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Lakeshore 02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "LKSR02_Connected")
}

#<<<--- add_digital("LKSR03_Connected",						 PV_DESC="Lakeshore 03 connected",               PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:LKSR03_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/170 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Lakeshore 03 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "LKSR03_Connected")
}

#<<<--- add_digital("LKSR04_Connected",						 PV_DESC="Lakeshore 04 connected",               PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:LKSR04_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/170 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Lakeshore 04 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "LKSR04_Connected")
}

#<<<--- add_digital("LKSR05_Connected",						 PV_DESC="Lakeshore 05 connected",               PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:LKSR05_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/170 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Lakeshore 05 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "LKSR05_Connected")
}

#<<<--- add_digital("LKSR06_Connected",						 PV_DESC="Lakeshore 06 connected",               PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:LKSR06_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/170 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Lakeshore 06 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "LKSR06_Connected")
}

#<<<--- add_digital("LKSR07_Connected",						 PV_DESC="Lakeshore 07 connected",               PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:LKSR07_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/170 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Lakeshore 07 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "LKSR07_Connected")
}

#<<<--- add_digital("LKSR08_Connected",						 PV_DESC="Lakeshore 08 connected",               PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:LKSR08_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/170 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Lakeshore 08 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "LKSR08_Connected")
}

#<<<--- add_digital("LKSR09_Connected",						 PV_DESC="Lakeshore 09 connected",               PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:LKSR09_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/170 T=UINT16 B=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Lakeshore 09 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "LKSR09_Connected")
}

#<<<--- add_digital("LKSR10_Connected",						 PV_DESC="Lakeshore 10 connected",               PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:LKSR10_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/170 T=UINT16 B=8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Lakeshore 10 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "LKSR10_Connected")
}


#CV connection state
#<<<--- add_digital("CV01_Connected",                            PV_DESC="CV01 connected",                    PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV01_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/170 T=UINT16 B=9")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV01 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV01_Connected")
}

#<<<--- add_digital("CV02_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV02_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/170 T=UINT16 B=10")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV02_Connected")
}

#<<<--- add_digital("CV03_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV03_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/170 T=UINT16 B=11")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV03_Connected")
}

#<<<--- add_digital("CV04_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV04_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/170 T=UINT16 B=12")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV04_Connected")
}

#<<<--- add_digital("CV05_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV05_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/170 T=UINT16 B=13")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV05_Connected")
}

#<<<--- add_digital("CV06_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV06_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/170 T=UINT16 B=14")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV06_Connected")
}

#<<<--- add_digital("CV11_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV11_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/170 T=UINT16 B=15")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV11_Connected")
}

#<<<--- add_digital("CV12_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV12_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/172 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV12_Connected")
}

#<<<--- add_digital("CV21_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV21_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/172 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV21_Connected")
}

#<<<--- add_digital("CV22_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV22_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/172 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV22_Connected")
}

#<<<--- add_digital("CV32_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV32_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/172 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV32_Connected")
}

#<<<--- add_digital("CV42_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV42_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/172 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV42_Connected")
}

#<<<--- add_digital("CV60_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV60_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/172 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV60_Connected")
}

#<<<--- add_digital("CV61_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV61_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/172 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV61_Connected")
}

#<<<--- add_digital("CV62_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV62_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/172 T=UINT16 B=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV62_Connected")
}

#<<<--- add_digital("CV63_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV63_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/172 T=UINT16 B=8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV63_Connected")
}

#<<<--- add_digital("CV71_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV71_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/172 T=UINT16 B=9")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV71_Connected")
}

#<<<--- add_digital("CV80_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV80_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/172 T=UINT16 B=10")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV80_Connected")
}

#<<<--- add_digital("CV81_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV81_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/172 T=UINT16 B=11")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV81_Connected")
}

#<<<--- add_digital("CV91_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV91_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/172 T=UINT16 B=12")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV91_Connected")
}

#<<<--- add_digital("CV92_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV92_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/172 T=UINT16 B=13")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV92_Connected")
}

#<<<--- add_digital("CV93_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV93_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/172 T=UINT16 B=14")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV93_Connected")
}

#<<<--- add_digital("CV94_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV94_Connected")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/172 T=UINT16 B=15")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV94_Connected")
}


#ErrorStatus

#Local modules error state
#<<<--- add_digital("PS_Status",                          PV_DESC="LM Siemens PS state",       PV_ONAM="OK",        PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:PS_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/174 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens PS state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "PS_Status")
}

#<<<--- add_digital("CPU_Status",                         PV_DESC="LM Siemens CPU state",      PV_ONAM="OK",        PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CPU_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/174 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens CPU state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CPU_Status")
}

#<<<--- add_digital("KF2_Status",                         PV_DESC="LM Siemens KF3 state",      PV_ONAM="OK",        PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:KF2_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/174 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF3 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF2_Status")
}

#<<<--- add_digital("KF3_Status",                         PV_DESC="LM Siemens KF3 state",      PV_ONAM="OK",        PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:KF3_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/174 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF3 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF3_Status")
}

#<<<--- add_digital("KF4_Status",                         PV_DESC="LM Siemens KF4 state",      PV_ONAM="OK",        PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:KF4_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/174 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF4 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF4_Status")
}

#<<<--- add_digital("KF5_Status",                         PV_DESC="LM Siemens KF5 state",      PV_ONAM="OK",        PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:KF5_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/174 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF5 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF5_Status")
}

#<<<--- add_digital("KF6_Status",                         PV_DESC="LM Siemens KF6 state",      PV_ONAM="OK",        PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:KF6_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/174 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF6 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF6_Status")
}

#<<<--- add_digital("KF7_Status",                         PV_DESC="LM Siemens KF7 state",      PV_ONAM="OK",        PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:KF7_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/174 T=UINT16 B=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF7 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF7_Status")
}

#<<<--- add_digital("KF8_Status",                         PV_DESC="LM Siemens KF8 state",      PV_ONAM="OK",        PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:KF8_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/174 T=UINT16 B=8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF8 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF8_Status")
}

#<<<--- add_digital("KF9_Status",                         PV_DESC="LM Siemens KF9 state",      PV_ONAM="OK",        PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:KF9_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/174 T=UINT16 B=9")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF9 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF9_Status")
}

#<<<--- add_digital("KF10_Status",                        PV_DESC="LM Siemens KF10 state",     PV_ONAM="OK",        PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:KF10_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/174 T=UINT16 B=10")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF10 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF10_Status")
}

#<<<--- add_digital("KF11_Status",                        PV_DESC="LM Siemens KF11 state",     PV_ONAM="OK",        PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:KF11_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/174 T=UINT16 B=11")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF11 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF11_Status")
}

#<<<--- add_digital("KF12_Status",                        PV_DESC="LM Siemens KF12 state",     PV_ONAM="OK",        PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:KF12_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/174 T=UINT16 B=12")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF12 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF12_Status")
}

#<<<--- add_digital("KF13_Status",                        PV_DESC="LM Siemens KF12 state",     PV_ONAM="OK",        PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:KF13_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/174 T=UINT16 B=13")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF12 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF13_Status")
}

#<<<--- add_digital("KF14_Status",                        PV_DESC="LM Siemens KF12 state",     PV_ONAM="OK",        PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:KF14_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/174 T=UINT16 B=14")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF12 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF14_Status")
}

#<<<--- add_digital("KF15_Status",                        PV_DESC="LM Siemens KF12 state",     PV_ONAM="OK",        PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:KF15_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/174 T=UINT16 B=15")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF12 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF15_Status")
}


#RIO1 error state
#<<<--- add_digital("RIO1_Status",                           PV_DESC="RIO1 state",                    PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/176 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_Status")
}

#<<<--- add_digital("RIO1_KF2_Status",                       PV_DESC="RIO1 KF2 state",                PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF2_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/176 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF2 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF2_Status")
}

#<<<--- add_digital("RIO1_KF3_Status",                       PV_DESC="RIO1 KF3 state",                PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF3_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/176 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF3 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF3_Status")
}

#<<<--- add_digital("RIO1_KF4_Status",                       PV_DESC="RIO1 KF4 state",                PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF4_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/176 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF4 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF4_Status")
}

#<<<--- add_digital("RIO1_KF5_Status",                       PV_DESC="RIO1 KF5 state",                PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF5_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/176 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF5 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF5_Status")
}

#<<<--- add_digital("RIO1_KF6_Status",                       PV_DESC="RIO1 KF6 state",                PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF6_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/176 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF6 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF6_Status")
}

#<<<--- add_digital("RIO1_KF7_Status",                       PV_DESC="RIO1 KF7 state",                PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF7_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/176 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF7 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF7_Status")
}

#<<<--- add_digital("RIO1_KF8_Status",                       PV_DESC="RIO1 KF8 state",                PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF8_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/176 T=UINT16 B=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF8 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF8_Status")
}

#<<<--- add_digital("RIO1_KF9_Status",                       PV_DESC="RIO1 KF9 state",                PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF9_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/176 T=UINT16 B=8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF9 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF9_Status")
}

#<<<--- add_digital("RIO1_KF10_Status",                      PV_DESC="RIO1 KF10 state",               PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF10_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/176 T=UINT16 B=9")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF10 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF10_Status")
}

#<<<--- add_digital("RIO1_KF11_Status",                      PV_DESC="RIO1 KF11 state",               PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF11_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/176 T=UINT16 B=10")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF11 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF11_Status")
}

#<<<--- add_digital("RIO1_KF12_Status",                      PV_DESC="RIO1 KF12 state",               PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF12_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/176 T=UINT16 B=11")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF12 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF12_Status")
}

#<<<--- add_digital("RIO1_KF13_Status",                      PV_DESC="RIO1 KF13 state",               PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF13_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/176 T=UINT16 B=12")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF13 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF13_Status")
}

#<<<--- add_digital("RIO1_KF14_Status",                      PV_DESC="RIO1 KF14 state",               PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF14_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/176 T=UINT16 B=13")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF14 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF14_Status")
}

#<<<--- add_digital("RIO1_KF15_Status",                      PV_DESC="RIO1 KF15 state",               PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF15_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/176 T=UINT16 B=14")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF15 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF15_Status")
}


#Lakeshore error state
#<<<--- add_digital("LKSR01_Status",						 PV_DESC="Lakeshore 01 state",               PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:LKSR01_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/176 T=UINT16 B=15")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Lakeshore 01 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "LKSR01_Status")
}

#<<<--- add_digital("LKSR02_Status",						 PV_DESC="Lakeshore 02 state",               PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:LKSR02_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/178 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Lakeshore 02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "LKSR02_Status")
}

#<<<--- add_digital("LKSR03_Status",						 PV_DESC="Lakeshore 03 state",               PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:LKSR03_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/178 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Lakeshore 03 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "LKSR03_Status")
}

#<<<--- add_digital("LKSR04_Status",						 PV_DESC="Lakeshore 04 state",               PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:LKSR04_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/178 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Lakeshore 04 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "LKSR04_Status")
}

#<<<--- add_digital("LKSR05_Status",						 PV_DESC="Lakeshore 05 state",               PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:LKSR05_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/178 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Lakeshore 05 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "LKSR05_Status")
}

#<<<--- add_digital("LKSR06_Status",						 PV_DESC="Lakeshore 06 state",               PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:LKSR06_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/178 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Lakeshore 06 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "LKSR06_Status")
}

#<<<--- add_digital("LKSR07_Status",						 PV_DESC="Lakeshore 07 state",               PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:LKSR07_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/178 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Lakeshore 07 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "LKSR07_Status")
}

#<<<--- add_digital("LKSR08_Status",						 PV_DESC="Lakeshore 08 state",               PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:LKSR08_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/178 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Lakeshore 08 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "LKSR08_Status")
}

#<<<--- add_digital("LKSR09_Status",						 PV_DESC="Lakeshore 09 state",               PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:LKSR09_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/178 T=UINT16 B=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Lakeshore 09 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "LKSR09_Status")
}

#<<<--- add_digital("LKSR10_Status",						 PV_DESC="Lakeshore 10 state",               PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:LKSR10_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/178 T=UINT16 B=8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Lakeshore 10 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "LKSR10_Status")
}


#CV error state
#<<<--- add_digital("CV01_Status",                           PV_DESC="CV01 state",                    PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV01_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/178 T=UINT16 B=9")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV01 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV01_Status")
}

#<<<--- add_digital("CV02_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV02_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/178 T=UINT16 B=10")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV02_Status")
}

#<<<--- add_digital("CV03_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV03_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/178 T=UINT16 B=11")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV03_Status")
}

#<<<--- add_digital("CV04_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV04_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/178 T=UINT16 B=12")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV04_Status")
}

#<<<--- add_digital("CV05_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV05_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/178 T=UINT16 B=13")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV05_Status")
}

#<<<--- add_digital("CV06_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV06_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/178 T=UINT16 B=14")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV06_Status")
}

#<<<--- add_digital("CV11_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV11_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/178 T=UINT16 B=15")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV11_Status")
}

#<<<--- add_digital("CV12_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV12_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/180 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV12_Status")
}

#<<<--- add_digital("CV21_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV21_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/180 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV21_Status")
}

#<<<--- add_digital("CV22_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV22_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/180 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV22_Status")
}

#<<<--- add_digital("CV32_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV32_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/180 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV32_Status")
}

#<<<--- add_digital("CV42_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV42_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/180 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV42_Status")
}

#<<<--- add_digital("CV60_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV60_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/180 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV60_Status")
}

#<<<--- add_digital("CV61_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV61_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/180 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV61_Status")
}

#<<<--- add_digital("CV62_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV62_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/180 T=UINT16 B=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV62_Status")
}

#<<<--- add_digital("CV63_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV63_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/180 T=UINT16 B=8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV63_Status")
}

#<<<--- add_digital("CV71_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV71_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/180 T=UINT16 B=9")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV71_Status")
}

#<<<--- add_digital("CV80_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV80_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/180 T=UINT16 B=10")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV80_Status")
}

#<<<--- add_digital("CV81_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV81_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/180 T=UINT16 B=11")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV81_Status")
}

#<<<--- add_digital("CV91_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV91_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/180 T=UINT16 B=12")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV91_Status")
}

#<<<--- add_digital("CV92_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV92_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/180 T=UINT16 B=13")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV92_Status")
}

#<<<--- add_digital("CV93_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV93_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/180 T=UINT16 B=14")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV93_Status")
}

#<<<--- add_digital("CV94_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV94_Status")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/180 T=UINT16 B=15")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV94_Status")
}


############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:SC-FSM-400 EPICS -> PLC commands   ##########
##########

#<<<--- add_digital("Cmd_AckAlarm",                          PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:SC-FSM-400:Cmd_AckAlarm")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 83, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "Cmd_AckAlarm")
}






##########
########## Spk-000CDL:SC-FSM-500 ##########
##########
########## CommandWordsLength: 1
########## StatusWordsLength: 1
##########

##############################################################################
#Type:     Cryo Systems
#Project:  C3S
#DevType:  C3S-:CRYO: INTLCK - Interlocks
#Author:	Fenyvesi Gabor
#Date:		18-11-2019
#Version:  v1.0


############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:SC-FSM-500 PLC   -> EPICS status   ##########
##########

#Vacuum
#<<<--- add_digital("BeamVacuumOK",							PV_DESC="Beam Vacuum status",				PV_ONAM="OK",			PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-500:BeamVacuumOK")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/182 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Beam Vacuum status")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-500_iDB")
	info("plc_variable", "BeamVacuumOK")
}

#<<<--- add_digital("InsulationVacuumOK",					PV_DESC="Insulation Vacuum status",			PV_ONAM="OK",			PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-500:InsulationVacuumOK")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/182 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Insulation Vacuum status")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-500_iDB")
	info("plc_variable", "InsulationVacuumOK")
}


#PSS
#<<<--- add_digital("PressureHeGuardOK",					PV_DESC="Pressure of He-Guard status",		PV_ONAM="OK",			PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-500:PressureHeGuardOK")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/182 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Pressure of He-Guard status")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-500_iDB")
	info("plc_variable", "PressureHeGuardOK")
}


#RF
#<<<--- add_digital("RFON",									PV_DESC="RF state",							PV_ONAM="ON",			PV_ZNAM="OFF")
record(bi, "Spk-000CDL:SC-FSM-500:RFON")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/182 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RF state")
	field(ONAM, "ON")
	field(ZNAM, "OFF")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-500_iDB")
	info("plc_variable", "RFON")
}


#Water
#<<<--- add_digital("WaterOK",								PV_DESC="Water status",						PV_ONAM="OK",			PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-500:WaterOK")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/182 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Water status")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-500_iDB")
	info("plc_variable", "WaterOK")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:SC-FSM-500 EPICS -> PLC commands   ##########
##########

#<<<--- add_digital("cmd_RFEnable",							PV_DESC="CMD: Enable RF")
record(bo, "Spk-000CDL:SC-FSM-500:cmd_RFEnable")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 84, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Enable RF")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-500_iDB")
	info("plc_variable", "cmd_RFEnable")
}

#<<<--- add_digital("cmd_RFDisable",						PV_DESC="CMD: Enable RF")
record(bo, "Spk-000CDL:SC-FSM-500:cmd_RFDisable")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 84, 0x0002, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Enable RF")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-500_iDB")
	info("plc_variable", "cmd_RFDisable")
}




##########
########## Spk-000CDL:SC-FSM-600 ##########
##########
########## CommandWordsLength: 1
########## StatusWordsLength: 25
##########

##############################################################################################

#MODE SELECTION INTERFACE

##############################################################################################
#Author:   ZMa
#Date:	    14-01-2020
#Version:  v1.1
#Note:
##############################################################################################
#Author:   EAsensi
#Date:	    26-01-2021
#Version:  v1.2
#Note: Shortened names for EPICS
##############################################################################################

############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:SC-FSM-600 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OM_Undefined",				PV_DESC="Operation Mode Undefined",   	 		PV_ONAM="True",	PV_ZNAM="False")
record(bi, "Spk-000CDL:SC-FSM-600:OM_Undefined")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/184 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Undefined")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "OM_Undefined")
}

#<<<--- add_digital("OM_Stopped", 	            PV_DESC="Operation Mode Stopped",	    		PV_ONAM="True",	PV_ZNAM="False")
record(bi, "Spk-000CDL:SC-FSM-600:OM_Stopped")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/184 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Stopped")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "OM_Stopped")
}

#<<<--- add_digital("OM_Purging",             	PV_DESC="Operation Mode Purging",      			PV_ONAM="True",	PV_ZNAM="False")
record(bi, "Spk-000CDL:SC-FSM-600:OM_Purging")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/184 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Purging")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "OM_Purging")
}

#<<<--- add_digital("OM_Ready",             	PV_DESC="Operation Mode Ready",      			PV_ONAM="True",	PV_ZNAM="False")
record(bi, "Spk-000CDL:SC-FSM-600:OM_Ready")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/184 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Ready")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "OM_Ready")
}

#<<<--- add_digital("OM_CoolDownTo4K",         	PV_DESC="Operation Mode Cool Down To 4K",   	PV_ONAM="True",	PV_ZNAM="False")
record(bi, "Spk-000CDL:SC-FSM-600:OM_CoolDownTo4K")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/184 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Cool Down To 4K")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "OM_CoolDownTo4K")
}

#<<<--- add_digital("OM_StandBy4K",            	PV_DESC="Operation Mode Stand By 4K",      		PV_ONAM="True",	PV_ZNAM="False")
record(bi, "Spk-000CDL:SC-FSM-600:OM_StandBy4K")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/184 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Stand By 4K")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "OM_StandBy4K")
}

#<<<--- add_digital("OM_CoolDownTo2K",        	PV_DESC="Operation Mode Cool Down To 2K",   	PV_ONAM="True",	PV_ZNAM="False")
record(bi, "Spk-000CDL:SC-FSM-600:OM_CoolDownTo2K")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/184 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Cool Down To 2K")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "OM_CoolDownTo2K")
}

#<<<--- add_digital("OM_StandBy2K",            	PV_DESC="Operation Mode Stand By 2K",      		PV_ONAM="True",	PV_ZNAM="False")
record(bi, "Spk-000CDL:SC-FSM-600:OM_StandBy2K")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/184 T=UINT16 B=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Stand By 2K")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "OM_StandBy2K")
}

#<<<--- add_digital("OM_Nominal2K_RF",        	PV_DESC="Operation Mode Nominal 2K + RF",   	PV_ONAM="True",	PV_ZNAM="False")
record(bi, "Spk-000CDL:SC-FSM-600:OM_Nominal2K_RF")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/184 T=UINT16 B=8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Nominal 2K + RF")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "OM_Nominal2K_RF")
}

#<<<--- add_digital("OM_WarmUpTo4K",          	PV_DESC="Operation Mode Warm Up To 4K",     	PV_ONAM="True",	PV_ZNAM="False")
record(bi, "Spk-000CDL:SC-FSM-600:OM_WarmUpTo4K")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/184 T=UINT16 B=9")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Warm Up To 4K")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "OM_WarmUpTo4K")
}

#<<<--- add_digital("OM_WarmUpTo300K",        	PV_DESC="Operation Mode Warm Up To 300K",   	PV_ONAM="True",	PV_ZNAM="False")
record(bi, "Spk-000CDL:SC-FSM-600:OM_WarmUpTo300K")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/184 T=UINT16 B=10")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Warm Up To 300K")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "OM_WarmUpTo300K")
}

#<<<--- add_digital("OM_WarmUpTo80K",         	PV_DESC="Operation Mode Warm Up To 80K",    	PV_ONAM="True",	PV_ZNAM="False")
record(bi, "Spk-000CDL:SC-FSM-600:OM_WarmUpTo80K")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/184 T=UINT16 B=11")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Warm Up To 80K")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "OM_WarmUpTo80K")
}

#<<<--- add_digital("OM_StandBy80K",          	PV_DESC="Operation Mode Stand By 80K",      	PV_ONAM="True",	PV_ZNAM="False")
record(bi, "Spk-000CDL:SC-FSM-600:OM_StandBy80K")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/184 T=UINT16 B=12")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Stand By 80K")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "OM_StandBy80K")
}

#<<<--- add_digital("OM_CoolDown80KTo4K",     	PV_DESC="Operation Mode Cool Down 80K To 4K",   PV_ONAM="True",	PV_ZNAM="False")
record(bi, "Spk-000CDL:SC-FSM-600:OM_CoolDown80KTo4K")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/184 T=UINT16 B=13")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Cool Down 80K To 4K")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "OM_CoolDown80KTo4K")
}

#<<<--- add_digital("OM_WarmUp80KTo300K",     	PV_DESC="Operation Mode Warm Up 80K To 300K",   PV_ONAM="True",	PV_ZNAM="False")
record(bi, "Spk-000CDL:SC-FSM-600:OM_WarmUp80KTo300K")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/184 T=UINT16 B=14")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Warm Up 80K To 300K")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "OM_WarmUp80KTo300K")
}

#<<<--- add_digital("OM_CMWarmUpTo300K",      	PV_DESC="Operation Mode CM Warm Up To 300K",    PV_ONAM="True",	PV_ZNAM="False")
record(bi, "Spk-000CDL:SC-FSM-600:OM_CMWarmUpTo300K")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/184 T=UINT16 B=15")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode CM Warm Up To 300K")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "OM_CMWarmUpTo300K")
}

#<<<--- add_digital("OM_CMCoolDownTo4K",      	PV_DESC="Operation Mode CM Cool Down To 4K",    PV_ONAM="True",	PV_ZNAM="False")
record(bi, "Spk-000CDL:SC-FSM-600:OM_CMCoolDownTo4K")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/186 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode CM Cool Down To 4K")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "OM_CMCoolDownTo4K")
}

#<<<--- add_digital("OM_Starting",      		PV_DESC="Operation Mode CM Cool Down To 4K",    PV_ONAM="True",	PV_ZNAM="False")
record(bi, "Spk-000CDL:SC-FSM-600:OM_Starting")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/186 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode CM Cool Down To 4K")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "OM_Starting")
}


#<<<--- add_analog("OM_State",	"INT",          PV_DESC="State of Operation")
record(ai, "Spk-000CDL:SC-FSM-600:OM_State")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/188 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "State of Operation")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "OM_State")
}

#<<<--- add_string("OM_Msg",	39,             PV_NAME="OM_Msg",   PV_DESC="Operation Mode Message")
record(stringin, "Spk-000CDL:SC-FSM-600:OM_Msg")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/190 T=STRING L=40")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Message")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "OM_Msg")
}

#<<<--- add_time("TimeInCurrentMode",                                PV_DESC="TimeInCurrentMode")
record(ai, "Spk-000CDL:SC-FSM-600:TimeInCurrentMode")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/230 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "TimeInCurrentMode")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "TimeInCurrentMode")
}




############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:SC-FSM-600 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Stop_system",             			PV_DESC="CMD: Stop System")
record(bo, "Spk-000CDL:SC-FSM-600:Cmd_Stop_system")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 85, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Stop System")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "Cmd_Stop_system")
}

#<<<--- add_digital("Cmd_Start_system",                     PV_DESC="CMD: Start System")
record(bo, "Spk-000CDL:SC-FSM-600:Cmd_Start_system")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 85, 0x0002, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Start System")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "Cmd_Start_system")
}

#<<<--- add_digital("Cmd_Stand_by_4K",                      PV_DESC="CMD: Stand By 4K")
record(bo, "Spk-000CDL:SC-FSM-600:Cmd_Stand_by_4K")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 85, 0x0004, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Stand By 4K")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "Cmd_Stand_by_4K")
}

#<<<--- add_digital("Cmd_Stand_by_2K", 						PV_DESC="CMD: Stand By 2K")
record(bo, "Spk-000CDL:SC-FSM-600:Cmd_Stand_by_2K")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 85, 0x0008, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Stand By 2K")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "Cmd_Stand_by_2K")
}

#<<<--- add_digital("Cmd_Nominal_2K_RF", 					PV_DESC="CMD: Nominal 2K + RF")
record(bo, "Spk-000CDL:SC-FSM-600:Cmd_Nominal_2K_RF")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 85, 0x0010, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Nominal 2K + RF")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "Cmd_Nominal_2K_RF")
}

#<<<--- add_digital("Cmd_Stand_by_300K", 					PV_DESC="CMD: Stand By 300K")
record(bo, "Spk-000CDL:SC-FSM-600:Cmd_Stand_by_300K")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 85, 0x0020, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Stand By 300K")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "Cmd_Stand_by_300K")
}

#<<<--- add_digital("Cmd_Stand_by_80K", 					PV_DESC="CMD: Stand By 80K")
record(bo, "Spk-000CDL:SC-FSM-600:Cmd_Stand_by_80K")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 85, 0x0040, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Stand By 80K")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "Cmd_Stand_by_80K")
}

#<<<--- add_digital("Cmd_Reset",							PV_DESC="CMD: Reset")
record(bo, "Spk-000CDL:SC-FSM-600:Cmd_Reset")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 85, 0x0080, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Reset")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "Cmd_Reset")
}




############################
#PARAMETER BLOCK
############################
#az most nincs



##########
########## Spk-000CDL:Cryo-PID-91 ##########
##########
########## CommandWordsLength: 2
########## ParameterWordsLength: 24
########## StatusWordsLength: 90
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                                 PID - PID Control                                        ##
##                                                                                          ##
##                                                                                          ##
############################           Version: 1.2           ################################
#Author:	Zoltan Madi
#Date:		13-12-2019
#Version:  v1.2
#Changes:  Added "MeasValue_Msg"
############################           Version: 1.1           ################################
#Author:	Johannes Kazantzidis
#Date:		13-12-2019
#Version:  v1.1
#Changes:  Added alarm signal "Discrepancy_Error"
############################           Version: 1.0           ################################
#Author:	Miklos Boros
#Date:		01-09-2019
#Version:  v1.0
#Changes:  First release and alarm signal "Discrepancy_Error"
##############################################################################################


############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-PID-91 PLC   -> EPICS status   ##########
##########


#Operation modes
#<<<--- add_digital("OpMode_Auto",             PV_DESC="Operation Mode Auto",       PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-91:OpMode_Auto")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/234 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "OpMode_Auto")
}

#<<<--- add_digital("OpMode_Manual",           PV_DESC="Operation Mode Manual",     PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-91:OpMode_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/234 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "OpMode_Manual")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",     PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-91:OpMode_Forced")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/234 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "OpMode_Forced")
}

#<<<--- add_analog("PID_Color",                "INT",                               PV_DESC="BlockIcon color")
record(ai, "Spk-000CDL:Cryo-PID-91:PID_Color")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/236 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "BlockIcon color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "PID_Color")
}



#PID states
#<<<--- add_analog("LMN",                      "REAL",                              PV_DESC="Manipulated Value",             PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-91:LMN")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/238 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated Value")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "LMN")
}

#<<<--- add_analog("LMN_P",                    "REAL",                              PV_DESC="Manipulated Value P-Action")
record(ai, "Spk-000CDL:Cryo-PID-91:LMN_P")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/242 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated Value P-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "LMN_P")
}

#<<<--- add_analog("LMN_I",                    "REAL",                              PV_DESC="Manipulated Value I-Action")
record(ai, "Spk-000CDL:Cryo-PID-91:LMN_I")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/246 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated Value I-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "LMN_I")
}

#<<<--- add_analog("LMN_D",                    "REAL",                              PV_DESC="Manipulated Value D-Action")
record(ai, "Spk-000CDL:Cryo-PID-91:LMN_D")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/250 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated Value D-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "LMN_D")
}

#<<<--- add_analog("PID_DIF",                  "REAL",                              PV_DESC="Actual PID Error/Difference")
record(ai, "Spk-000CDL:Cryo-PID-91:PID_DIF")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/254 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Actual PID Error/Difference")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "PID_DIF")
}

#<<<--- add_analog("PV",                       "REAL",                              PV_DESC="PID Process Value",             PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-91:PV")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/258 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Process Value")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "PV")
}

#<<<--- add_analog("MAN_SP",                   "REAL",                              PV_DESC="PID Setpoint Value",            PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-91:MAN_SP")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/262 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Setpoint Value")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "MAN_SP")
}

#<<<--- add_analog("PID_Cycle",                "INT",                               PV_DESC="PID cycle time",                PV_EGU="ms")
record(ai, "Spk-000CDL:Cryo-PID-91:PID_Cycle")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/266 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID cycle time")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "PID_Cycle")
}

#<<<--- add_string("ProcValueName", 39,         PV_NAME="ProcValueName",            PV_DESC="PV Name of the Process Value")
record(stringin, "Spk-000CDL:Cryo-PID-91:ProcValueName")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/268 T=STRING L=40")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PV Name of the Process Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "ProcValueName")
}

#<<<--- add_string("ProcValueEGU", 6,           PV_NAME="ProcValueEGU",             PV_DESC="EGU of the Process Value")
record(stringin, "Spk-000CDL:Cryo-PID-91:ProcValueEGU")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/308 T=STRING L=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "EGU of the Process Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "ProcValueEGU")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",       PV_ONAM="InhibitManual",                 PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-PID-91:Inhibit_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/316 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Inhibit_Manual")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",        PV_ONAM="InhibitForce",                  PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-PID-91:Inhibit_Force")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/316 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Inhibit_Force")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",           PV_ONAM="InhibitLocking",                PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-PID-91:Inhibit_Lock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/316 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Inhibit_Lock")
}


#Interlock signals
#<<<--- add_digital("MoveInterlock",           PV_DESC="Move Interlock",            PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-91:MoveInterlock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/316 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Move Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "MoveInterlock")
}

#<<<--- add_digital("GroupInterlock",          PV_DESC="Group Interlock",           PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-91:GroupInterlock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/316 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "GroupInterlock")
}


#for OPI visualization
#<<<--- add_digital("EnableAutoBtn",           PV_DESC="Enable Auto Button",        PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-91:EnableAutoBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/316 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Auto Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "EnableAutoBtn")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",      PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-91:EnableManualBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/316 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "EnableManualBtn")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",       PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-91:EnableForcedBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/316 T=UINT16 B=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "EnableForcedBtn")
}

#<<<--- add_digital("EnablePIDConf",           PV_DESC="Enable PID Configuration",  PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-91:EnablePIDConf")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/316 T=UINT16 B=8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable PID Configuration")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "EnablePIDConf")
}

#<<<--- add_digital("LatchAlarm",              PV_DESC="Enable Alarm Latching",     PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-91:LatchAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/316 T=UINT16 B=9")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Alarm Latching")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "LatchAlarm")
}

#<<<--- add_digital("GroupAlarm",              PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-PID-91:GroupAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/316 T=UINT16 B=10")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "GroupAlarm")
}


#Block Icon controls
#<<<--- add_digital("EnableBlkCtrl",           PV_DESC="Enable Block SP Button",     PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-91:EnableBlkCtrl")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/316 T=UINT16 B=11")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Block SP Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "EnableBlkCtrl")
}

#Forcing
#<<<--- add_digital("EnableForceValBtn",       PV_DESC="Enable Force Value Button", PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-91:EnableForceValBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/316 T=UINT16 B=12")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Value Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "EnableForceValBtn")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device locked",             PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-91:DevLocked")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/316 T=UINT16 B=13")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "DevLocked")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                              PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-PID-91:Faceplate_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/318 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Faceplate_LockID")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                              PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-PID-91:BlockIcon_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/322 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "BlockIcon_LockID")
}



#Alarm signals
#<<<--- add_major_alarm("LMN_HLIM",            "LMN_HLIM",                          PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-PID-91:LMN_HLIM")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/326 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "LMN_HLIM")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "LMN_HLIM")
}

#<<<--- add_major_alarm("LMN_LLIM",            "LMN_LLIM",                          PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-PID-91:LMN_LLIM")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/326 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "LMN_LLIM")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "LMN_LLIM")
}

#<<<--- add_major_alarm("IO_Error",            "HW IO Error",                       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PID-91:IO_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/326 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "IO_Error")
}

#<<<--- add_major_alarm("Input_Module_Error",  "HW Input Module Error",             PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PID-91:Input_Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/326 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Input Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Input_Module_Error")
}

#<<<--- add_major_alarm("Output_Module_Error", "HW Output Module Error",            PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PID-91:Output_Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/326 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Output Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Output_Module_Error")
}

#<<<--- add_major_alarm("Discrepancy_Error",   "Discrepancy_Error",                 PV_ZNAM="NominalState",                  PV_ONAM="Timeout")
record(bi, "Spk-000CDL:Cryo-PID-91:Discrepancy_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/326 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Timeout")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Discrepancy_Error")
}


#Warning signals
#<<<--- add_minor_alarm("ContDeviceInMan",     "ContDeviceInMan",                   PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-PID-91:ContDeviceInMan")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/326 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "ContDeviceInMan")
	field(OSV,  "MINOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "ContDeviceInMan")
}


#Feedbacks
#PID
#<<<--- add_analog("FB_Gain",                  "REAL" ,                             PV_DESC="FB Proportional gain")
record(ai, "Spk-000CDL:Cryo-PID-91:FB_Gain")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/328 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Proportional gain")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "FB_Gain")
}

#<<<--- add_analog("FB_TI",                    "DINT" ,                             PV_DESC="FB Integration time",           PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-PID-91:FB_TI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/332 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Integration time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "FB_TI")
}

#<<<--- add_analog("FB_TD",                    "DINT" ,                             PV_DESC="FB Derivative action time",     PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-PID-91:FB_TD")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/336 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Derivative action time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "FB_TD")
}


#<<<--- add_analog("FB_DEADB",                 "REAL" ,                             PV_DESC="FB Deadband")
record(ai, "Spk-000CDL:Cryo-PID-91:FB_DEADB")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/340 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Deadband")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "FB_DEADB")
}

#<<<--- add_analog("FB_LMN_HLIM",              "REAL" ,                             PV_DESC="FB High limit for MV")
record(ai, "Spk-000CDL:Cryo-PID-91:FB_LMN_HLIM")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/344 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB High limit for MV")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "FB_LMN_HLIM")
}

#<<<--- add_analog("FB_LMN_LLIM",              "REAL" ,                             PV_DESC="FB Low limit for MV")
record(ai, "Spk-000CDL:Cryo-PID-91:FB_LMN_LLIM")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/348 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Low limit for MV")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "FB_LMN_LLIM")
}

#<<<--- add_analog("FB_ForcePosition",         "REAL" ,                             PV_DESC="FB Force Valve Position (AI)",  PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-91:FB_ForcePosition")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/352 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Force Valve Position (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "FB_ForcePosition")
}

#<<<--- add_analog("FB_Setpoint",              "REAL" ,                             PV_DESC="FB Setpoint from HMI (SP)",     PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-91:FB_Setpoint")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/356 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "FB_Setpoint")
}

#<<<--- add_analog("FB_Step",                  "REAL" ,                             PV_DESC="FB Step value for Open/Close",  PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-91:FB_Step")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/360 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Step value for Open/Close")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "FB_Step")
}

#<<<--- add_analog("FB_Manipulated",           "REAL" ,                             PV_DESC="Force Manipulated value (AO)",  PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-91:FB_Manipulated")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/364 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Manipulated value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "FB_Manipulated")
}



#<<<--- add_digital("FB_P_ActionState",        PV_DESC="Proportional Action State")
record(bi, "Spk-000CDL:Cryo-PID-91:FB_P_ActionState")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/368 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Proportional Action State")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "FB_P_ActionState")
}

#<<<--- add_digital("FB_I_ActionState",        PV_DESC="Integral Action State")
record(bi, "Spk-000CDL:Cryo-PID-91:FB_I_ActionState")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/368 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Integral Action State")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "FB_I_ActionState")
}

#<<<--- add_digital("FB_D_ActionState",        PV_DESC="Differential Action State")
record(bi, "Spk-000CDL:Cryo-PID-91:FB_D_ActionState")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/368 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Differential Action State")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "FB_D_ActionState")
}


#Standby Synchroniztaion
#<<<--- add_digital("FB_SS_State",             PV_DESC="Standby Synchroniztaion State")
record(bi, "Spk-000CDL:Cryo-PID-91:FB_SS_State")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/368 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Standby Synchroniztaion State")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "FB_SS_State")
}

#<<<--- add_analog("FB_SS_Value",              "REAL" ,                             PV_DESC="Standby Synchroniztaion Value", PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-91:FB_SS_Value")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/370 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Standby Synchroniztaion Value")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "FB_SS_Value")
}


#MeasValue Message
#<<<--- add_string("MeasValue_Msg",				39,             	PV_NAME="Measured_Value_Msg",   	PV_DESC="Measured Value Message")
record(stringin, "Spk-000CDL:Cryo-PID-91:Measured_Value_Msg")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/374 T=STRING L=40")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Measured Value Message")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "MeasValue_Msg")
}


############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-PID-91 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Auto",                PV_DESC="CMD: Auto Mode")
record(bo, "Spk-000CDL:Cryo-PID-91:Cmd_Auto")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 86, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Cmd_Auto")
}

#<<<--- add_digital("Cmd_Manual",              PV_DESC="CMD: Manual Mode")
record(bo, "Spk-000CDL:Cryo-PID-91:Cmd_Manual")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 86, 0x0002, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Cmd_Manual")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-PID-91:Cmd_Force")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 86, 0x0004, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Cmd_Force")
}


#<<<--- add_digital("Cmd_EnablePID_Conf",      PV_DESC="CMD: Enable PID configuration from OPI")
record(bo, "Spk-000CDL:Cryo-PID-91:Cmd_EnablePID_Conf")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 86, 0x0008, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Enable PID configuration from OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Cmd_EnablePID_Conf")
}

#<<<--- add_digital("Cmd_DisablePID_Conf",     PV_DESC="CMD: Disable PID configuration from OPI")
record(bo, "Spk-000CDL:Cryo-PID-91:Cmd_DisablePID_Conf")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 86, 0x0010, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Disable PID configuration from OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Cmd_DisablePID_Conf")
}


#<<<--- add_digital("Cmd_P_ON",                PV_DESC="CMD: Enable P-Action")
record(bo, "Spk-000CDL:Cryo-PID-91:Cmd_P_ON")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 86, 0x0020, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Enable P-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Cmd_P_ON")
}

#<<<--- add_digital("Cmd_P_OFF",               PV_DESC="CMD: Disable P-Action")
record(bo, "Spk-000CDL:Cryo-PID-91:Cmd_P_OFF")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 86, 0x0040, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Disable P-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Cmd_P_OFF")
}


#<<<--- add_digital("Cmd_I_ON",                PV_DESC="CMD: Enable I-Action")
record(bo, "Spk-000CDL:Cryo-PID-91:Cmd_I_ON")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 86, 0x0080, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Enable I-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Cmd_I_ON")
}

#<<<--- add_digital("Cmd_I_OFF",               PV_DESC="CMD: Disable I-Action")
record(bo, "Spk-000CDL:Cryo-PID-91:Cmd_I_OFF")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 86, 0x0100, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Disable I-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Cmd_I_OFF")
}


#<<<--- add_digital("Cmd_D_ON",                PV_DESC="CMD: Enable D-Action")
record(bo, "Spk-000CDL:Cryo-PID-91:Cmd_D_ON")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 86, 0x0200, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Enable D-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Cmd_D_ON")
}

#<<<--- add_digital("Cmd_D_OFF",               PV_DESC="CMD: Disable D-Action")
record(bo, "Spk-000CDL:Cryo-PID-91:Cmd_D_OFF")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 86, 0x0400, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Disable D-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Cmd_D_OFF")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-PID-91:Cmd_AckAlarm")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 86, 0x0800, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Cmd_AckAlarm")
}


#<<<--- add_digital("Cmd_ForceValInp",         PV_DESC="CMD: Force Valve PLC Input")
record(bo, "Spk-000CDL:Cryo-PID-91:Cmd_ForceValInp")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 86, 0x1000, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Valve PLC Input")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Cmd_ForceValInp")
}

#<<<--- add_digital("Cmd_ForceValOut",         PV_DESC="CMD: Force Valve PLC Output")
record(bo, "Spk-000CDL:Cryo-PID-91:Cmd_ForceValOut")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 86, 0x2000, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Valve PLC Output")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Cmd_ForceValOut")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-PID-91:Cmd_ForceUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 86, 0x4000, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-PID-91:Cmd_DevLock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 86, 0x8000, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Cmd_DevLock")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-PID-91:Cmd_DevUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 87, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Cmd_DevUnlock")
}



############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-PID-91 EPICS -> PLC parameters ##########
##########
#PID
#<<<--- add_analog("P_Gain",                   "REAL" ,                             PV_DESC="PID Proportional gain")
record(ao, "Spk-000CDL:Cryo-PID-91:P_Gain")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 88, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Proportional gain")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "P_Gain")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_TI",                     "DINT" ,                             PV_DESC="PID Integration time",          PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-PID-91:P_TI")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 90, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Integration time")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(EGU,  "sec")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "P_TI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_TD",                     "DINT" ,                             PV_DESC="PID Derivative action time",    PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-PID-91:P_TD")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 92, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Derivative action time")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(EGU,  "sec")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "P_TD")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_analog("P_DEADB",                  "REAL" ,                             PV_DESC="PID Deadband")
record(ao, "Spk-000CDL:Cryo-PID-91:P_DEADB")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 94, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Deadband")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "P_DEADB")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_LMN_HLIM",               "REAL" ,                             PV_DESC="PID High limit for MV")
record(ao, "Spk-000CDL:Cryo-PID-91:P_LMN_HLIM")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 96, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID High limit for MV")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "P_LMN_HLIM")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_LMN_LLIM",               "REAL" ,                             PV_DESC="PID Low limit for MV")
record(ao, "Spk-000CDL:Cryo-PID-91:P_LMN_LLIM")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 98, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Low limit for MV")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "P_LMN_LLIM")
	info(autosaveFields_pass0, "VAL")
}


#Setpoint and Manipulated value from HMI
#<<<--- add_analog("P_ForcePosition",          "REAL" ,                             PV_DESC="Force Valve position (AI)",     PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-PID-91:P_ForcePosition")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 100, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Valve position (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "P_ForcePosition")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Setpoint",               "REAL" ,                             PV_DESC="Setpoint from HMI (SP)",        PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-PID-91:P_Setpoint")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 102, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "P_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Manipulated",            "REAL" ,                             PV_DESC="Force Manipulated value (AO)",  PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-PID-91:P_Manipulated")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 104, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Manipulated value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "P_Manipulated")
	info(autosaveFields_pass0, "VAL")
}


#Step value when pressing Cmd_Open1Step or Cmd_Close1Step
#<<<--- add_analog("P_Step",                   "REAL" ,                             PV_DESC="Step value for open close",     PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-PID-91:P_Step")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 106, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Step value for open close")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "P_Step")
	info(autosaveFields_pass0, "VAL")
}



#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                              PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-PID-91:P_Faceplate_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 108, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                              PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-PID-91:P_BlockIcon_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 110, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-PID-91:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-PID-91:P_Gain")
	field(LNK2, "Spk-000CDL:Cryo-PID-91:P_TI")
	field(LNK3, "Spk-000CDL:Cryo-PID-91:P_TD")
	field(LNK4, "Spk-000CDL:Cryo-PID-91:P_DEADB")
	field(LNK5, "Spk-000CDL:Cryo-PID-91:P_LMN_HLIM")
	field(LNK6, "Spk-000CDL:Cryo-PID-91:P_LMN_LLIM")
	field(LNK7, "Spk-000CDL:Cryo-PID-91:P_ForcePosition")
	field(LNK8, "Spk-000CDL:Cryo-PID-91:P_Setpoint")
	field(LNK9, "Spk-000CDL:Cryo-PID-91:P_Manipulated")
	field(LNKA, "Spk-000CDL:Cryo-PID-91:P_Step")
	field(LNKB, "Spk-000CDL:Cryo-PID-91:P_Faceplate_LockID")
	field(LNKC, "Spk-000CDL:Cryo-PID-91:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-PID-92 ##########
##########
########## CommandWordsLength: 2
########## ParameterWordsLength: 24
########## StatusWordsLength: 90
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                                 PID - PID Control                                        ##
##                                                                                          ##
##                                                                                          ##
############################           Version: 1.2           ################################
#Author:	Zoltan Madi
#Date:		13-12-2019
#Version:  v1.2
#Changes:  Added "MeasValue_Msg"
############################           Version: 1.1           ################################
#Author:	Johannes Kazantzidis
#Date:		13-12-2019
#Version:  v1.1
#Changes:  Added alarm signal "Discrepancy_Error"
############################           Version: 1.0           ################################
#Author:	Miklos Boros
#Date:		01-09-2019
#Version:  v1.0
#Changes:  First release and alarm signal "Discrepancy_Error"
##############################################################################################


############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-PID-92 PLC   -> EPICS status   ##########
##########


#Operation modes
#<<<--- add_digital("OpMode_Auto",             PV_DESC="Operation Mode Auto",       PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-92:OpMode_Auto")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/414 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "OpMode_Auto")
}

#<<<--- add_digital("OpMode_Manual",           PV_DESC="Operation Mode Manual",     PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-92:OpMode_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/414 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "OpMode_Manual")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",     PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-92:OpMode_Forced")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/414 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "OpMode_Forced")
}

#<<<--- add_analog("PID_Color",                "INT",                               PV_DESC="BlockIcon color")
record(ai, "Spk-000CDL:Cryo-PID-92:PID_Color")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/416 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "BlockIcon color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "PID_Color")
}



#PID states
#<<<--- add_analog("LMN",                      "REAL",                              PV_DESC="Manipulated Value",             PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-92:LMN")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/418 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated Value")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "LMN")
}

#<<<--- add_analog("LMN_P",                    "REAL",                              PV_DESC="Manipulated Value P-Action")
record(ai, "Spk-000CDL:Cryo-PID-92:LMN_P")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/422 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated Value P-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "LMN_P")
}

#<<<--- add_analog("LMN_I",                    "REAL",                              PV_DESC="Manipulated Value I-Action")
record(ai, "Spk-000CDL:Cryo-PID-92:LMN_I")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/426 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated Value I-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "LMN_I")
}

#<<<--- add_analog("LMN_D",                    "REAL",                              PV_DESC="Manipulated Value D-Action")
record(ai, "Spk-000CDL:Cryo-PID-92:LMN_D")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/430 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated Value D-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "LMN_D")
}

#<<<--- add_analog("PID_DIF",                  "REAL",                              PV_DESC="Actual PID Error/Difference")
record(ai, "Spk-000CDL:Cryo-PID-92:PID_DIF")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/434 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Actual PID Error/Difference")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "PID_DIF")
}

#<<<--- add_analog("PV",                       "REAL",                              PV_DESC="PID Process Value",             PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-92:PV")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/438 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Process Value")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "PV")
}

#<<<--- add_analog("MAN_SP",                   "REAL",                              PV_DESC="PID Setpoint Value",            PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-92:MAN_SP")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/442 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Setpoint Value")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "MAN_SP")
}

#<<<--- add_analog("PID_Cycle",                "INT",                               PV_DESC="PID cycle time",                PV_EGU="ms")
record(ai, "Spk-000CDL:Cryo-PID-92:PID_Cycle")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/446 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID cycle time")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "PID_Cycle")
}

#<<<--- add_string("ProcValueName", 39,         PV_NAME="ProcValueName",            PV_DESC="PV Name of the Process Value")
record(stringin, "Spk-000CDL:Cryo-PID-92:ProcValueName")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/448 T=STRING L=40")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PV Name of the Process Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "ProcValueName")
}

#<<<--- add_string("ProcValueEGU", 6,           PV_NAME="ProcValueEGU",             PV_DESC="EGU of the Process Value")
record(stringin, "Spk-000CDL:Cryo-PID-92:ProcValueEGU")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/488 T=STRING L=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "EGU of the Process Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "ProcValueEGU")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",       PV_ONAM="InhibitManual",                 PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-PID-92:Inhibit_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/496 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Inhibit_Manual")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",        PV_ONAM="InhibitForce",                  PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-PID-92:Inhibit_Force")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/496 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Inhibit_Force")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",           PV_ONAM="InhibitLocking",                PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-PID-92:Inhibit_Lock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/496 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Inhibit_Lock")
}


#Interlock signals
#<<<--- add_digital("MoveInterlock",           PV_DESC="Move Interlock",            PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-92:MoveInterlock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/496 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Move Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "MoveInterlock")
}

#<<<--- add_digital("GroupInterlock",          PV_DESC="Group Interlock",           PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-92:GroupInterlock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/496 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "GroupInterlock")
}


#for OPI visualization
#<<<--- add_digital("EnableAutoBtn",           PV_DESC="Enable Auto Button",        PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-92:EnableAutoBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/496 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Auto Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "EnableAutoBtn")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",      PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-92:EnableManualBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/496 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "EnableManualBtn")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",       PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-92:EnableForcedBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/496 T=UINT16 B=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "EnableForcedBtn")
}

#<<<--- add_digital("EnablePIDConf",           PV_DESC="Enable PID Configuration",  PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-92:EnablePIDConf")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/496 T=UINT16 B=8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable PID Configuration")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "EnablePIDConf")
}

#<<<--- add_digital("LatchAlarm",              PV_DESC="Enable Alarm Latching",     PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-92:LatchAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/496 T=UINT16 B=9")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Alarm Latching")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "LatchAlarm")
}

#<<<--- add_digital("GroupAlarm",              PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-PID-92:GroupAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/496 T=UINT16 B=10")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "GroupAlarm")
}


#Block Icon controls
#<<<--- add_digital("EnableBlkCtrl",           PV_DESC="Enable Block SP Button",     PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-92:EnableBlkCtrl")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/496 T=UINT16 B=11")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Block SP Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "EnableBlkCtrl")
}

#Forcing
#<<<--- add_digital("EnableForceValBtn",       PV_DESC="Enable Force Value Button", PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-92:EnableForceValBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/496 T=UINT16 B=12")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Value Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "EnableForceValBtn")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device locked",             PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-92:DevLocked")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/496 T=UINT16 B=13")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "DevLocked")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                              PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-PID-92:Faceplate_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/498 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Faceplate_LockID")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                              PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-PID-92:BlockIcon_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/502 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "BlockIcon_LockID")
}



#Alarm signals
#<<<--- add_major_alarm("LMN_HLIM",            "LMN_HLIM",                          PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-PID-92:LMN_HLIM")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/506 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "LMN_HLIM")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "LMN_HLIM")
}

#<<<--- add_major_alarm("LMN_LLIM",            "LMN_LLIM",                          PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-PID-92:LMN_LLIM")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/506 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "LMN_LLIM")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "LMN_LLIM")
}

#<<<--- add_major_alarm("IO_Error",            "HW IO Error",                       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PID-92:IO_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/506 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "IO_Error")
}

#<<<--- add_major_alarm("Input_Module_Error",  "HW Input Module Error",             PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PID-92:Input_Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/506 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Input Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Input_Module_Error")
}

#<<<--- add_major_alarm("Output_Module_Error", "HW Output Module Error",            PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PID-92:Output_Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/506 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Output Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Output_Module_Error")
}

#<<<--- add_major_alarm("Discrepancy_Error",   "Discrepancy_Error",                 PV_ZNAM="NominalState",                  PV_ONAM="Timeout")
record(bi, "Spk-000CDL:Cryo-PID-92:Discrepancy_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/506 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Timeout")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Discrepancy_Error")
}


#Warning signals
#<<<--- add_minor_alarm("ContDeviceInMan",     "ContDeviceInMan",                   PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-PID-92:ContDeviceInMan")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/506 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "ContDeviceInMan")
	field(OSV,  "MINOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "ContDeviceInMan")
}


#Feedbacks
#PID
#<<<--- add_analog("FB_Gain",                  "REAL" ,                             PV_DESC="FB Proportional gain")
record(ai, "Spk-000CDL:Cryo-PID-92:FB_Gain")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/508 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Proportional gain")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "FB_Gain")
}

#<<<--- add_analog("FB_TI",                    "DINT" ,                             PV_DESC="FB Integration time",           PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-PID-92:FB_TI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/512 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Integration time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "FB_TI")
}

#<<<--- add_analog("FB_TD",                    "DINT" ,                             PV_DESC="FB Derivative action time",     PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-PID-92:FB_TD")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/516 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Derivative action time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "FB_TD")
}


#<<<--- add_analog("FB_DEADB",                 "REAL" ,                             PV_DESC="FB Deadband")
record(ai, "Spk-000CDL:Cryo-PID-92:FB_DEADB")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/520 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Deadband")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "FB_DEADB")
}

#<<<--- add_analog("FB_LMN_HLIM",              "REAL" ,                             PV_DESC="FB High limit for MV")
record(ai, "Spk-000CDL:Cryo-PID-92:FB_LMN_HLIM")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/524 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB High limit for MV")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "FB_LMN_HLIM")
}

#<<<--- add_analog("FB_LMN_LLIM",              "REAL" ,                             PV_DESC="FB Low limit for MV")
record(ai, "Spk-000CDL:Cryo-PID-92:FB_LMN_LLIM")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/528 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Low limit for MV")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "FB_LMN_LLIM")
}

#<<<--- add_analog("FB_ForcePosition",         "REAL" ,                             PV_DESC="FB Force Valve Position (AI)",  PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-92:FB_ForcePosition")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/532 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Force Valve Position (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "FB_ForcePosition")
}

#<<<--- add_analog("FB_Setpoint",              "REAL" ,                             PV_DESC="FB Setpoint from HMI (SP)",     PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-92:FB_Setpoint")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/536 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "FB_Setpoint")
}

#<<<--- add_analog("FB_Step",                  "REAL" ,                             PV_DESC="FB Step value for Open/Close",  PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-92:FB_Step")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/540 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Step value for Open/Close")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "FB_Step")
}

#<<<--- add_analog("FB_Manipulated",           "REAL" ,                             PV_DESC="Force Manipulated value (AO)",  PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-92:FB_Manipulated")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/544 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Manipulated value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "FB_Manipulated")
}



#<<<--- add_digital("FB_P_ActionState",        PV_DESC="Proportional Action State")
record(bi, "Spk-000CDL:Cryo-PID-92:FB_P_ActionState")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/548 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Proportional Action State")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "FB_P_ActionState")
}

#<<<--- add_digital("FB_I_ActionState",        PV_DESC="Integral Action State")
record(bi, "Spk-000CDL:Cryo-PID-92:FB_I_ActionState")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/548 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Integral Action State")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "FB_I_ActionState")
}

#<<<--- add_digital("FB_D_ActionState",        PV_DESC="Differential Action State")
record(bi, "Spk-000CDL:Cryo-PID-92:FB_D_ActionState")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/548 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Differential Action State")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "FB_D_ActionState")
}


#Standby Synchroniztaion
#<<<--- add_digital("FB_SS_State",             PV_DESC="Standby Synchroniztaion State")
record(bi, "Spk-000CDL:Cryo-PID-92:FB_SS_State")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/548 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Standby Synchroniztaion State")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "FB_SS_State")
}

#<<<--- add_analog("FB_SS_Value",              "REAL" ,                             PV_DESC="Standby Synchroniztaion Value", PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-92:FB_SS_Value")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/550 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Standby Synchroniztaion Value")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "FB_SS_Value")
}


#MeasValue Message
#<<<--- add_string("MeasValue_Msg",				39,             	PV_NAME="Measured_Value_Msg",   	PV_DESC="Measured Value Message")
record(stringin, "Spk-000CDL:Cryo-PID-92:Measured_Value_Msg")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/554 T=STRING L=40")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Measured Value Message")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "MeasValue_Msg")
}


############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-PID-92 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Auto",                PV_DESC="CMD: Auto Mode")
record(bo, "Spk-000CDL:Cryo-PID-92:Cmd_Auto")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 112, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Cmd_Auto")
}

#<<<--- add_digital("Cmd_Manual",              PV_DESC="CMD: Manual Mode")
record(bo, "Spk-000CDL:Cryo-PID-92:Cmd_Manual")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 112, 0x0002, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Cmd_Manual")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-PID-92:Cmd_Force")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 112, 0x0004, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Cmd_Force")
}


#<<<--- add_digital("Cmd_EnablePID_Conf",      PV_DESC="CMD: Enable PID configuration from OPI")
record(bo, "Spk-000CDL:Cryo-PID-92:Cmd_EnablePID_Conf")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 112, 0x0008, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Enable PID configuration from OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Cmd_EnablePID_Conf")
}

#<<<--- add_digital("Cmd_DisablePID_Conf",     PV_DESC="CMD: Disable PID configuration from OPI")
record(bo, "Spk-000CDL:Cryo-PID-92:Cmd_DisablePID_Conf")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 112, 0x0010, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Disable PID configuration from OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Cmd_DisablePID_Conf")
}


#<<<--- add_digital("Cmd_P_ON",                PV_DESC="CMD: Enable P-Action")
record(bo, "Spk-000CDL:Cryo-PID-92:Cmd_P_ON")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 112, 0x0020, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Enable P-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Cmd_P_ON")
}

#<<<--- add_digital("Cmd_P_OFF",               PV_DESC="CMD: Disable P-Action")
record(bo, "Spk-000CDL:Cryo-PID-92:Cmd_P_OFF")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 112, 0x0040, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Disable P-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Cmd_P_OFF")
}


#<<<--- add_digital("Cmd_I_ON",                PV_DESC="CMD: Enable I-Action")
record(bo, "Spk-000CDL:Cryo-PID-92:Cmd_I_ON")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 112, 0x0080, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Enable I-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Cmd_I_ON")
}

#<<<--- add_digital("Cmd_I_OFF",               PV_DESC="CMD: Disable I-Action")
record(bo, "Spk-000CDL:Cryo-PID-92:Cmd_I_OFF")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 112, 0x0100, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Disable I-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Cmd_I_OFF")
}


#<<<--- add_digital("Cmd_D_ON",                PV_DESC="CMD: Enable D-Action")
record(bo, "Spk-000CDL:Cryo-PID-92:Cmd_D_ON")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 112, 0x0200, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Enable D-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Cmd_D_ON")
}

#<<<--- add_digital("Cmd_D_OFF",               PV_DESC="CMD: Disable D-Action")
record(bo, "Spk-000CDL:Cryo-PID-92:Cmd_D_OFF")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 112, 0x0400, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Disable D-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Cmd_D_OFF")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-PID-92:Cmd_AckAlarm")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 112, 0x0800, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Cmd_AckAlarm")
}


#<<<--- add_digital("Cmd_ForceValInp",         PV_DESC="CMD: Force Valve PLC Input")
record(bo, "Spk-000CDL:Cryo-PID-92:Cmd_ForceValInp")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 112, 0x1000, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Valve PLC Input")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Cmd_ForceValInp")
}

#<<<--- add_digital("Cmd_ForceValOut",         PV_DESC="CMD: Force Valve PLC Output")
record(bo, "Spk-000CDL:Cryo-PID-92:Cmd_ForceValOut")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 112, 0x2000, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Valve PLC Output")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Cmd_ForceValOut")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-PID-92:Cmd_ForceUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 112, 0x4000, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-PID-92:Cmd_DevLock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 112, 0x8000, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Cmd_DevLock")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-PID-92:Cmd_DevUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 113, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Cmd_DevUnlock")
}



############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-PID-92 EPICS -> PLC parameters ##########
##########
#PID
#<<<--- add_analog("P_Gain",                   "REAL" ,                             PV_DESC="PID Proportional gain")
record(ao, "Spk-000CDL:Cryo-PID-92:P_Gain")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 114, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Proportional gain")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "P_Gain")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_TI",                     "DINT" ,                             PV_DESC="PID Integration time",          PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-PID-92:P_TI")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 116, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Integration time")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(EGU,  "sec")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "P_TI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_TD",                     "DINT" ,                             PV_DESC="PID Derivative action time",    PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-PID-92:P_TD")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 118, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Derivative action time")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(EGU,  "sec")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "P_TD")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_analog("P_DEADB",                  "REAL" ,                             PV_DESC="PID Deadband")
record(ao, "Spk-000CDL:Cryo-PID-92:P_DEADB")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 120, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Deadband")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "P_DEADB")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_LMN_HLIM",               "REAL" ,                             PV_DESC="PID High limit for MV")
record(ao, "Spk-000CDL:Cryo-PID-92:P_LMN_HLIM")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 122, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID High limit for MV")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "P_LMN_HLIM")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_LMN_LLIM",               "REAL" ,                             PV_DESC="PID Low limit for MV")
record(ao, "Spk-000CDL:Cryo-PID-92:P_LMN_LLIM")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 124, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Low limit for MV")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "P_LMN_LLIM")
	info(autosaveFields_pass0, "VAL")
}


#Setpoint and Manipulated value from HMI
#<<<--- add_analog("P_ForcePosition",          "REAL" ,                             PV_DESC="Force Valve position (AI)",     PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-PID-92:P_ForcePosition")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 126, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Valve position (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "P_ForcePosition")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Setpoint",               "REAL" ,                             PV_DESC="Setpoint from HMI (SP)",        PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-PID-92:P_Setpoint")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 128, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "P_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Manipulated",            "REAL" ,                             PV_DESC="Force Manipulated value (AO)",  PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-PID-92:P_Manipulated")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 130, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Manipulated value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "P_Manipulated")
	info(autosaveFields_pass0, "VAL")
}


#Step value when pressing Cmd_Open1Step or Cmd_Close1Step
#<<<--- add_analog("P_Step",                   "REAL" ,                             PV_DESC="Step value for open close",     PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-PID-92:P_Step")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 132, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Step value for open close")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "P_Step")
	info(autosaveFields_pass0, "VAL")
}



#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                              PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-PID-92:P_Faceplate_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 134, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                              PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-PID-92:P_BlockIcon_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 136, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-PID-92:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-PID-92:P_Gain")
	field(LNK2, "Spk-000CDL:Cryo-PID-92:P_TI")
	field(LNK3, "Spk-000CDL:Cryo-PID-92:P_TD")
	field(LNK4, "Spk-000CDL:Cryo-PID-92:P_DEADB")
	field(LNK5, "Spk-000CDL:Cryo-PID-92:P_LMN_HLIM")
	field(LNK6, "Spk-000CDL:Cryo-PID-92:P_LMN_LLIM")
	field(LNK7, "Spk-000CDL:Cryo-PID-92:P_ForcePosition")
	field(LNK8, "Spk-000CDL:Cryo-PID-92:P_Setpoint")
	field(LNK9, "Spk-000CDL:Cryo-PID-92:P_Manipulated")
	field(LNKA, "Spk-000CDL:Cryo-PID-92:P_Step")
	field(LNKB, "Spk-000CDL:Cryo-PID-92:P_Faceplate_LockID")
	field(LNKC, "Spk-000CDL:Cryo-PID-92:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-PID-93 ##########
##########
########## CommandWordsLength: 2
########## ParameterWordsLength: 24
########## StatusWordsLength: 90
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                                 PID - PID Control                                        ##
##                                                                                          ##
##                                                                                          ##
############################           Version: 1.2           ################################
#Author:	Zoltan Madi
#Date:		13-12-2019
#Version:  v1.2
#Changes:  Added "MeasValue_Msg"
############################           Version: 1.1           ################################
#Author:	Johannes Kazantzidis
#Date:		13-12-2019
#Version:  v1.1
#Changes:  Added alarm signal "Discrepancy_Error"
############################           Version: 1.0           ################################
#Author:	Miklos Boros
#Date:		01-09-2019
#Version:  v1.0
#Changes:  First release and alarm signal "Discrepancy_Error"
##############################################################################################


############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-PID-93 PLC   -> EPICS status   ##########
##########


#Operation modes
#<<<--- add_digital("OpMode_Auto",             PV_DESC="Operation Mode Auto",       PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-93:OpMode_Auto")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/594 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "OpMode_Auto")
}

#<<<--- add_digital("OpMode_Manual",           PV_DESC="Operation Mode Manual",     PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-93:OpMode_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/594 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "OpMode_Manual")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",     PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-93:OpMode_Forced")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/594 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "OpMode_Forced")
}

#<<<--- add_analog("PID_Color",                "INT",                               PV_DESC="BlockIcon color")
record(ai, "Spk-000CDL:Cryo-PID-93:PID_Color")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/596 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "BlockIcon color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "PID_Color")
}



#PID states
#<<<--- add_analog("LMN",                      "REAL",                              PV_DESC="Manipulated Value",             PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-93:LMN")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/598 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated Value")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "LMN")
}

#<<<--- add_analog("LMN_P",                    "REAL",                              PV_DESC="Manipulated Value P-Action")
record(ai, "Spk-000CDL:Cryo-PID-93:LMN_P")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/602 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated Value P-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "LMN_P")
}

#<<<--- add_analog("LMN_I",                    "REAL",                              PV_DESC="Manipulated Value I-Action")
record(ai, "Spk-000CDL:Cryo-PID-93:LMN_I")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/606 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated Value I-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "LMN_I")
}

#<<<--- add_analog("LMN_D",                    "REAL",                              PV_DESC="Manipulated Value D-Action")
record(ai, "Spk-000CDL:Cryo-PID-93:LMN_D")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/610 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated Value D-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "LMN_D")
}

#<<<--- add_analog("PID_DIF",                  "REAL",                              PV_DESC="Actual PID Error/Difference")
record(ai, "Spk-000CDL:Cryo-PID-93:PID_DIF")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/614 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Actual PID Error/Difference")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "PID_DIF")
}

#<<<--- add_analog("PV",                       "REAL",                              PV_DESC="PID Process Value",             PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-93:PV")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/618 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Process Value")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "PV")
}

#<<<--- add_analog("MAN_SP",                   "REAL",                              PV_DESC="PID Setpoint Value",            PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-93:MAN_SP")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/622 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Setpoint Value")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "MAN_SP")
}

#<<<--- add_analog("PID_Cycle",                "INT",                               PV_DESC="PID cycle time",                PV_EGU="ms")
record(ai, "Spk-000CDL:Cryo-PID-93:PID_Cycle")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/626 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID cycle time")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "PID_Cycle")
}

#<<<--- add_string("ProcValueName", 39,         PV_NAME="ProcValueName",            PV_DESC="PV Name of the Process Value")
record(stringin, "Spk-000CDL:Cryo-PID-93:ProcValueName")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/628 T=STRING L=40")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PV Name of the Process Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "ProcValueName")
}

#<<<--- add_string("ProcValueEGU", 6,           PV_NAME="ProcValueEGU",             PV_DESC="EGU of the Process Value")
record(stringin, "Spk-000CDL:Cryo-PID-93:ProcValueEGU")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/668 T=STRING L=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "EGU of the Process Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "ProcValueEGU")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",       PV_ONAM="InhibitManual",                 PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-PID-93:Inhibit_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/676 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Inhibit_Manual")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",        PV_ONAM="InhibitForce",                  PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-PID-93:Inhibit_Force")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/676 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Inhibit_Force")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",           PV_ONAM="InhibitLocking",                PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-PID-93:Inhibit_Lock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/676 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Inhibit_Lock")
}


#Interlock signals
#<<<--- add_digital("MoveInterlock",           PV_DESC="Move Interlock",            PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-93:MoveInterlock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/676 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Move Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "MoveInterlock")
}

#<<<--- add_digital("GroupInterlock",          PV_DESC="Group Interlock",           PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-93:GroupInterlock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/676 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "GroupInterlock")
}


#for OPI visualization
#<<<--- add_digital("EnableAutoBtn",           PV_DESC="Enable Auto Button",        PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-93:EnableAutoBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/676 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Auto Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "EnableAutoBtn")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",      PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-93:EnableManualBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/676 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "EnableManualBtn")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",       PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-93:EnableForcedBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/676 T=UINT16 B=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "EnableForcedBtn")
}

#<<<--- add_digital("EnablePIDConf",           PV_DESC="Enable PID Configuration",  PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-93:EnablePIDConf")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/676 T=UINT16 B=8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable PID Configuration")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "EnablePIDConf")
}

#<<<--- add_digital("LatchAlarm",              PV_DESC="Enable Alarm Latching",     PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-93:LatchAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/676 T=UINT16 B=9")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Alarm Latching")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "LatchAlarm")
}

#<<<--- add_digital("GroupAlarm",              PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-PID-93:GroupAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/676 T=UINT16 B=10")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "GroupAlarm")
}


#Block Icon controls
#<<<--- add_digital("EnableBlkCtrl",           PV_DESC="Enable Block SP Button",     PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-93:EnableBlkCtrl")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/676 T=UINT16 B=11")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Block SP Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "EnableBlkCtrl")
}

#Forcing
#<<<--- add_digital("EnableForceValBtn",       PV_DESC="Enable Force Value Button", PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-93:EnableForceValBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/676 T=UINT16 B=12")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Value Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "EnableForceValBtn")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device locked",             PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-93:DevLocked")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/676 T=UINT16 B=13")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "DevLocked")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                              PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-PID-93:Faceplate_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/678 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Faceplate_LockID")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                              PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-PID-93:BlockIcon_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/682 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "BlockIcon_LockID")
}



#Alarm signals
#<<<--- add_major_alarm("LMN_HLIM",            "LMN_HLIM",                          PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-PID-93:LMN_HLIM")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/686 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "LMN_HLIM")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "LMN_HLIM")
}

#<<<--- add_major_alarm("LMN_LLIM",            "LMN_LLIM",                          PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-PID-93:LMN_LLIM")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/686 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "LMN_LLIM")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "LMN_LLIM")
}

#<<<--- add_major_alarm("IO_Error",            "HW IO Error",                       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PID-93:IO_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/686 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "IO_Error")
}

#<<<--- add_major_alarm("Input_Module_Error",  "HW Input Module Error",             PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PID-93:Input_Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/686 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Input Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Input_Module_Error")
}

#<<<--- add_major_alarm("Output_Module_Error", "HW Output Module Error",            PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PID-93:Output_Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/686 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Output Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Output_Module_Error")
}

#<<<--- add_major_alarm("Discrepancy_Error",   "Discrepancy_Error",                 PV_ZNAM="NominalState",                  PV_ONAM="Timeout")
record(bi, "Spk-000CDL:Cryo-PID-93:Discrepancy_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/686 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Timeout")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Discrepancy_Error")
}


#Warning signals
#<<<--- add_minor_alarm("ContDeviceInMan",     "ContDeviceInMan",                   PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-PID-93:ContDeviceInMan")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/686 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "ContDeviceInMan")
	field(OSV,  "MINOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "ContDeviceInMan")
}


#Feedbacks
#PID
#<<<--- add_analog("FB_Gain",                  "REAL" ,                             PV_DESC="FB Proportional gain")
record(ai, "Spk-000CDL:Cryo-PID-93:FB_Gain")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/688 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Proportional gain")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "FB_Gain")
}

#<<<--- add_analog("FB_TI",                    "DINT" ,                             PV_DESC="FB Integration time",           PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-PID-93:FB_TI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/692 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Integration time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "FB_TI")
}

#<<<--- add_analog("FB_TD",                    "DINT" ,                             PV_DESC="FB Derivative action time",     PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-PID-93:FB_TD")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/696 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Derivative action time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "FB_TD")
}


#<<<--- add_analog("FB_DEADB",                 "REAL" ,                             PV_DESC="FB Deadband")
record(ai, "Spk-000CDL:Cryo-PID-93:FB_DEADB")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/700 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Deadband")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "FB_DEADB")
}

#<<<--- add_analog("FB_LMN_HLIM",              "REAL" ,                             PV_DESC="FB High limit for MV")
record(ai, "Spk-000CDL:Cryo-PID-93:FB_LMN_HLIM")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/704 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB High limit for MV")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "FB_LMN_HLIM")
}

#<<<--- add_analog("FB_LMN_LLIM",              "REAL" ,                             PV_DESC="FB Low limit for MV")
record(ai, "Spk-000CDL:Cryo-PID-93:FB_LMN_LLIM")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/708 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Low limit for MV")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "FB_LMN_LLIM")
}

#<<<--- add_analog("FB_ForcePosition",         "REAL" ,                             PV_DESC="FB Force Valve Position (AI)",  PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-93:FB_ForcePosition")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/712 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Force Valve Position (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "FB_ForcePosition")
}

#<<<--- add_analog("FB_Setpoint",              "REAL" ,                             PV_DESC="FB Setpoint from HMI (SP)",     PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-93:FB_Setpoint")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/716 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "FB_Setpoint")
}

#<<<--- add_analog("FB_Step",                  "REAL" ,                             PV_DESC="FB Step value for Open/Close",  PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-93:FB_Step")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/720 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Step value for Open/Close")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "FB_Step")
}

#<<<--- add_analog("FB_Manipulated",           "REAL" ,                             PV_DESC="Force Manipulated value (AO)",  PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-93:FB_Manipulated")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/724 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Manipulated value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "FB_Manipulated")
}



#<<<--- add_digital("FB_P_ActionState",        PV_DESC="Proportional Action State")
record(bi, "Spk-000CDL:Cryo-PID-93:FB_P_ActionState")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/728 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Proportional Action State")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "FB_P_ActionState")
}

#<<<--- add_digital("FB_I_ActionState",        PV_DESC="Integral Action State")
record(bi, "Spk-000CDL:Cryo-PID-93:FB_I_ActionState")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/728 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Integral Action State")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "FB_I_ActionState")
}

#<<<--- add_digital("FB_D_ActionState",        PV_DESC="Differential Action State")
record(bi, "Spk-000CDL:Cryo-PID-93:FB_D_ActionState")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/728 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Differential Action State")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "FB_D_ActionState")
}


#Standby Synchroniztaion
#<<<--- add_digital("FB_SS_State",             PV_DESC="Standby Synchroniztaion State")
record(bi, "Spk-000CDL:Cryo-PID-93:FB_SS_State")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/728 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Standby Synchroniztaion State")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "FB_SS_State")
}

#<<<--- add_analog("FB_SS_Value",              "REAL" ,                             PV_DESC="Standby Synchroniztaion Value", PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-93:FB_SS_Value")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/730 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Standby Synchroniztaion Value")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "FB_SS_Value")
}


#MeasValue Message
#<<<--- add_string("MeasValue_Msg",				39,             	PV_NAME="Measured_Value_Msg",   	PV_DESC="Measured Value Message")
record(stringin, "Spk-000CDL:Cryo-PID-93:Measured_Value_Msg")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/734 T=STRING L=40")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Measured Value Message")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "MeasValue_Msg")
}


############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-PID-93 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Auto",                PV_DESC="CMD: Auto Mode")
record(bo, "Spk-000CDL:Cryo-PID-93:Cmd_Auto")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 138, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Cmd_Auto")
}

#<<<--- add_digital("Cmd_Manual",              PV_DESC="CMD: Manual Mode")
record(bo, "Spk-000CDL:Cryo-PID-93:Cmd_Manual")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 138, 0x0002, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Cmd_Manual")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-PID-93:Cmd_Force")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 138, 0x0004, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Cmd_Force")
}


#<<<--- add_digital("Cmd_EnablePID_Conf",      PV_DESC="CMD: Enable PID configuration from OPI")
record(bo, "Spk-000CDL:Cryo-PID-93:Cmd_EnablePID_Conf")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 138, 0x0008, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Enable PID configuration from OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Cmd_EnablePID_Conf")
}

#<<<--- add_digital("Cmd_DisablePID_Conf",     PV_DESC="CMD: Disable PID configuration from OPI")
record(bo, "Spk-000CDL:Cryo-PID-93:Cmd_DisablePID_Conf")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 138, 0x0010, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Disable PID configuration from OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Cmd_DisablePID_Conf")
}


#<<<--- add_digital("Cmd_P_ON",                PV_DESC="CMD: Enable P-Action")
record(bo, "Spk-000CDL:Cryo-PID-93:Cmd_P_ON")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 138, 0x0020, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Enable P-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Cmd_P_ON")
}

#<<<--- add_digital("Cmd_P_OFF",               PV_DESC="CMD: Disable P-Action")
record(bo, "Spk-000CDL:Cryo-PID-93:Cmd_P_OFF")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 138, 0x0040, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Disable P-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Cmd_P_OFF")
}


#<<<--- add_digital("Cmd_I_ON",                PV_DESC="CMD: Enable I-Action")
record(bo, "Spk-000CDL:Cryo-PID-93:Cmd_I_ON")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 138, 0x0080, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Enable I-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Cmd_I_ON")
}

#<<<--- add_digital("Cmd_I_OFF",               PV_DESC="CMD: Disable I-Action")
record(bo, "Spk-000CDL:Cryo-PID-93:Cmd_I_OFF")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 138, 0x0100, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Disable I-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Cmd_I_OFF")
}


#<<<--- add_digital("Cmd_D_ON",                PV_DESC="CMD: Enable D-Action")
record(bo, "Spk-000CDL:Cryo-PID-93:Cmd_D_ON")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 138, 0x0200, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Enable D-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Cmd_D_ON")
}

#<<<--- add_digital("Cmd_D_OFF",               PV_DESC="CMD: Disable D-Action")
record(bo, "Spk-000CDL:Cryo-PID-93:Cmd_D_OFF")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 138, 0x0400, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Disable D-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Cmd_D_OFF")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-PID-93:Cmd_AckAlarm")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 138, 0x0800, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Cmd_AckAlarm")
}


#<<<--- add_digital("Cmd_ForceValInp",         PV_DESC="CMD: Force Valve PLC Input")
record(bo, "Spk-000CDL:Cryo-PID-93:Cmd_ForceValInp")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 138, 0x1000, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Valve PLC Input")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Cmd_ForceValInp")
}

#<<<--- add_digital("Cmd_ForceValOut",         PV_DESC="CMD: Force Valve PLC Output")
record(bo, "Spk-000CDL:Cryo-PID-93:Cmd_ForceValOut")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 138, 0x2000, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Valve PLC Output")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Cmd_ForceValOut")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-PID-93:Cmd_ForceUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 138, 0x4000, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-PID-93:Cmd_DevLock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 138, 0x8000, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Cmd_DevLock")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-PID-93:Cmd_DevUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 139, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Cmd_DevUnlock")
}



############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-PID-93 EPICS -> PLC parameters ##########
##########
#PID
#<<<--- add_analog("P_Gain",                   "REAL" ,                             PV_DESC="PID Proportional gain")
record(ao, "Spk-000CDL:Cryo-PID-93:P_Gain")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 140, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Proportional gain")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "P_Gain")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_TI",                     "DINT" ,                             PV_DESC="PID Integration time",          PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-PID-93:P_TI")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 142, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Integration time")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(EGU,  "sec")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "P_TI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_TD",                     "DINT" ,                             PV_DESC="PID Derivative action time",    PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-PID-93:P_TD")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 144, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Derivative action time")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(EGU,  "sec")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "P_TD")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_analog("P_DEADB",                  "REAL" ,                             PV_DESC="PID Deadband")
record(ao, "Spk-000CDL:Cryo-PID-93:P_DEADB")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 146, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Deadband")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "P_DEADB")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_LMN_HLIM",               "REAL" ,                             PV_DESC="PID High limit for MV")
record(ao, "Spk-000CDL:Cryo-PID-93:P_LMN_HLIM")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 148, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID High limit for MV")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "P_LMN_HLIM")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_LMN_LLIM",               "REAL" ,                             PV_DESC="PID Low limit for MV")
record(ao, "Spk-000CDL:Cryo-PID-93:P_LMN_LLIM")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 150, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Low limit for MV")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "P_LMN_LLIM")
	info(autosaveFields_pass0, "VAL")
}


#Setpoint and Manipulated value from HMI
#<<<--- add_analog("P_ForcePosition",          "REAL" ,                             PV_DESC="Force Valve position (AI)",     PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-PID-93:P_ForcePosition")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 152, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Valve position (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "P_ForcePosition")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Setpoint",               "REAL" ,                             PV_DESC="Setpoint from HMI (SP)",        PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-PID-93:P_Setpoint")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 154, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "P_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Manipulated",            "REAL" ,                             PV_DESC="Force Manipulated value (AO)",  PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-PID-93:P_Manipulated")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 156, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Manipulated value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "P_Manipulated")
	info(autosaveFields_pass0, "VAL")
}


#Step value when pressing Cmd_Open1Step or Cmd_Close1Step
#<<<--- add_analog("P_Step",                   "REAL" ,                             PV_DESC="Step value for open close",     PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-PID-93:P_Step")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 158, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Step value for open close")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "P_Step")
	info(autosaveFields_pass0, "VAL")
}



#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                              PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-PID-93:P_Faceplate_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 160, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                              PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-PID-93:P_BlockIcon_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 162, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-PID-93:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-PID-93:P_Gain")
	field(LNK2, "Spk-000CDL:Cryo-PID-93:P_TI")
	field(LNK3, "Spk-000CDL:Cryo-PID-93:P_TD")
	field(LNK4, "Spk-000CDL:Cryo-PID-93:P_DEADB")
	field(LNK5, "Spk-000CDL:Cryo-PID-93:P_LMN_HLIM")
	field(LNK6, "Spk-000CDL:Cryo-PID-93:P_LMN_LLIM")
	field(LNK7, "Spk-000CDL:Cryo-PID-93:P_ForcePosition")
	field(LNK8, "Spk-000CDL:Cryo-PID-93:P_Setpoint")
	field(LNK9, "Spk-000CDL:Cryo-PID-93:P_Manipulated")
	field(LNKA, "Spk-000CDL:Cryo-PID-93:P_Step")
	field(LNKB, "Spk-000CDL:Cryo-PID-93:P_Faceplate_LockID")
	field(LNKC, "Spk-000CDL:Cryo-PID-93:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-PID-94 ##########
##########
########## CommandWordsLength: 2
########## ParameterWordsLength: 24
########## StatusWordsLength: 90
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                                 PID - PID Control                                        ##
##                                                                                          ##
##                                                                                          ##
############################           Version: 1.2           ################################
#Author:	Zoltan Madi
#Date:		13-12-2019
#Version:  v1.2
#Changes:  Added "MeasValue_Msg"
############################           Version: 1.1           ################################
#Author:	Johannes Kazantzidis
#Date:		13-12-2019
#Version:  v1.1
#Changes:  Added alarm signal "Discrepancy_Error"
############################           Version: 1.0           ################################
#Author:	Miklos Boros
#Date:		01-09-2019
#Version:  v1.0
#Changes:  First release and alarm signal "Discrepancy_Error"
##############################################################################################


############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-PID-94 PLC   -> EPICS status   ##########
##########


#Operation modes
#<<<--- add_digital("OpMode_Auto",             PV_DESC="Operation Mode Auto",       PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-94:OpMode_Auto")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/774 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "OpMode_Auto")
}

#<<<--- add_digital("OpMode_Manual",           PV_DESC="Operation Mode Manual",     PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-94:OpMode_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/774 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "OpMode_Manual")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",     PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-94:OpMode_Forced")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/774 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "OpMode_Forced")
}

#<<<--- add_analog("PID_Color",                "INT",                               PV_DESC="BlockIcon color")
record(ai, "Spk-000CDL:Cryo-PID-94:PID_Color")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/776 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "BlockIcon color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "PID_Color")
}



#PID states
#<<<--- add_analog("LMN",                      "REAL",                              PV_DESC="Manipulated Value",             PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-94:LMN")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/778 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated Value")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "LMN")
}

#<<<--- add_analog("LMN_P",                    "REAL",                              PV_DESC="Manipulated Value P-Action")
record(ai, "Spk-000CDL:Cryo-PID-94:LMN_P")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/782 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated Value P-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "LMN_P")
}

#<<<--- add_analog("LMN_I",                    "REAL",                              PV_DESC="Manipulated Value I-Action")
record(ai, "Spk-000CDL:Cryo-PID-94:LMN_I")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/786 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated Value I-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "LMN_I")
}

#<<<--- add_analog("LMN_D",                    "REAL",                              PV_DESC="Manipulated Value D-Action")
record(ai, "Spk-000CDL:Cryo-PID-94:LMN_D")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/790 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated Value D-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "LMN_D")
}

#<<<--- add_analog("PID_DIF",                  "REAL",                              PV_DESC="Actual PID Error/Difference")
record(ai, "Spk-000CDL:Cryo-PID-94:PID_DIF")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/794 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Actual PID Error/Difference")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "PID_DIF")
}

#<<<--- add_analog("PV",                       "REAL",                              PV_DESC="PID Process Value",             PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-94:PV")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/798 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Process Value")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "PV")
}

#<<<--- add_analog("MAN_SP",                   "REAL",                              PV_DESC="PID Setpoint Value",            PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-94:MAN_SP")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/802 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Setpoint Value")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "MAN_SP")
}

#<<<--- add_analog("PID_Cycle",                "INT",                               PV_DESC="PID cycle time",                PV_EGU="ms")
record(ai, "Spk-000CDL:Cryo-PID-94:PID_Cycle")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/806 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID cycle time")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "PID_Cycle")
}

#<<<--- add_string("ProcValueName", 39,         PV_NAME="ProcValueName",            PV_DESC="PV Name of the Process Value")
record(stringin, "Spk-000CDL:Cryo-PID-94:ProcValueName")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/808 T=STRING L=40")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PV Name of the Process Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "ProcValueName")
}

#<<<--- add_string("ProcValueEGU", 6,           PV_NAME="ProcValueEGU",             PV_DESC="EGU of the Process Value")
record(stringin, "Spk-000CDL:Cryo-PID-94:ProcValueEGU")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/848 T=STRING L=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "EGU of the Process Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "ProcValueEGU")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",       PV_ONAM="InhibitManual",                 PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-PID-94:Inhibit_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/856 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Inhibit_Manual")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",        PV_ONAM="InhibitForce",                  PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-PID-94:Inhibit_Force")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/856 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Inhibit_Force")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",           PV_ONAM="InhibitLocking",                PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-PID-94:Inhibit_Lock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/856 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Inhibit_Lock")
}


#Interlock signals
#<<<--- add_digital("MoveInterlock",           PV_DESC="Move Interlock",            PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-94:MoveInterlock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/856 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Move Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "MoveInterlock")
}

#<<<--- add_digital("GroupInterlock",          PV_DESC="Group Interlock",           PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-94:GroupInterlock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/856 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "GroupInterlock")
}


#for OPI visualization
#<<<--- add_digital("EnableAutoBtn",           PV_DESC="Enable Auto Button",        PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-94:EnableAutoBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/856 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Auto Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "EnableAutoBtn")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",      PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-94:EnableManualBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/856 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "EnableManualBtn")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",       PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-94:EnableForcedBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/856 T=UINT16 B=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "EnableForcedBtn")
}

#<<<--- add_digital("EnablePIDConf",           PV_DESC="Enable PID Configuration",  PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-94:EnablePIDConf")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/856 T=UINT16 B=8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable PID Configuration")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "EnablePIDConf")
}

#<<<--- add_digital("LatchAlarm",              PV_DESC="Enable Alarm Latching",     PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-94:LatchAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/856 T=UINT16 B=9")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Alarm Latching")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "LatchAlarm")
}

#<<<--- add_digital("GroupAlarm",              PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-PID-94:GroupAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/856 T=UINT16 B=10")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "GroupAlarm")
}


#Block Icon controls
#<<<--- add_digital("EnableBlkCtrl",           PV_DESC="Enable Block SP Button",     PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-94:EnableBlkCtrl")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/856 T=UINT16 B=11")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Block SP Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "EnableBlkCtrl")
}

#Forcing
#<<<--- add_digital("EnableForceValBtn",       PV_DESC="Enable Force Value Button", PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-94:EnableForceValBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/856 T=UINT16 B=12")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Value Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "EnableForceValBtn")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device locked",             PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-94:DevLocked")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/856 T=UINT16 B=13")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "DevLocked")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                              PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-PID-94:Faceplate_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/858 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Faceplate_LockID")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                              PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-PID-94:BlockIcon_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/862 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "BlockIcon_LockID")
}



#Alarm signals
#<<<--- add_major_alarm("LMN_HLIM",            "LMN_HLIM",                          PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-PID-94:LMN_HLIM")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/866 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "LMN_HLIM")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "LMN_HLIM")
}

#<<<--- add_major_alarm("LMN_LLIM",            "LMN_LLIM",                          PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-PID-94:LMN_LLIM")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/866 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "LMN_LLIM")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "LMN_LLIM")
}

#<<<--- add_major_alarm("IO_Error",            "HW IO Error",                       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PID-94:IO_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/866 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "IO_Error")
}

#<<<--- add_major_alarm("Input_Module_Error",  "HW Input Module Error",             PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PID-94:Input_Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/866 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Input Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Input_Module_Error")
}

#<<<--- add_major_alarm("Output_Module_Error", "HW Output Module Error",            PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PID-94:Output_Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/866 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Output Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Output_Module_Error")
}

#<<<--- add_major_alarm("Discrepancy_Error",   "Discrepancy_Error",                 PV_ZNAM="NominalState",                  PV_ONAM="Timeout")
record(bi, "Spk-000CDL:Cryo-PID-94:Discrepancy_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/866 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Timeout")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Discrepancy_Error")
}


#Warning signals
#<<<--- add_minor_alarm("ContDeviceInMan",     "ContDeviceInMan",                   PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-PID-94:ContDeviceInMan")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/866 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "ContDeviceInMan")
	field(OSV,  "MINOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "ContDeviceInMan")
}


#Feedbacks
#PID
#<<<--- add_analog("FB_Gain",                  "REAL" ,                             PV_DESC="FB Proportional gain")
record(ai, "Spk-000CDL:Cryo-PID-94:FB_Gain")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/868 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Proportional gain")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "FB_Gain")
}

#<<<--- add_analog("FB_TI",                    "DINT" ,                             PV_DESC="FB Integration time",           PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-PID-94:FB_TI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/872 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Integration time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "FB_TI")
}

#<<<--- add_analog("FB_TD",                    "DINT" ,                             PV_DESC="FB Derivative action time",     PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-PID-94:FB_TD")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/876 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Derivative action time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "FB_TD")
}


#<<<--- add_analog("FB_DEADB",                 "REAL" ,                             PV_DESC="FB Deadband")
record(ai, "Spk-000CDL:Cryo-PID-94:FB_DEADB")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/880 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Deadband")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "FB_DEADB")
}

#<<<--- add_analog("FB_LMN_HLIM",              "REAL" ,                             PV_DESC="FB High limit for MV")
record(ai, "Spk-000CDL:Cryo-PID-94:FB_LMN_HLIM")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/884 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB High limit for MV")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "FB_LMN_HLIM")
}

#<<<--- add_analog("FB_LMN_LLIM",              "REAL" ,                             PV_DESC="FB Low limit for MV")
record(ai, "Spk-000CDL:Cryo-PID-94:FB_LMN_LLIM")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/888 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Low limit for MV")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "FB_LMN_LLIM")
}

#<<<--- add_analog("FB_ForcePosition",         "REAL" ,                             PV_DESC="FB Force Valve Position (AI)",  PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-94:FB_ForcePosition")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/892 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Force Valve Position (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "FB_ForcePosition")
}

#<<<--- add_analog("FB_Setpoint",              "REAL" ,                             PV_DESC="FB Setpoint from HMI (SP)",     PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-94:FB_Setpoint")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/896 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "FB_Setpoint")
}

#<<<--- add_analog("FB_Step",                  "REAL" ,                             PV_DESC="FB Step value for Open/Close",  PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-94:FB_Step")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/900 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Step value for Open/Close")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "FB_Step")
}

#<<<--- add_analog("FB_Manipulated",           "REAL" ,                             PV_DESC="Force Manipulated value (AO)",  PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-94:FB_Manipulated")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/904 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Manipulated value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "FB_Manipulated")
}



#<<<--- add_digital("FB_P_ActionState",        PV_DESC="Proportional Action State")
record(bi, "Spk-000CDL:Cryo-PID-94:FB_P_ActionState")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/908 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Proportional Action State")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "FB_P_ActionState")
}

#<<<--- add_digital("FB_I_ActionState",        PV_DESC="Integral Action State")
record(bi, "Spk-000CDL:Cryo-PID-94:FB_I_ActionState")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/908 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Integral Action State")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "FB_I_ActionState")
}

#<<<--- add_digital("FB_D_ActionState",        PV_DESC="Differential Action State")
record(bi, "Spk-000CDL:Cryo-PID-94:FB_D_ActionState")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/908 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Differential Action State")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "FB_D_ActionState")
}


#Standby Synchroniztaion
#<<<--- add_digital("FB_SS_State",             PV_DESC="Standby Synchroniztaion State")
record(bi, "Spk-000CDL:Cryo-PID-94:FB_SS_State")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/908 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Standby Synchroniztaion State")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "FB_SS_State")
}

#<<<--- add_analog("FB_SS_Value",              "REAL" ,                             PV_DESC="Standby Synchroniztaion Value", PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-94:FB_SS_Value")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/910 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Standby Synchroniztaion Value")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "FB_SS_Value")
}


#MeasValue Message
#<<<--- add_string("MeasValue_Msg",				39,             	PV_NAME="Measured_Value_Msg",   	PV_DESC="Measured Value Message")
record(stringin, "Spk-000CDL:Cryo-PID-94:Measured_Value_Msg")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/914 T=STRING L=40")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Measured Value Message")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "MeasValue_Msg")
}


############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-PID-94 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Auto",                PV_DESC="CMD: Auto Mode")
record(bo, "Spk-000CDL:Cryo-PID-94:Cmd_Auto")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 164, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Cmd_Auto")
}

#<<<--- add_digital("Cmd_Manual",              PV_DESC="CMD: Manual Mode")
record(bo, "Spk-000CDL:Cryo-PID-94:Cmd_Manual")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 164, 0x0002, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Cmd_Manual")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-PID-94:Cmd_Force")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 164, 0x0004, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Cmd_Force")
}


#<<<--- add_digital("Cmd_EnablePID_Conf",      PV_DESC="CMD: Enable PID configuration from OPI")
record(bo, "Spk-000CDL:Cryo-PID-94:Cmd_EnablePID_Conf")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 164, 0x0008, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Enable PID configuration from OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Cmd_EnablePID_Conf")
}

#<<<--- add_digital("Cmd_DisablePID_Conf",     PV_DESC="CMD: Disable PID configuration from OPI")
record(bo, "Spk-000CDL:Cryo-PID-94:Cmd_DisablePID_Conf")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 164, 0x0010, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Disable PID configuration from OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Cmd_DisablePID_Conf")
}


#<<<--- add_digital("Cmd_P_ON",                PV_DESC="CMD: Enable P-Action")
record(bo, "Spk-000CDL:Cryo-PID-94:Cmd_P_ON")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 164, 0x0020, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Enable P-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Cmd_P_ON")
}

#<<<--- add_digital("Cmd_P_OFF",               PV_DESC="CMD: Disable P-Action")
record(bo, "Spk-000CDL:Cryo-PID-94:Cmd_P_OFF")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 164, 0x0040, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Disable P-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Cmd_P_OFF")
}


#<<<--- add_digital("Cmd_I_ON",                PV_DESC="CMD: Enable I-Action")
record(bo, "Spk-000CDL:Cryo-PID-94:Cmd_I_ON")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 164, 0x0080, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Enable I-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Cmd_I_ON")
}

#<<<--- add_digital("Cmd_I_OFF",               PV_DESC="CMD: Disable I-Action")
record(bo, "Spk-000CDL:Cryo-PID-94:Cmd_I_OFF")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 164, 0x0100, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Disable I-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Cmd_I_OFF")
}


#<<<--- add_digital("Cmd_D_ON",                PV_DESC="CMD: Enable D-Action")
record(bo, "Spk-000CDL:Cryo-PID-94:Cmd_D_ON")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 164, 0x0200, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Enable D-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Cmd_D_ON")
}

#<<<--- add_digital("Cmd_D_OFF",               PV_DESC="CMD: Disable D-Action")
record(bo, "Spk-000CDL:Cryo-PID-94:Cmd_D_OFF")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 164, 0x0400, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Disable D-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Cmd_D_OFF")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-PID-94:Cmd_AckAlarm")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 164, 0x0800, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Cmd_AckAlarm")
}


#<<<--- add_digital("Cmd_ForceValInp",         PV_DESC="CMD: Force Valve PLC Input")
record(bo, "Spk-000CDL:Cryo-PID-94:Cmd_ForceValInp")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 164, 0x1000, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Valve PLC Input")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Cmd_ForceValInp")
}

#<<<--- add_digital("Cmd_ForceValOut",         PV_DESC="CMD: Force Valve PLC Output")
record(bo, "Spk-000CDL:Cryo-PID-94:Cmd_ForceValOut")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 164, 0x2000, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Valve PLC Output")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Cmd_ForceValOut")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-PID-94:Cmd_ForceUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 164, 0x4000, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-PID-94:Cmd_DevLock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 164, 0x8000, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Cmd_DevLock")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-PID-94:Cmd_DevUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 165, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Cmd_DevUnlock")
}



############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-PID-94 EPICS -> PLC parameters ##########
##########
#PID
#<<<--- add_analog("P_Gain",                   "REAL" ,                             PV_DESC="PID Proportional gain")
record(ao, "Spk-000CDL:Cryo-PID-94:P_Gain")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 166, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Proportional gain")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "P_Gain")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_TI",                     "DINT" ,                             PV_DESC="PID Integration time",          PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-PID-94:P_TI")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 168, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Integration time")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(EGU,  "sec")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "P_TI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_TD",                     "DINT" ,                             PV_DESC="PID Derivative action time",    PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-PID-94:P_TD")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 170, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Derivative action time")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(EGU,  "sec")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "P_TD")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_analog("P_DEADB",                  "REAL" ,                             PV_DESC="PID Deadband")
record(ao, "Spk-000CDL:Cryo-PID-94:P_DEADB")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 172, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Deadband")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "P_DEADB")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_LMN_HLIM",               "REAL" ,                             PV_DESC="PID High limit for MV")
record(ao, "Spk-000CDL:Cryo-PID-94:P_LMN_HLIM")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 174, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID High limit for MV")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "P_LMN_HLIM")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_LMN_LLIM",               "REAL" ,                             PV_DESC="PID Low limit for MV")
record(ao, "Spk-000CDL:Cryo-PID-94:P_LMN_LLIM")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 176, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Low limit for MV")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "P_LMN_LLIM")
	info(autosaveFields_pass0, "VAL")
}


#Setpoint and Manipulated value from HMI
#<<<--- add_analog("P_ForcePosition",          "REAL" ,                             PV_DESC="Force Valve position (AI)",     PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-PID-94:P_ForcePosition")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 178, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Valve position (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "P_ForcePosition")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Setpoint",               "REAL" ,                             PV_DESC="Setpoint from HMI (SP)",        PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-PID-94:P_Setpoint")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 180, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "P_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Manipulated",            "REAL" ,                             PV_DESC="Force Manipulated value (AO)",  PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-PID-94:P_Manipulated")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 182, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Manipulated value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "P_Manipulated")
	info(autosaveFields_pass0, "VAL")
}


#Step value when pressing Cmd_Open1Step or Cmd_Close1Step
#<<<--- add_analog("P_Step",                   "REAL" ,                             PV_DESC="Step value for open close",     PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-PID-94:P_Step")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 184, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Step value for open close")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "P_Step")
	info(autosaveFields_pass0, "VAL")
}



#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                              PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-PID-94:P_Faceplate_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 186, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                              PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-PID-94:P_BlockIcon_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 188, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-PID-94:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-PID-94:P_Gain")
	field(LNK2, "Spk-000CDL:Cryo-PID-94:P_TI")
	field(LNK3, "Spk-000CDL:Cryo-PID-94:P_TD")
	field(LNK4, "Spk-000CDL:Cryo-PID-94:P_DEADB")
	field(LNK5, "Spk-000CDL:Cryo-PID-94:P_LMN_HLIM")
	field(LNK6, "Spk-000CDL:Cryo-PID-94:P_LMN_LLIM")
	field(LNK7, "Spk-000CDL:Cryo-PID-94:P_ForcePosition")
	field(LNK8, "Spk-000CDL:Cryo-PID-94:P_Setpoint")
	field(LNK9, "Spk-000CDL:Cryo-PID-94:P_Manipulated")
	field(LNKA, "Spk-000CDL:Cryo-PID-94:P_Step")
	field(LNKB, "Spk-000CDL:Cryo-PID-94:P_Faceplate_LockID")
	field(LNKC, "Spk-000CDL:Cryo-PID-94:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-CV-91 ##########
##########
########## CommandWordsLength: 1
########## ParameterWordsLength: 22
########## StatusWordsLength: 75
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_CV_PB_SIPART                                                           ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
#Siemens Sipart PS2 Valve Positioner
##                                                                                          ##
##
############################           Version: 1.7           ################################
#Author:	Emilio Asensi
#Date:		06-09-2022
#Version:  v1.7
#Changes:
#Added pvs for timer and filter
############################           Version: 1.6           ################################
#Author:	Emilio Asensi
#Date:		03-05-2021
#Version:  v1.6
#Changes:
#Added missing alarm signals                                                                                  ##
############################           Version: 1.5           ################################
#Author:	Peter Talas
#Date:		16-03-2021
#Version:  v1.5
#Changes:
#Archiving added
#rpm changed to % on the ramping parameters
#Interlock Message added
############################           Version: 1.4           ################################
#Author:	Miklos Boros
#Date:		27-05-2019
#Version:  v1.4
#Changes:
#Integration to CryoLibrary
#Variable name unification
############################           Version: 1.3           ################################
#Author:	Emilio Asensi
#Date:		24-01-2019
#Version:  v1.3
#Changes:
#Accommodate changes on CMS_CV
#1. Changed smoother ramping
#Sipart module information
#2. Removed Cascade operation
#3. Modified CheckBack diagnostic bytes
############################           Version: 1.2           ################################
#Author:	Emilio Asensi
#Date:		13-09-2018
#Version:  v1.2
#Changes:
#Accommodate the changes on CMS_CV
#1. Modified "For OPI visualisation" section: Added digital variable "FB_Keep_Setpoint".
#2. Modified "Parameter Block" section: Added digital variable "P_Keep_Setpoint".
#3. Modified Alarm Signal section to be compatible with new format.
############################           Version: 1.0           ################################
#Author:   Miklos Boros, Emilio Asensi
#Date:	    17-05-2018
#Version:  v1.0
#Note:     Based on CMS_CV.def
##############################################################################################


############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-CV-91 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_Auto",                           PV_DESC="Operation Mode Auto",        PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-91:OpMode_Auto")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/954 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "OpMode_Auto")
}

#<<<--- add_digital("OpMode_Manual",                         PV_DESC="Operation Mode Manual",      PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-91:OpMode_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/954 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "OpMode_Manual")
}

#<<<--- add_digital("OpMode_Forced",                         PV_DESC="Operation Mode Forced",      PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-91:OpMode_Forced")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/954 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "OpMode_Forced")
}

#<<<--- add_analog("ValveColor","INT",                       PV_DESC="BlockIcon valve color")
record(ai, "Spk-000CDL:Cryo-CV-91:ValveColor")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/956 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "BlockIcon valve color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "ValveColor")
}


#Valve states
#<<<--- add_analog("ValvePosition","REAL",  ARCHIVE=True,    PV_DESC="Valve Position AI",          PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-91:ValvePosition")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/958 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Position AI")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "ValvePosition")
}

#<<<--- add_analog("ValveSP","REAL",  ARCHIVE=True,          PV_DESC="Valve Setpoint",             PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-91:ValveSP")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/962 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Setpoint")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "ValveSP")
}

#<<<--- add_analog("ValveMV","REAL",  ARCHIVE=True,          PV_DESC="Valve Control AO",           PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-91:ValveMV")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/966 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Control AO")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "ValveMV")
}

#<<<--- add_digital("Opening",                               PV_DESC="Valve opening",              PV_ONAM="Opening",          PV_ZNAM="NotMoving")
record(bi, "Spk-000CDL:Cryo-CV-91:Opening")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/970 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve opening")
	field(ONAM, "Opening")
	field(ZNAM, "NotMoving")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Opening")
}

#<<<--- add_digital("Closing",                               PV_DESC="Valve closing",              PV_ONAM="Closing",          PV_ZNAM="NotMoving")
record(bi, "Spk-000CDL:Cryo-CV-91:Closing")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/970 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve closing")
	field(ONAM, "Closing")
	field(ZNAM, "NotMoving")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Closing")
}

#<<<--- add_analog("StatusRB","BYTE" ,                       PV_DESC="Valve ReadBack Status")
record(ai, "Spk-000CDL:Cryo-CV-91:StatusRB")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/972 T=UINT8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve ReadBack Status")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "StatusRB")
}

#<<<--- add_analog("DiscretePosition","INT" ,                PV_DESC="Valve Discrete Position (0-3)")
record(ai, "Spk-000CDL:Cryo-CV-91:DiscretePosition")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/974 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Discrete Position (0-3)")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "DiscretePosition")
}

#<<<--- add_analog("DiscreteStatus","BYTE" ,                 PV_DESC="Valve Discrete Status")
record(ai, "Spk-000CDL:Cryo-CV-91:DiscreteStatus")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/976 T=UINT8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Discrete Status")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "DiscreteStatus")
}

#<<<--- add_analog("DiagnosticsCB01","BYTE" ,                PV_DESC="CheckBack byte 01")
record(ai, "Spk-000CDL:Cryo-CV-91:DiagnosticsCB01")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/978 T=UINT8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CheckBack byte 01")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "DiagnosticsCB01")
}

#<<<--- add_analog("DiagnosticsCB02","BYTE" ,                PV_DESC="CheckBack byte 02")
record(ai, "Spk-000CDL:Cryo-CV-91:DiagnosticsCB02")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/980 T=UINT8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CheckBack byte 02")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "DiagnosticsCB02")
}

#<<<--- add_analog("DiagnosticsCB03","BYTE" ,                PV_DESC="CheckBack byte 03")
record(ai, "Spk-000CDL:Cryo-CV-91:DiagnosticsCB03")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/982 T=UINT8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CheckBack byte 03")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "DiagnosticsCB03")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",                        PV_DESC="Inhibit Manual Mode",        PV_ONAM="InhibitManual",    PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-CV-91:Inhibit_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/984 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Inhibit_Manual")
}

#<<<--- add_digital("Inhibit_Force",                         PV_DESC="Inhibit Force Mode",         PV_ONAM="InhibitForce",     PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-CV-91:Inhibit_Force")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/984 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Inhibit_Force")
}

#<<<--- add_digital("Inhibit_Lock",                          PV_DESC="Inhibit Locking",            PV_ONAM="InhibitLocking",   PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-CV-91:Inhibit_Lock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/984 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Inhibit_Lock")
}


#Interlock signals
#<<<--- add_digital("GroupInterlock",                        PV_DESC="Group Interlock",            PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-91:GroupInterlock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/984 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "GroupInterlock")
}

#<<<--- add_string("InterlockMsg", 39,                       PV_NAME="InterlockMsg",               PV_DESC="Interlock Message")
record(stringin, "Spk-000CDL:Cryo-CV-91:InterlockMsg")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/986 T=STRING L=40")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Interlock Message")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "InterlockMsg")
}

#<<<--- add_digital("MoveInterlock",  ARCHIVE=True,          PV_DESC="Move Interlock",             PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-91:MoveInterlock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1026 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Move Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "MoveInterlock")
}


#for OPI visualization
#<<<--- add_digital("EnableAutoBtn",                         PV_DESC="Enable Auto Button",         PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-91:EnableAutoBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1026 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Auto Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "EnableAutoBtn")
}

#<<<--- add_digital("EnableManualBtn",                       PV_DESC="Enable Manual Button",       PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-91:EnableManualBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1026 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "EnableManualBtn")
}

#<<<--- add_digital("EnableForcedBtn",                       PV_DESC="Enable Force Button",        PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-91:EnableForcedBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1026 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "EnableForcedBtn")
}


#Block Icon controls
#<<<--- add_digital("EnableBlkCtrl",                         PV_DESC="Enable Block SP Button",     PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-91:EnableBlkCtrl")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1026 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Block SP Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "EnableBlkCtrl")
}


#Forcing
#<<<--- add_digital("EnableForceValBtn",                     PV_DESC="Enable Force Value Button",  PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-91:EnableForceValBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1026 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Value Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "EnableForceValBtn")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",                             PV_DESC="Device locked",              PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-91:DevLocked")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1026 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "DevLocked")
}

#<<<--- add_analog("Faceplate_LockID","DINT",                PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-CV-91:Faceplate_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1028 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Faceplate_LockID")
}

#<<<--- add_analog("BlockIcon_LockID","DINT",                PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-CV-91:BlockIcon_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1032 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "BlockIcon_LockID")
}


#<<<--- add_digital("LatchAlarm",                            PV_DESC="Latching of the alarms")
record(bi, "Spk-000CDL:Cryo-CV-91:LatchAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1036 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "LatchAlarm")
}

#<<<--- add_digital("GroupAlarm",                            PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-CV-91:GroupAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1036 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "GroupAlarm")
}


#Alarm signals
#<<<--- add_major_alarm("Position_Discrep","Position Discrepancy",           PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-91:Position_Discrep")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1036 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Position Discrepancy")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Position_Discrep")
}

#<<<--- add_major_alarm("IO_Error","HW IO Error",                            PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-91:IO_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1036 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "IO_Error")
}

#<<<--- add_major_alarm("Module_Error","HW Output Module Error",             PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-91:Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1036 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Output Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Module_Error")
}

#<<<--- add_major_alarm("Input_Module_Error","HW Input Module Error",        PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-91:Input_Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1036 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Input Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Input_Module_Error")
}

#<<<--- add_major_alarm("Output_Module_Error","HW Output Module Error",      PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-91:Output_Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1036 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Output Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Output_Module_Error")
}

#<<<--- add_minor_alarm("SPLimitActive","SPLimitActive",                     PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-91:SPLimitActive")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1036 T=UINT16 B=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "SPLimitActive")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "SPLimitActive")
}

#<<<--- add_major_alarm("SSTriggered","SSTriggered",                         PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-91:SSTriggered")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1036 T=UINT16 B=8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "SSTriggered")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "SSTriggered")
}


#Discrepancy
#<<<--- add_analog("DiscrPerc","REAL" ,                      PV_DESC="Discrepancy In Percent",                     PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-91:DiscrPerc")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1038 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Discrepancy In Percent")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "DiscrPerc")
}

#<<<--- add_time("DiscrTime",                                PV_DESC="Discrepancy Time Interval")
record(ai, "Spk-000CDL:Cryo-CV-91:DiscrTime")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1042 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Discrepancy Time Interval")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "DiscrTime")
}


#Ramping
#<<<--- add_analog("MaxRampUPSpd","REAL",                    PV_DESC="Maximum Ramping UP Speed",                 PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-CV-91:MaxRampUPSpd")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1046 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum Ramping UP Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "MaxRampUPSpd")
}

#<<<--- add_analog("MaxRampDNSpd","REAL",                    PV_DESC="Maximum Ramping DOWN Speed",               PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-CV-91:MaxRampDNSpd")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1050 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum Ramping DOWN Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "MaxRampDNSpd")
}

#<<<--- add_analog("ActRampSpeed","REAL",                    PV_DESC="Actual Ramping Speed",                     PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-CV-91:ActRampSpeed")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1054 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Actual Ramping Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "ActRampSpeed")
}

#<<<--- add_digital("Ramping",                               PV_DESC="Ramping Indicator",                        PV_ONAM="True",                                     PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-91:Ramping")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1058 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Indicator")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Ramping")
}

#<<<--- add_digital("RampSettingOK",                         PV_DESC="Ramping can be enabled",                   PV_ONAM="True",                                     PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-91:RampSettingOK")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1058 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping can be enabled")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "RampSettingOK")
}


#Feedbacks
#<<<--- add_analog("FB_RampUPTIME","INT",                    PV_DESC="Ramping UP time",                          PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-CV-91:FB_RampUPTIME")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1060 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "FB_RampUPTIME")
}

#<<<--- add_analog("FB_RampUPRANGE","REAL",                  PV_DESC="Ramping UP range",                         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-91:FB_RampUPRANGE")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1062 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "FB_RampUPRANGE")
}

#<<<--- add_analog("FB_RampDNTIME","INT",                    PV_DESC="Ramping DOWN time",                        PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-CV-91:FB_RampDNTIME")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1066 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "FB_RampDNTIME")
}

#<<<--- add_analog("FB_RampDNRANGE","REAL",                  PV_DESC="Ramping DOWN range",                       PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-91:FB_RampDNRANGE")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1068 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "FB_RampDNRANGE")
}

#<<<--- add_analog("FB_ForcePosition","REAL" ,               PV_DESC="FB Force Valve Position (AI)",             PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-91:FB_ForcePosition")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1072 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Force Valve Position (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "FB_ForcePosition")
}

#<<<--- add_analog("FB_Setpoint","REAL" ,                    PV_DESC="FB Setpoint from HMI (SP)",                PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-91:FB_Setpoint")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1076 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "FB_Setpoint")
}

#<<<--- add_analog("FB_Manipulated","REAL" ,                 PV_DESC="FB Manipulated Value (AO)",                PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-91:FB_Manipulated")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1080 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Manipulated Value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "FB_Manipulated")
}

#<<<--- add_analog("FB_Step","REAL" ,                        PV_DESC="FB Step value for Open/Close",             PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-91:FB_Step")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1084 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Step value for Open/Close")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "FB_Step")
}

#<<<--- add_analog("FB_RampTIME","INT" ,                     PV_DESC="Ramping Time",                             PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-CV-91:FB_RampTIME")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1088 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "FB_RampTIME")
}

#<<<--- add_analog("FB_RampRANGE","REAL" ,                   PV_DESC="Ramping Range",                            PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-91:FB_RampRANGE")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1090 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "FB_RampRANGE")
}


#Checkback
#add_analog("CB_ValvePosition","REAL",                PV_DESC="CB Valve Position",          PV_EGU="%")
#add_analog("CB_ValveStatus","REAL",                  PV_DESC="CB Valve Status")
#add_analog("CB_ValvePOSD","REAL",                    PV_DESC="CB Valve discrete Position")
#add_analog("CB_ValveStatusD","REAL",                 PV_DESC="CB Valve discrete Status")
#add_analog("CB_ValveDIAG","REAL",                    PV_DESC="CB Valve Diagnostics")

#Timers and Filters
#<<<--- add_digital("Timer_enabled")
record(bi, "Spk-000CDL:Cryo-CV-91:Timer_enabled")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1094 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Timer_enabled")
}

#<<<--- add_digital("T_triggered")
record(bi, "Spk-000CDL:Cryo-CV-91:T_triggered")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1094 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "T_triggered")
}

#<<<--- add_analog("T_running", "INT")
record(ai, "Spk-000CDL:Cryo-CV-91:T_running")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1096 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "T_running")
}

#<<<--- add_digital("F_enabled")
record(bi, "Spk-000CDL:Cryo-CV-91:F_enabled")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1098 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "F_enabled")
}

#<<<--- add_analog("FiltedValue", "REAL")
record(ai, "Spk-000CDL:Cryo-CV-91:FiltedValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1100 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "FiltedValue")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-CV-91 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Auto",                              PV_DESC="CMD: Auto Mode")
record(bo, "Spk-000CDL:Cryo-CV-91:Cmd_Auto")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 190, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Cmd_Auto")
}

#<<<--- add_digital("Cmd_Manual",                            PV_DESC="CMD: Manual Mode")
record(bo, "Spk-000CDL:Cryo-CV-91:Cmd_Manual")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 190, 0x0002, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Cmd_Manual")
}

#<<<--- add_digital("Cmd_Force",                             PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-CV-91:Cmd_Force")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 190, 0x0004, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Cmd_Force")
}


#<<<--- add_digital("Cmd_RampON",                            PV_DESC="Turn Ramping ON")
record(bo, "Spk-000CDL:Cryo-CV-91:Cmd_RampON")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 190, 0x0008, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Turn Ramping ON")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Cmd_RampON")
}

#<<<--- add_digital("Cmd_RampOFF",                           PV_DESC="Turn Ramping OFF")
record(bo, "Spk-000CDL:Cryo-CV-91:Cmd_RampOFF")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 190, 0x0010, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Turn Ramping OFF")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Cmd_RampOFF")
}


#<<<--- add_digital("Cmd_AckAlarm",                          PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-CV-91:Cmd_AckAlarm")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 190, 0x0020, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Cmd_AckAlarm")
}


#<<<--- add_digital("Cmd_ForceValInp",                       PV_DESC="CMD: Force Valve PLC Input")
record(bo, "Spk-000CDL:Cryo-CV-91:Cmd_ForceValInp")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 190, 0x0040, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Valve PLC Input")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Cmd_ForceValInp")
}

#<<<--- add_digital("Cmd_ForceValOut",                       PV_DESC="CMD: Force Valve PLC Output")
record(bo, "Spk-000CDL:Cryo-CV-91:Cmd_ForceValOut")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 190, 0x0080, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Valve PLC Output")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Cmd_ForceValOut")
}


#<<<--- add_digital("Cmd_ForceUnlock",                       PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-CV-91:Cmd_ForceUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 190, 0x0100, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
}

#<<<--- add_digital("Cmd_DevLock",                           PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-CV-91:Cmd_DevLock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 190, 0x0200, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Cmd_DevLock")
}

#<<<--- add_digital("Cmd_DevUnlock",                         PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-CV-91:Cmd_DevUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 190, 0x0400, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Cmd_DevUnlock")
}



############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-CV-91 EPICS -> PLC parameters ##########
##########

#Setpoint and Manipulated value from HMI
#<<<--- add_analog("P_ForcePosition","REAL" ,                PV_DESC="Force Valve position (AI)",             PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-91:P_ForcePosition")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 191, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Valve position (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "P_ForcePosition")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Setpoint","REAL" ,                     PV_DESC="Setpoint from HMI (SP)",                PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-91:P_Setpoint")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 193, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "P_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Manipulated","REAL" ,                  PV_DESC="Manipulated value (AO)",                PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-91:P_Manipulated")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 195, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "P_Manipulated")
	info(autosaveFields_pass0, "VAL")
}


#Step value when pressing Cmd_Open1Step or Cmd_Close1Step
#<<<--- add_analog("P_Step","REAL" ,                         PV_DESC="Step value for open close",             PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-91:P_Step")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 197, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Step value for open close")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "P_Step")
	info(autosaveFields_pass0, "VAL")
}


#Ramping speed from the HMI
#<<<--- add_analog("P_RampUPTIME","INT",                     PV_DESC="Ramping UP Time",                          PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-CV-91:P_RampUPTIME")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 199, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Time")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(EGU,  "sec")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "P_RampUPTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampUPRANGE","REAL",                   PV_DESC="Ramping UP Range",                         PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-91:P_RampUPRANGE")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 200, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "P_RampUPRANGE")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNTIME","INT",                     PV_DESC="Ramping DOWN Time",                        PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-CV-91:P_RampDNTIME")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 202, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Time")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(EGU,  "sec")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "P_RampDNTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNRANGE","REAL",                   PV_DESC="Ramping DOWN Range",                       PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-91:P_RampDNRANGE")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 203, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "P_RampDNRANGE")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID","DINT",              PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-CV-91:P_Faceplate_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 205, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID","DINT",              PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-CV-91:P_BlockIcon_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 207, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Timers and Filters
#<<<--- add_analog("T_period", "INT")
record(ao, "Spk-000CDL:Cryo-CV-91:T_period")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 209, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "T_period")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("F_interval", "INT")
record(ao, "Spk-000CDL:Cryo-CV-91:F_interval")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 210, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "F_interval")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("F_buffer", "INT")
record(ao, "Spk-000CDL:Cryo-CV-91:F_buffer")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 211, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "F_buffer")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("F_Enable")
record(bo, "Spk-000CDL:Cryo-CV-91:F_Enable")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 212, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "F_Enable")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-CV-91:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-CV-91:P_ForcePosition")
	field(LNK2, "Spk-000CDL:Cryo-CV-91:P_Setpoint")
	field(LNK3, "Spk-000CDL:Cryo-CV-91:P_Manipulated")
	field(LNK4, "Spk-000CDL:Cryo-CV-91:P_Step")
	field(LNK5, "Spk-000CDL:Cryo-CV-91:P_RampUPTIME")
	field(LNK6, "Spk-000CDL:Cryo-CV-91:P_RampUPRANGE")
	field(LNK7, "Spk-000CDL:Cryo-CV-91:P_RampDNTIME")
	field(LNK8, "Spk-000CDL:Cryo-CV-91:P_RampDNRANGE")
	field(LNK9, "Spk-000CDL:Cryo-CV-91:P_Faceplate_LockID")
	field(LNKA, "Spk-000CDL:Cryo-CV-91:P_BlockIcon_LockID")
	field(LNKB, "Spk-000CDL:Cryo-CV-91:T_period")
	field(LNKC, "Spk-000CDL:Cryo-CV-91:F_interval")
	field(LNKD, "Spk-000CDL:Cryo-CV-91:F_buffer")
	field(LNKE, "Spk-000CDL:Cryo-CV-91:F_Enable")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-CV-92 ##########
##########
########## CommandWordsLength: 1
########## ParameterWordsLength: 22
########## StatusWordsLength: 75
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_CV_PB_SIPART                                                           ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
#Siemens Sipart PS2 Valve Positioner
##                                                                                          ##
##
############################           Version: 1.7           ################################
#Author:	Emilio Asensi
#Date:		06-09-2022
#Version:  v1.7
#Changes:
#Added pvs for timer and filter
############################           Version: 1.6           ################################
#Author:	Emilio Asensi
#Date:		03-05-2021
#Version:  v1.6
#Changes:
#Added missing alarm signals                                                                                  ##
############################           Version: 1.5           ################################
#Author:	Peter Talas
#Date:		16-03-2021
#Version:  v1.5
#Changes:
#Archiving added
#rpm changed to % on the ramping parameters
#Interlock Message added
############################           Version: 1.4           ################################
#Author:	Miklos Boros
#Date:		27-05-2019
#Version:  v1.4
#Changes:
#Integration to CryoLibrary
#Variable name unification
############################           Version: 1.3           ################################
#Author:	Emilio Asensi
#Date:		24-01-2019
#Version:  v1.3
#Changes:
#Accommodate changes on CMS_CV
#1. Changed smoother ramping
#Sipart module information
#2. Removed Cascade operation
#3. Modified CheckBack diagnostic bytes
############################           Version: 1.2           ################################
#Author:	Emilio Asensi
#Date:		13-09-2018
#Version:  v1.2
#Changes:
#Accommodate the changes on CMS_CV
#1. Modified "For OPI visualisation" section: Added digital variable "FB_Keep_Setpoint".
#2. Modified "Parameter Block" section: Added digital variable "P_Keep_Setpoint".
#3. Modified Alarm Signal section to be compatible with new format.
############################           Version: 1.0           ################################
#Author:   Miklos Boros, Emilio Asensi
#Date:	    17-05-2018
#Version:  v1.0
#Note:     Based on CMS_CV.def
##############################################################################################


############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-CV-92 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_Auto",                           PV_DESC="Operation Mode Auto",        PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-92:OpMode_Auto")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1104 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "OpMode_Auto")
}

#<<<--- add_digital("OpMode_Manual",                         PV_DESC="Operation Mode Manual",      PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-92:OpMode_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1104 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "OpMode_Manual")
}

#<<<--- add_digital("OpMode_Forced",                         PV_DESC="Operation Mode Forced",      PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-92:OpMode_Forced")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1104 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "OpMode_Forced")
}

#<<<--- add_analog("ValveColor","INT",                       PV_DESC="BlockIcon valve color")
record(ai, "Spk-000CDL:Cryo-CV-92:ValveColor")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1106 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "BlockIcon valve color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "ValveColor")
}


#Valve states
#<<<--- add_analog("ValvePosition","REAL",  ARCHIVE=True,    PV_DESC="Valve Position AI",          PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-92:ValvePosition")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1108 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Position AI")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "ValvePosition")
}

#<<<--- add_analog("ValveSP","REAL",  ARCHIVE=True,          PV_DESC="Valve Setpoint",             PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-92:ValveSP")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1112 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Setpoint")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "ValveSP")
}

#<<<--- add_analog("ValveMV","REAL",  ARCHIVE=True,          PV_DESC="Valve Control AO",           PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-92:ValveMV")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1116 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Control AO")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "ValveMV")
}

#<<<--- add_digital("Opening",                               PV_DESC="Valve opening",              PV_ONAM="Opening",          PV_ZNAM="NotMoving")
record(bi, "Spk-000CDL:Cryo-CV-92:Opening")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1120 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve opening")
	field(ONAM, "Opening")
	field(ZNAM, "NotMoving")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Opening")
}

#<<<--- add_digital("Closing",                               PV_DESC="Valve closing",              PV_ONAM="Closing",          PV_ZNAM="NotMoving")
record(bi, "Spk-000CDL:Cryo-CV-92:Closing")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1120 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve closing")
	field(ONAM, "Closing")
	field(ZNAM, "NotMoving")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Closing")
}

#<<<--- add_analog("StatusRB","BYTE" ,                       PV_DESC="Valve ReadBack Status")
record(ai, "Spk-000CDL:Cryo-CV-92:StatusRB")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1122 T=UINT8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve ReadBack Status")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "StatusRB")
}

#<<<--- add_analog("DiscretePosition","INT" ,                PV_DESC="Valve Discrete Position (0-3)")
record(ai, "Spk-000CDL:Cryo-CV-92:DiscretePosition")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1124 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Discrete Position (0-3)")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "DiscretePosition")
}

#<<<--- add_analog("DiscreteStatus","BYTE" ,                 PV_DESC="Valve Discrete Status")
record(ai, "Spk-000CDL:Cryo-CV-92:DiscreteStatus")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1126 T=UINT8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Discrete Status")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "DiscreteStatus")
}

#<<<--- add_analog("DiagnosticsCB01","BYTE" ,                PV_DESC="CheckBack byte 01")
record(ai, "Spk-000CDL:Cryo-CV-92:DiagnosticsCB01")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1128 T=UINT8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CheckBack byte 01")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "DiagnosticsCB01")
}

#<<<--- add_analog("DiagnosticsCB02","BYTE" ,                PV_DESC="CheckBack byte 02")
record(ai, "Spk-000CDL:Cryo-CV-92:DiagnosticsCB02")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1130 T=UINT8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CheckBack byte 02")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "DiagnosticsCB02")
}

#<<<--- add_analog("DiagnosticsCB03","BYTE" ,                PV_DESC="CheckBack byte 03")
record(ai, "Spk-000CDL:Cryo-CV-92:DiagnosticsCB03")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1132 T=UINT8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CheckBack byte 03")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "DiagnosticsCB03")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",                        PV_DESC="Inhibit Manual Mode",        PV_ONAM="InhibitManual",    PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-CV-92:Inhibit_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1134 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Inhibit_Manual")
}

#<<<--- add_digital("Inhibit_Force",                         PV_DESC="Inhibit Force Mode",         PV_ONAM="InhibitForce",     PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-CV-92:Inhibit_Force")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1134 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Inhibit_Force")
}

#<<<--- add_digital("Inhibit_Lock",                          PV_DESC="Inhibit Locking",            PV_ONAM="InhibitLocking",   PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-CV-92:Inhibit_Lock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1134 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Inhibit_Lock")
}


#Interlock signals
#<<<--- add_digital("GroupInterlock",                        PV_DESC="Group Interlock",            PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-92:GroupInterlock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1134 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "GroupInterlock")
}

#<<<--- add_string("InterlockMsg", 39,                       PV_NAME="InterlockMsg",               PV_DESC="Interlock Message")
record(stringin, "Spk-000CDL:Cryo-CV-92:InterlockMsg")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1136 T=STRING L=40")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Interlock Message")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "InterlockMsg")
}

#<<<--- add_digital("MoveInterlock",  ARCHIVE=True,          PV_DESC="Move Interlock",             PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-92:MoveInterlock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1176 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Move Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "MoveInterlock")
}


#for OPI visualization
#<<<--- add_digital("EnableAutoBtn",                         PV_DESC="Enable Auto Button",         PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-92:EnableAutoBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1176 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Auto Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "EnableAutoBtn")
}

#<<<--- add_digital("EnableManualBtn",                       PV_DESC="Enable Manual Button",       PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-92:EnableManualBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1176 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "EnableManualBtn")
}

#<<<--- add_digital("EnableForcedBtn",                       PV_DESC="Enable Force Button",        PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-92:EnableForcedBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1176 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "EnableForcedBtn")
}


#Block Icon controls
#<<<--- add_digital("EnableBlkCtrl",                         PV_DESC="Enable Block SP Button",     PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-92:EnableBlkCtrl")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1176 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Block SP Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "EnableBlkCtrl")
}


#Forcing
#<<<--- add_digital("EnableForceValBtn",                     PV_DESC="Enable Force Value Button",  PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-92:EnableForceValBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1176 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Value Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "EnableForceValBtn")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",                             PV_DESC="Device locked",              PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-92:DevLocked")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1176 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "DevLocked")
}

#<<<--- add_analog("Faceplate_LockID","DINT",                PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-CV-92:Faceplate_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1178 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Faceplate_LockID")
}

#<<<--- add_analog("BlockIcon_LockID","DINT",                PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-CV-92:BlockIcon_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1182 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "BlockIcon_LockID")
}


#<<<--- add_digital("LatchAlarm",                            PV_DESC="Latching of the alarms")
record(bi, "Spk-000CDL:Cryo-CV-92:LatchAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1186 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "LatchAlarm")
}

#<<<--- add_digital("GroupAlarm",                            PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-CV-92:GroupAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1186 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "GroupAlarm")
}


#Alarm signals
#<<<--- add_major_alarm("Position_Discrep","Position Discrepancy",           PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-92:Position_Discrep")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1186 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Position Discrepancy")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Position_Discrep")
}

#<<<--- add_major_alarm("IO_Error","HW IO Error",                            PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-92:IO_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1186 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "IO_Error")
}

#<<<--- add_major_alarm("Module_Error","HW Output Module Error",             PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-92:Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1186 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Output Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Module_Error")
}

#<<<--- add_major_alarm("Input_Module_Error","HW Input Module Error",        PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-92:Input_Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1186 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Input Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Input_Module_Error")
}

#<<<--- add_major_alarm("Output_Module_Error","HW Output Module Error",      PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-92:Output_Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1186 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Output Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Output_Module_Error")
}

#<<<--- add_minor_alarm("SPLimitActive","SPLimitActive",                     PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-92:SPLimitActive")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1186 T=UINT16 B=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "SPLimitActive")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "SPLimitActive")
}

#<<<--- add_major_alarm("SSTriggered","SSTriggered",                         PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-92:SSTriggered")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1186 T=UINT16 B=8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "SSTriggered")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "SSTriggered")
}


#Discrepancy
#<<<--- add_analog("DiscrPerc","REAL" ,                      PV_DESC="Discrepancy In Percent",                     PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-92:DiscrPerc")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1188 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Discrepancy In Percent")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "DiscrPerc")
}

#<<<--- add_time("DiscrTime",                                PV_DESC="Discrepancy Time Interval")
record(ai, "Spk-000CDL:Cryo-CV-92:DiscrTime")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1192 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Discrepancy Time Interval")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "DiscrTime")
}


#Ramping
#<<<--- add_analog("MaxRampUPSpd","REAL",                    PV_DESC="Maximum Ramping UP Speed",                 PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-CV-92:MaxRampUPSpd")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1196 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum Ramping UP Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "MaxRampUPSpd")
}

#<<<--- add_analog("MaxRampDNSpd","REAL",                    PV_DESC="Maximum Ramping DOWN Speed",               PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-CV-92:MaxRampDNSpd")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1200 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum Ramping DOWN Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "MaxRampDNSpd")
}

#<<<--- add_analog("ActRampSpeed","REAL",                    PV_DESC="Actual Ramping Speed",                     PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-CV-92:ActRampSpeed")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1204 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Actual Ramping Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "ActRampSpeed")
}

#<<<--- add_digital("Ramping",                               PV_DESC="Ramping Indicator",                        PV_ONAM="True",                                     PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-92:Ramping")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1208 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Indicator")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Ramping")
}

#<<<--- add_digital("RampSettingOK",                         PV_DESC="Ramping can be enabled",                   PV_ONAM="True",                                     PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-92:RampSettingOK")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1208 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping can be enabled")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "RampSettingOK")
}


#Feedbacks
#<<<--- add_analog("FB_RampUPTIME","INT",                    PV_DESC="Ramping UP time",                          PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-CV-92:FB_RampUPTIME")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1210 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "FB_RampUPTIME")
}

#<<<--- add_analog("FB_RampUPRANGE","REAL",                  PV_DESC="Ramping UP range",                         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-92:FB_RampUPRANGE")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1212 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "FB_RampUPRANGE")
}

#<<<--- add_analog("FB_RampDNTIME","INT",                    PV_DESC="Ramping DOWN time",                        PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-CV-92:FB_RampDNTIME")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1216 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "FB_RampDNTIME")
}

#<<<--- add_analog("FB_RampDNRANGE","REAL",                  PV_DESC="Ramping DOWN range",                       PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-92:FB_RampDNRANGE")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1218 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "FB_RampDNRANGE")
}

#<<<--- add_analog("FB_ForcePosition","REAL" ,               PV_DESC="FB Force Valve Position (AI)",             PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-92:FB_ForcePosition")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1222 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Force Valve Position (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "FB_ForcePosition")
}

#<<<--- add_analog("FB_Setpoint","REAL" ,                    PV_DESC="FB Setpoint from HMI (SP)",                PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-92:FB_Setpoint")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1226 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "FB_Setpoint")
}

#<<<--- add_analog("FB_Manipulated","REAL" ,                 PV_DESC="FB Manipulated Value (AO)",                PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-92:FB_Manipulated")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1230 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Manipulated Value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "FB_Manipulated")
}

#<<<--- add_analog("FB_Step","REAL" ,                        PV_DESC="FB Step value for Open/Close",             PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-92:FB_Step")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1234 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Step value for Open/Close")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "FB_Step")
}

#<<<--- add_analog("FB_RampTIME","INT" ,                     PV_DESC="Ramping Time",                             PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-CV-92:FB_RampTIME")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1238 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "FB_RampTIME")
}

#<<<--- add_analog("FB_RampRANGE","REAL" ,                   PV_DESC="Ramping Range",                            PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-92:FB_RampRANGE")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1240 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "FB_RampRANGE")
}


#Checkback
#add_analog("CB_ValvePosition","REAL",                PV_DESC="CB Valve Position",          PV_EGU="%")
#add_analog("CB_ValveStatus","REAL",                  PV_DESC="CB Valve Status")
#add_analog("CB_ValvePOSD","REAL",                    PV_DESC="CB Valve discrete Position")
#add_analog("CB_ValveStatusD","REAL",                 PV_DESC="CB Valve discrete Status")
#add_analog("CB_ValveDIAG","REAL",                    PV_DESC="CB Valve Diagnostics")

#Timers and Filters
#<<<--- add_digital("Timer_enabled")
record(bi, "Spk-000CDL:Cryo-CV-92:Timer_enabled")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1244 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Timer_enabled")
}

#<<<--- add_digital("T_triggered")
record(bi, "Spk-000CDL:Cryo-CV-92:T_triggered")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1244 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "T_triggered")
}

#<<<--- add_analog("T_running", "INT")
record(ai, "Spk-000CDL:Cryo-CV-92:T_running")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1246 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "T_running")
}

#<<<--- add_digital("F_enabled")
record(bi, "Spk-000CDL:Cryo-CV-92:F_enabled")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1248 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "F_enabled")
}

#<<<--- add_analog("FiltedValue", "REAL")
record(ai, "Spk-000CDL:Cryo-CV-92:FiltedValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1250 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "FiltedValue")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-CV-92 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Auto",                              PV_DESC="CMD: Auto Mode")
record(bo, "Spk-000CDL:Cryo-CV-92:Cmd_Auto")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 213, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Cmd_Auto")
}

#<<<--- add_digital("Cmd_Manual",                            PV_DESC="CMD: Manual Mode")
record(bo, "Spk-000CDL:Cryo-CV-92:Cmd_Manual")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 213, 0x0002, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Cmd_Manual")
}

#<<<--- add_digital("Cmd_Force",                             PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-CV-92:Cmd_Force")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 213, 0x0004, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Cmd_Force")
}


#<<<--- add_digital("Cmd_RampON",                            PV_DESC="Turn Ramping ON")
record(bo, "Spk-000CDL:Cryo-CV-92:Cmd_RampON")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 213, 0x0008, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Turn Ramping ON")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Cmd_RampON")
}

#<<<--- add_digital("Cmd_RampOFF",                           PV_DESC="Turn Ramping OFF")
record(bo, "Spk-000CDL:Cryo-CV-92:Cmd_RampOFF")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 213, 0x0010, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Turn Ramping OFF")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Cmd_RampOFF")
}


#<<<--- add_digital("Cmd_AckAlarm",                          PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-CV-92:Cmd_AckAlarm")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 213, 0x0020, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Cmd_AckAlarm")
}


#<<<--- add_digital("Cmd_ForceValInp",                       PV_DESC="CMD: Force Valve PLC Input")
record(bo, "Spk-000CDL:Cryo-CV-92:Cmd_ForceValInp")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 213, 0x0040, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Valve PLC Input")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Cmd_ForceValInp")
}

#<<<--- add_digital("Cmd_ForceValOut",                       PV_DESC="CMD: Force Valve PLC Output")
record(bo, "Spk-000CDL:Cryo-CV-92:Cmd_ForceValOut")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 213, 0x0080, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Valve PLC Output")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Cmd_ForceValOut")
}


#<<<--- add_digital("Cmd_ForceUnlock",                       PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-CV-92:Cmd_ForceUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 213, 0x0100, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
}

#<<<--- add_digital("Cmd_DevLock",                           PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-CV-92:Cmd_DevLock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 213, 0x0200, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Cmd_DevLock")
}

#<<<--- add_digital("Cmd_DevUnlock",                         PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-CV-92:Cmd_DevUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 213, 0x0400, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Cmd_DevUnlock")
}



############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-CV-92 EPICS -> PLC parameters ##########
##########

#Setpoint and Manipulated value from HMI
#<<<--- add_analog("P_ForcePosition","REAL" ,                PV_DESC="Force Valve position (AI)",             PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-92:P_ForcePosition")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 214, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Valve position (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "P_ForcePosition")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Setpoint","REAL" ,                     PV_DESC="Setpoint from HMI (SP)",                PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-92:P_Setpoint")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 216, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "P_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Manipulated","REAL" ,                  PV_DESC="Manipulated value (AO)",                PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-92:P_Manipulated")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 218, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "P_Manipulated")
	info(autosaveFields_pass0, "VAL")
}


#Step value when pressing Cmd_Open1Step or Cmd_Close1Step
#<<<--- add_analog("P_Step","REAL" ,                         PV_DESC="Step value for open close",             PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-92:P_Step")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 220, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Step value for open close")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "P_Step")
	info(autosaveFields_pass0, "VAL")
}


#Ramping speed from the HMI
#<<<--- add_analog("P_RampUPTIME","INT",                     PV_DESC="Ramping UP Time",                          PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-CV-92:P_RampUPTIME")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 222, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Time")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(EGU,  "sec")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "P_RampUPTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampUPRANGE","REAL",                   PV_DESC="Ramping UP Range",                         PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-92:P_RampUPRANGE")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 223, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "P_RampUPRANGE")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNTIME","INT",                     PV_DESC="Ramping DOWN Time",                        PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-CV-92:P_RampDNTIME")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 225, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Time")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(EGU,  "sec")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "P_RampDNTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNRANGE","REAL",                   PV_DESC="Ramping DOWN Range",                       PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-92:P_RampDNRANGE")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 226, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "P_RampDNRANGE")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID","DINT",              PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-CV-92:P_Faceplate_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 228, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID","DINT",              PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-CV-92:P_BlockIcon_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 230, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Timers and Filters
#<<<--- add_analog("T_period", "INT")
record(ao, "Spk-000CDL:Cryo-CV-92:T_period")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 232, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "T_period")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("F_interval", "INT")
record(ao, "Spk-000CDL:Cryo-CV-92:F_interval")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 233, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "F_interval")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("F_buffer", "INT")
record(ao, "Spk-000CDL:Cryo-CV-92:F_buffer")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 234, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "F_buffer")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("F_Enable")
record(bo, "Spk-000CDL:Cryo-CV-92:F_Enable")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 235, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "F_Enable")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-CV-92:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-CV-92:P_ForcePosition")
	field(LNK2, "Spk-000CDL:Cryo-CV-92:P_Setpoint")
	field(LNK3, "Spk-000CDL:Cryo-CV-92:P_Manipulated")
	field(LNK4, "Spk-000CDL:Cryo-CV-92:P_Step")
	field(LNK5, "Spk-000CDL:Cryo-CV-92:P_RampUPTIME")
	field(LNK6, "Spk-000CDL:Cryo-CV-92:P_RampUPRANGE")
	field(LNK7, "Spk-000CDL:Cryo-CV-92:P_RampDNTIME")
	field(LNK8, "Spk-000CDL:Cryo-CV-92:P_RampDNRANGE")
	field(LNK9, "Spk-000CDL:Cryo-CV-92:P_Faceplate_LockID")
	field(LNKA, "Spk-000CDL:Cryo-CV-92:P_BlockIcon_LockID")
	field(LNKB, "Spk-000CDL:Cryo-CV-92:T_period")
	field(LNKC, "Spk-000CDL:Cryo-CV-92:F_interval")
	field(LNKD, "Spk-000CDL:Cryo-CV-92:F_buffer")
	field(LNKE, "Spk-000CDL:Cryo-CV-92:F_Enable")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-CV-93 ##########
##########
########## CommandWordsLength: 1
########## ParameterWordsLength: 22
########## StatusWordsLength: 75
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_CV_PB_SIPART                                                           ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
#Siemens Sipart PS2 Valve Positioner
##                                                                                          ##
##
############################           Version: 1.7           ################################
#Author:	Emilio Asensi
#Date:		06-09-2022
#Version:  v1.7
#Changes:
#Added pvs for timer and filter
############################           Version: 1.6           ################################
#Author:	Emilio Asensi
#Date:		03-05-2021
#Version:  v1.6
#Changes:
#Added missing alarm signals                                                                                  ##
############################           Version: 1.5           ################################
#Author:	Peter Talas
#Date:		16-03-2021
#Version:  v1.5
#Changes:
#Archiving added
#rpm changed to % on the ramping parameters
#Interlock Message added
############################           Version: 1.4           ################################
#Author:	Miklos Boros
#Date:		27-05-2019
#Version:  v1.4
#Changes:
#Integration to CryoLibrary
#Variable name unification
############################           Version: 1.3           ################################
#Author:	Emilio Asensi
#Date:		24-01-2019
#Version:  v1.3
#Changes:
#Accommodate changes on CMS_CV
#1. Changed smoother ramping
#Sipart module information
#2. Removed Cascade operation
#3. Modified CheckBack diagnostic bytes
############################           Version: 1.2           ################################
#Author:	Emilio Asensi
#Date:		13-09-2018
#Version:  v1.2
#Changes:
#Accommodate the changes on CMS_CV
#1. Modified "For OPI visualisation" section: Added digital variable "FB_Keep_Setpoint".
#2. Modified "Parameter Block" section: Added digital variable "P_Keep_Setpoint".
#3. Modified Alarm Signal section to be compatible with new format.
############################           Version: 1.0           ################################
#Author:   Miklos Boros, Emilio Asensi
#Date:	    17-05-2018
#Version:  v1.0
#Note:     Based on CMS_CV.def
##############################################################################################


############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-CV-93 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_Auto",                           PV_DESC="Operation Mode Auto",        PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-93:OpMode_Auto")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1254 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "OpMode_Auto")
}

#<<<--- add_digital("OpMode_Manual",                         PV_DESC="Operation Mode Manual",      PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-93:OpMode_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1254 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "OpMode_Manual")
}

#<<<--- add_digital("OpMode_Forced",                         PV_DESC="Operation Mode Forced",      PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-93:OpMode_Forced")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1254 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "OpMode_Forced")
}

#<<<--- add_analog("ValveColor","INT",                       PV_DESC="BlockIcon valve color")
record(ai, "Spk-000CDL:Cryo-CV-93:ValveColor")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1256 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "BlockIcon valve color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "ValveColor")
}


#Valve states
#<<<--- add_analog("ValvePosition","REAL",  ARCHIVE=True,    PV_DESC="Valve Position AI",          PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-93:ValvePosition")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1258 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Position AI")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "ValvePosition")
}

#<<<--- add_analog("ValveSP","REAL",  ARCHIVE=True,          PV_DESC="Valve Setpoint",             PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-93:ValveSP")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1262 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Setpoint")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "ValveSP")
}

#<<<--- add_analog("ValveMV","REAL",  ARCHIVE=True,          PV_DESC="Valve Control AO",           PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-93:ValveMV")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1266 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Control AO")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "ValveMV")
}

#<<<--- add_digital("Opening",                               PV_DESC="Valve opening",              PV_ONAM="Opening",          PV_ZNAM="NotMoving")
record(bi, "Spk-000CDL:Cryo-CV-93:Opening")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1270 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve opening")
	field(ONAM, "Opening")
	field(ZNAM, "NotMoving")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Opening")
}

#<<<--- add_digital("Closing",                               PV_DESC="Valve closing",              PV_ONAM="Closing",          PV_ZNAM="NotMoving")
record(bi, "Spk-000CDL:Cryo-CV-93:Closing")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1270 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve closing")
	field(ONAM, "Closing")
	field(ZNAM, "NotMoving")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Closing")
}

#<<<--- add_analog("StatusRB","BYTE" ,                       PV_DESC="Valve ReadBack Status")
record(ai, "Spk-000CDL:Cryo-CV-93:StatusRB")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1272 T=UINT8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve ReadBack Status")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "StatusRB")
}

#<<<--- add_analog("DiscretePosition","INT" ,                PV_DESC="Valve Discrete Position (0-3)")
record(ai, "Spk-000CDL:Cryo-CV-93:DiscretePosition")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1274 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Discrete Position (0-3)")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "DiscretePosition")
}

#<<<--- add_analog("DiscreteStatus","BYTE" ,                 PV_DESC="Valve Discrete Status")
record(ai, "Spk-000CDL:Cryo-CV-93:DiscreteStatus")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1276 T=UINT8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Discrete Status")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "DiscreteStatus")
}

#<<<--- add_analog("DiagnosticsCB01","BYTE" ,                PV_DESC="CheckBack byte 01")
record(ai, "Spk-000CDL:Cryo-CV-93:DiagnosticsCB01")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1278 T=UINT8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CheckBack byte 01")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "DiagnosticsCB01")
}

#<<<--- add_analog("DiagnosticsCB02","BYTE" ,                PV_DESC="CheckBack byte 02")
record(ai, "Spk-000CDL:Cryo-CV-93:DiagnosticsCB02")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1280 T=UINT8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CheckBack byte 02")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "DiagnosticsCB02")
}

#<<<--- add_analog("DiagnosticsCB03","BYTE" ,                PV_DESC="CheckBack byte 03")
record(ai, "Spk-000CDL:Cryo-CV-93:DiagnosticsCB03")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1282 T=UINT8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CheckBack byte 03")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "DiagnosticsCB03")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",                        PV_DESC="Inhibit Manual Mode",        PV_ONAM="InhibitManual",    PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-CV-93:Inhibit_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1284 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Inhibit_Manual")
}

#<<<--- add_digital("Inhibit_Force",                         PV_DESC="Inhibit Force Mode",         PV_ONAM="InhibitForce",     PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-CV-93:Inhibit_Force")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1284 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Inhibit_Force")
}

#<<<--- add_digital("Inhibit_Lock",                          PV_DESC="Inhibit Locking",            PV_ONAM="InhibitLocking",   PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-CV-93:Inhibit_Lock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1284 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Inhibit_Lock")
}


#Interlock signals
#<<<--- add_digital("GroupInterlock",                        PV_DESC="Group Interlock",            PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-93:GroupInterlock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1284 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "GroupInterlock")
}

#<<<--- add_string("InterlockMsg", 39,                       PV_NAME="InterlockMsg",               PV_DESC="Interlock Message")
record(stringin, "Spk-000CDL:Cryo-CV-93:InterlockMsg")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1286 T=STRING L=40")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Interlock Message")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "InterlockMsg")
}

#<<<--- add_digital("MoveInterlock",  ARCHIVE=True,          PV_DESC="Move Interlock",             PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-93:MoveInterlock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1326 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Move Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "MoveInterlock")
}


#for OPI visualization
#<<<--- add_digital("EnableAutoBtn",                         PV_DESC="Enable Auto Button",         PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-93:EnableAutoBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1326 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Auto Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "EnableAutoBtn")
}

#<<<--- add_digital("EnableManualBtn",                       PV_DESC="Enable Manual Button",       PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-93:EnableManualBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1326 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "EnableManualBtn")
}

#<<<--- add_digital("EnableForcedBtn",                       PV_DESC="Enable Force Button",        PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-93:EnableForcedBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1326 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "EnableForcedBtn")
}


#Block Icon controls
#<<<--- add_digital("EnableBlkCtrl",                         PV_DESC="Enable Block SP Button",     PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-93:EnableBlkCtrl")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1326 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Block SP Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "EnableBlkCtrl")
}


#Forcing
#<<<--- add_digital("EnableForceValBtn",                     PV_DESC="Enable Force Value Button",  PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-93:EnableForceValBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1326 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Value Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "EnableForceValBtn")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",                             PV_DESC="Device locked",              PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-93:DevLocked")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1326 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "DevLocked")
}

#<<<--- add_analog("Faceplate_LockID","DINT",                PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-CV-93:Faceplate_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1328 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Faceplate_LockID")
}

#<<<--- add_analog("BlockIcon_LockID","DINT",                PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-CV-93:BlockIcon_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1332 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "BlockIcon_LockID")
}


#<<<--- add_digital("LatchAlarm",                            PV_DESC="Latching of the alarms")
record(bi, "Spk-000CDL:Cryo-CV-93:LatchAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1336 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "LatchAlarm")
}

#<<<--- add_digital("GroupAlarm",                            PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-CV-93:GroupAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1336 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "GroupAlarm")
}


#Alarm signals
#<<<--- add_major_alarm("Position_Discrep","Position Discrepancy",           PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-93:Position_Discrep")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1336 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Position Discrepancy")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Position_Discrep")
}

#<<<--- add_major_alarm("IO_Error","HW IO Error",                            PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-93:IO_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1336 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "IO_Error")
}

#<<<--- add_major_alarm("Module_Error","HW Output Module Error",             PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-93:Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1336 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Output Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Module_Error")
}

#<<<--- add_major_alarm("Input_Module_Error","HW Input Module Error",        PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-93:Input_Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1336 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Input Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Input_Module_Error")
}

#<<<--- add_major_alarm("Output_Module_Error","HW Output Module Error",      PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-93:Output_Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1336 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Output Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Output_Module_Error")
}

#<<<--- add_minor_alarm("SPLimitActive","SPLimitActive",                     PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-93:SPLimitActive")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1336 T=UINT16 B=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "SPLimitActive")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "SPLimitActive")
}

#<<<--- add_major_alarm("SSTriggered","SSTriggered",                         PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-93:SSTriggered")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1336 T=UINT16 B=8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "SSTriggered")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "SSTriggered")
}


#Discrepancy
#<<<--- add_analog("DiscrPerc","REAL" ,                      PV_DESC="Discrepancy In Percent",                     PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-93:DiscrPerc")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1338 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Discrepancy In Percent")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "DiscrPerc")
}

#<<<--- add_time("DiscrTime",                                PV_DESC="Discrepancy Time Interval")
record(ai, "Spk-000CDL:Cryo-CV-93:DiscrTime")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1342 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Discrepancy Time Interval")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "DiscrTime")
}


#Ramping
#<<<--- add_analog("MaxRampUPSpd","REAL",                    PV_DESC="Maximum Ramping UP Speed",                 PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-CV-93:MaxRampUPSpd")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1346 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum Ramping UP Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "MaxRampUPSpd")
}

#<<<--- add_analog("MaxRampDNSpd","REAL",                    PV_DESC="Maximum Ramping DOWN Speed",               PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-CV-93:MaxRampDNSpd")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1350 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum Ramping DOWN Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "MaxRampDNSpd")
}

#<<<--- add_analog("ActRampSpeed","REAL",                    PV_DESC="Actual Ramping Speed",                     PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-CV-93:ActRampSpeed")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1354 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Actual Ramping Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "ActRampSpeed")
}

#<<<--- add_digital("Ramping",                               PV_DESC="Ramping Indicator",                        PV_ONAM="True",                                     PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-93:Ramping")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1358 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Indicator")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Ramping")
}

#<<<--- add_digital("RampSettingOK",                         PV_DESC="Ramping can be enabled",                   PV_ONAM="True",                                     PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-93:RampSettingOK")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1358 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping can be enabled")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "RampSettingOK")
}


#Feedbacks
#<<<--- add_analog("FB_RampUPTIME","INT",                    PV_DESC="Ramping UP time",                          PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-CV-93:FB_RampUPTIME")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1360 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "FB_RampUPTIME")
}

#<<<--- add_analog("FB_RampUPRANGE","REAL",                  PV_DESC="Ramping UP range",                         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-93:FB_RampUPRANGE")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1362 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "FB_RampUPRANGE")
}

#<<<--- add_analog("FB_RampDNTIME","INT",                    PV_DESC="Ramping DOWN time",                        PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-CV-93:FB_RampDNTIME")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1366 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "FB_RampDNTIME")
}

#<<<--- add_analog("FB_RampDNRANGE","REAL",                  PV_DESC="Ramping DOWN range",                       PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-93:FB_RampDNRANGE")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1368 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "FB_RampDNRANGE")
}

#<<<--- add_analog("FB_ForcePosition","REAL" ,               PV_DESC="FB Force Valve Position (AI)",             PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-93:FB_ForcePosition")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1372 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Force Valve Position (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "FB_ForcePosition")
}

#<<<--- add_analog("FB_Setpoint","REAL" ,                    PV_DESC="FB Setpoint from HMI (SP)",                PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-93:FB_Setpoint")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1376 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "FB_Setpoint")
}

#<<<--- add_analog("FB_Manipulated","REAL" ,                 PV_DESC="FB Manipulated Value (AO)",                PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-93:FB_Manipulated")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1380 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Manipulated Value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "FB_Manipulated")
}

#<<<--- add_analog("FB_Step","REAL" ,                        PV_DESC="FB Step value for Open/Close",             PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-93:FB_Step")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1384 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Step value for Open/Close")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "FB_Step")
}

#<<<--- add_analog("FB_RampTIME","INT" ,                     PV_DESC="Ramping Time",                             PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-CV-93:FB_RampTIME")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1388 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "FB_RampTIME")
}

#<<<--- add_analog("FB_RampRANGE","REAL" ,                   PV_DESC="Ramping Range",                            PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-93:FB_RampRANGE")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1390 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "FB_RampRANGE")
}


#Checkback
#add_analog("CB_ValvePosition","REAL",                PV_DESC="CB Valve Position",          PV_EGU="%")
#add_analog("CB_ValveStatus","REAL",                  PV_DESC="CB Valve Status")
#add_analog("CB_ValvePOSD","REAL",                    PV_DESC="CB Valve discrete Position")
#add_analog("CB_ValveStatusD","REAL",                 PV_DESC="CB Valve discrete Status")
#add_analog("CB_ValveDIAG","REAL",                    PV_DESC="CB Valve Diagnostics")

#Timers and Filters
#<<<--- add_digital("Timer_enabled")
record(bi, "Spk-000CDL:Cryo-CV-93:Timer_enabled")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1394 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Timer_enabled")
}

#<<<--- add_digital("T_triggered")
record(bi, "Spk-000CDL:Cryo-CV-93:T_triggered")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1394 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "T_triggered")
}

#<<<--- add_analog("T_running", "INT")
record(ai, "Spk-000CDL:Cryo-CV-93:T_running")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1396 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "T_running")
}

#<<<--- add_digital("F_enabled")
record(bi, "Spk-000CDL:Cryo-CV-93:F_enabled")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1398 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "F_enabled")
}

#<<<--- add_analog("FiltedValue", "REAL")
record(ai, "Spk-000CDL:Cryo-CV-93:FiltedValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1400 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "FiltedValue")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-CV-93 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Auto",                              PV_DESC="CMD: Auto Mode")
record(bo, "Spk-000CDL:Cryo-CV-93:Cmd_Auto")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 236, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Cmd_Auto")
}

#<<<--- add_digital("Cmd_Manual",                            PV_DESC="CMD: Manual Mode")
record(bo, "Spk-000CDL:Cryo-CV-93:Cmd_Manual")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 236, 0x0002, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Cmd_Manual")
}

#<<<--- add_digital("Cmd_Force",                             PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-CV-93:Cmd_Force")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 236, 0x0004, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Cmd_Force")
}


#<<<--- add_digital("Cmd_RampON",                            PV_DESC="Turn Ramping ON")
record(bo, "Spk-000CDL:Cryo-CV-93:Cmd_RampON")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 236, 0x0008, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Turn Ramping ON")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Cmd_RampON")
}

#<<<--- add_digital("Cmd_RampOFF",                           PV_DESC="Turn Ramping OFF")
record(bo, "Spk-000CDL:Cryo-CV-93:Cmd_RampOFF")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 236, 0x0010, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Turn Ramping OFF")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Cmd_RampOFF")
}


#<<<--- add_digital("Cmd_AckAlarm",                          PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-CV-93:Cmd_AckAlarm")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 236, 0x0020, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Cmd_AckAlarm")
}


#<<<--- add_digital("Cmd_ForceValInp",                       PV_DESC="CMD: Force Valve PLC Input")
record(bo, "Spk-000CDL:Cryo-CV-93:Cmd_ForceValInp")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 236, 0x0040, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Valve PLC Input")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Cmd_ForceValInp")
}

#<<<--- add_digital("Cmd_ForceValOut",                       PV_DESC="CMD: Force Valve PLC Output")
record(bo, "Spk-000CDL:Cryo-CV-93:Cmd_ForceValOut")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 236, 0x0080, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Valve PLC Output")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Cmd_ForceValOut")
}


#<<<--- add_digital("Cmd_ForceUnlock",                       PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-CV-93:Cmd_ForceUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 236, 0x0100, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
}

#<<<--- add_digital("Cmd_DevLock",                           PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-CV-93:Cmd_DevLock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 236, 0x0200, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Cmd_DevLock")
}

#<<<--- add_digital("Cmd_DevUnlock",                         PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-CV-93:Cmd_DevUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 236, 0x0400, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Cmd_DevUnlock")
}



############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-CV-93 EPICS -> PLC parameters ##########
##########

#Setpoint and Manipulated value from HMI
#<<<--- add_analog("P_ForcePosition","REAL" ,                PV_DESC="Force Valve position (AI)",             PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-93:P_ForcePosition")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 237, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Valve position (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "P_ForcePosition")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Setpoint","REAL" ,                     PV_DESC="Setpoint from HMI (SP)",                PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-93:P_Setpoint")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 239, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "P_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Manipulated","REAL" ,                  PV_DESC="Manipulated value (AO)",                PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-93:P_Manipulated")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 241, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "P_Manipulated")
	info(autosaveFields_pass0, "VAL")
}


#Step value when pressing Cmd_Open1Step or Cmd_Close1Step
#<<<--- add_analog("P_Step","REAL" ,                         PV_DESC="Step value for open close",             PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-93:P_Step")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 243, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Step value for open close")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "P_Step")
	info(autosaveFields_pass0, "VAL")
}


#Ramping speed from the HMI
#<<<--- add_analog("P_RampUPTIME","INT",                     PV_DESC="Ramping UP Time",                          PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-CV-93:P_RampUPTIME")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 245, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Time")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(EGU,  "sec")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "P_RampUPTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampUPRANGE","REAL",                   PV_DESC="Ramping UP Range",                         PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-93:P_RampUPRANGE")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 246, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "P_RampUPRANGE")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNTIME","INT",                     PV_DESC="Ramping DOWN Time",                        PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-CV-93:P_RampDNTIME")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 248, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Time")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(EGU,  "sec")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "P_RampDNTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNRANGE","REAL",                   PV_DESC="Ramping DOWN Range",                       PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-93:P_RampDNRANGE")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 249, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "P_RampDNRANGE")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID","DINT",              PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-CV-93:P_Faceplate_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 251, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID","DINT",              PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-CV-93:P_BlockIcon_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 253, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Timers and Filters
#<<<--- add_analog("T_period", "INT")
record(ao, "Spk-000CDL:Cryo-CV-93:T_period")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 255, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "T_period")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("F_interval", "INT")
record(ao, "Spk-000CDL:Cryo-CV-93:F_interval")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 256, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "F_interval")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("F_buffer", "INT")
record(ao, "Spk-000CDL:Cryo-CV-93:F_buffer")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 257, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "F_buffer")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("F_Enable")
record(bo, "Spk-000CDL:Cryo-CV-93:F_Enable")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 258, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "F_Enable")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-CV-93:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-CV-93:P_ForcePosition")
	field(LNK2, "Spk-000CDL:Cryo-CV-93:P_Setpoint")
	field(LNK3, "Spk-000CDL:Cryo-CV-93:P_Manipulated")
	field(LNK4, "Spk-000CDL:Cryo-CV-93:P_Step")
	field(LNK5, "Spk-000CDL:Cryo-CV-93:P_RampUPTIME")
	field(LNK6, "Spk-000CDL:Cryo-CV-93:P_RampUPRANGE")
	field(LNK7, "Spk-000CDL:Cryo-CV-93:P_RampDNTIME")
	field(LNK8, "Spk-000CDL:Cryo-CV-93:P_RampDNRANGE")
	field(LNK9, "Spk-000CDL:Cryo-CV-93:P_Faceplate_LockID")
	field(LNKA, "Spk-000CDL:Cryo-CV-93:P_BlockIcon_LockID")
	field(LNKB, "Spk-000CDL:Cryo-CV-93:T_period")
	field(LNKC, "Spk-000CDL:Cryo-CV-93:F_interval")
	field(LNKD, "Spk-000CDL:Cryo-CV-93:F_buffer")
	field(LNKE, "Spk-000CDL:Cryo-CV-93:F_Enable")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-CV-94 ##########
##########
########## CommandWordsLength: 1
########## ParameterWordsLength: 22
########## StatusWordsLength: 75
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_CV_PB_SIPART                                                           ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
#Siemens Sipart PS2 Valve Positioner
##                                                                                          ##
##
############################           Version: 1.7           ################################
#Author:	Emilio Asensi
#Date:		06-09-2022
#Version:  v1.7
#Changes:
#Added pvs for timer and filter
############################           Version: 1.6           ################################
#Author:	Emilio Asensi
#Date:		03-05-2021
#Version:  v1.6
#Changes:
#Added missing alarm signals                                                                                  ##
############################           Version: 1.5           ################################
#Author:	Peter Talas
#Date:		16-03-2021
#Version:  v1.5
#Changes:
#Archiving added
#rpm changed to % on the ramping parameters
#Interlock Message added
############################           Version: 1.4           ################################
#Author:	Miklos Boros
#Date:		27-05-2019
#Version:  v1.4
#Changes:
#Integration to CryoLibrary
#Variable name unification
############################           Version: 1.3           ################################
#Author:	Emilio Asensi
#Date:		24-01-2019
#Version:  v1.3
#Changes:
#Accommodate changes on CMS_CV
#1. Changed smoother ramping
#Sipart module information
#2. Removed Cascade operation
#3. Modified CheckBack diagnostic bytes
############################           Version: 1.2           ################################
#Author:	Emilio Asensi
#Date:		13-09-2018
#Version:  v1.2
#Changes:
#Accommodate the changes on CMS_CV
#1. Modified "For OPI visualisation" section: Added digital variable "FB_Keep_Setpoint".
#2. Modified "Parameter Block" section: Added digital variable "P_Keep_Setpoint".
#3. Modified Alarm Signal section to be compatible with new format.
############################           Version: 1.0           ################################
#Author:   Miklos Boros, Emilio Asensi
#Date:	    17-05-2018
#Version:  v1.0
#Note:     Based on CMS_CV.def
##############################################################################################


############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-CV-94 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_Auto",                           PV_DESC="Operation Mode Auto",        PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-94:OpMode_Auto")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1404 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "OpMode_Auto")
}

#<<<--- add_digital("OpMode_Manual",                         PV_DESC="Operation Mode Manual",      PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-94:OpMode_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1404 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "OpMode_Manual")
}

#<<<--- add_digital("OpMode_Forced",                         PV_DESC="Operation Mode Forced",      PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-94:OpMode_Forced")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1404 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "OpMode_Forced")
}

#<<<--- add_analog("ValveColor","INT",                       PV_DESC="BlockIcon valve color")
record(ai, "Spk-000CDL:Cryo-CV-94:ValveColor")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1406 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "BlockIcon valve color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "ValveColor")
}


#Valve states
#<<<--- add_analog("ValvePosition","REAL",  ARCHIVE=True,    PV_DESC="Valve Position AI",          PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-94:ValvePosition")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1408 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Position AI")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "ValvePosition")
}

#<<<--- add_analog("ValveSP","REAL",  ARCHIVE=True,          PV_DESC="Valve Setpoint",             PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-94:ValveSP")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1412 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Setpoint")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "ValveSP")
}

#<<<--- add_analog("ValveMV","REAL",  ARCHIVE=True,          PV_DESC="Valve Control AO",           PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-94:ValveMV")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1416 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Control AO")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "ValveMV")
}

#<<<--- add_digital("Opening",                               PV_DESC="Valve opening",              PV_ONAM="Opening",          PV_ZNAM="NotMoving")
record(bi, "Spk-000CDL:Cryo-CV-94:Opening")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1420 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve opening")
	field(ONAM, "Opening")
	field(ZNAM, "NotMoving")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Opening")
}

#<<<--- add_digital("Closing",                               PV_DESC="Valve closing",              PV_ONAM="Closing",          PV_ZNAM="NotMoving")
record(bi, "Spk-000CDL:Cryo-CV-94:Closing")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1420 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve closing")
	field(ONAM, "Closing")
	field(ZNAM, "NotMoving")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Closing")
}

#<<<--- add_analog("StatusRB","BYTE" ,                       PV_DESC="Valve ReadBack Status")
record(ai, "Spk-000CDL:Cryo-CV-94:StatusRB")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1422 T=UINT8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve ReadBack Status")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "StatusRB")
}

#<<<--- add_analog("DiscretePosition","INT" ,                PV_DESC="Valve Discrete Position (0-3)")
record(ai, "Spk-000CDL:Cryo-CV-94:DiscretePosition")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1424 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Discrete Position (0-3)")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "DiscretePosition")
}

#<<<--- add_analog("DiscreteStatus","BYTE" ,                 PV_DESC="Valve Discrete Status")
record(ai, "Spk-000CDL:Cryo-CV-94:DiscreteStatus")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1426 T=UINT8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Discrete Status")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "DiscreteStatus")
}

#<<<--- add_analog("DiagnosticsCB01","BYTE" ,                PV_DESC="CheckBack byte 01")
record(ai, "Spk-000CDL:Cryo-CV-94:DiagnosticsCB01")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1428 T=UINT8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CheckBack byte 01")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "DiagnosticsCB01")
}

#<<<--- add_analog("DiagnosticsCB02","BYTE" ,                PV_DESC="CheckBack byte 02")
record(ai, "Spk-000CDL:Cryo-CV-94:DiagnosticsCB02")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1430 T=UINT8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CheckBack byte 02")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "DiagnosticsCB02")
}

#<<<--- add_analog("DiagnosticsCB03","BYTE" ,                PV_DESC="CheckBack byte 03")
record(ai, "Spk-000CDL:Cryo-CV-94:DiagnosticsCB03")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1432 T=UINT8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CheckBack byte 03")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "DiagnosticsCB03")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",                        PV_DESC="Inhibit Manual Mode",        PV_ONAM="InhibitManual",    PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-CV-94:Inhibit_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1434 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Inhibit_Manual")
}

#<<<--- add_digital("Inhibit_Force",                         PV_DESC="Inhibit Force Mode",         PV_ONAM="InhibitForce",     PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-CV-94:Inhibit_Force")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1434 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Inhibit_Force")
}

#<<<--- add_digital("Inhibit_Lock",                          PV_DESC="Inhibit Locking",            PV_ONAM="InhibitLocking",   PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-CV-94:Inhibit_Lock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1434 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Inhibit_Lock")
}


#Interlock signals
#<<<--- add_digital("GroupInterlock",                        PV_DESC="Group Interlock",            PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-94:GroupInterlock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1434 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "GroupInterlock")
}

#<<<--- add_string("InterlockMsg", 39,                       PV_NAME="InterlockMsg",               PV_DESC="Interlock Message")
record(stringin, "Spk-000CDL:Cryo-CV-94:InterlockMsg")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1436 T=STRING L=40")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Interlock Message")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "InterlockMsg")
}

#<<<--- add_digital("MoveInterlock",  ARCHIVE=True,          PV_DESC="Move Interlock",             PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-94:MoveInterlock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1476 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Move Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "MoveInterlock")
}


#for OPI visualization
#<<<--- add_digital("EnableAutoBtn",                         PV_DESC="Enable Auto Button",         PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-94:EnableAutoBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1476 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Auto Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "EnableAutoBtn")
}

#<<<--- add_digital("EnableManualBtn",                       PV_DESC="Enable Manual Button",       PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-94:EnableManualBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1476 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "EnableManualBtn")
}

#<<<--- add_digital("EnableForcedBtn",                       PV_DESC="Enable Force Button",        PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-94:EnableForcedBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1476 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "EnableForcedBtn")
}


#Block Icon controls
#<<<--- add_digital("EnableBlkCtrl",                         PV_DESC="Enable Block SP Button",     PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-94:EnableBlkCtrl")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1476 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Block SP Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "EnableBlkCtrl")
}


#Forcing
#<<<--- add_digital("EnableForceValBtn",                     PV_DESC="Enable Force Value Button",  PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-94:EnableForceValBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1476 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Value Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "EnableForceValBtn")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",                             PV_DESC="Device locked",              PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-94:DevLocked")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1476 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "DevLocked")
}

#<<<--- add_analog("Faceplate_LockID","DINT",                PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-CV-94:Faceplate_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1478 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Faceplate_LockID")
}

#<<<--- add_analog("BlockIcon_LockID","DINT",                PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-CV-94:BlockIcon_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1482 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "BlockIcon_LockID")
}


#<<<--- add_digital("LatchAlarm",                            PV_DESC="Latching of the alarms")
record(bi, "Spk-000CDL:Cryo-CV-94:LatchAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1486 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "LatchAlarm")
}

#<<<--- add_digital("GroupAlarm",                            PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-CV-94:GroupAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1486 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "GroupAlarm")
}


#Alarm signals
#<<<--- add_major_alarm("Position_Discrep","Position Discrepancy",           PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-94:Position_Discrep")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1486 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Position Discrepancy")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Position_Discrep")
}

#<<<--- add_major_alarm("IO_Error","HW IO Error",                            PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-94:IO_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1486 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "IO_Error")
}

#<<<--- add_major_alarm("Module_Error","HW Output Module Error",             PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-94:Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1486 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Output Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Module_Error")
}

#<<<--- add_major_alarm("Input_Module_Error","HW Input Module Error",        PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-94:Input_Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1486 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Input Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Input_Module_Error")
}

#<<<--- add_major_alarm("Output_Module_Error","HW Output Module Error",      PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-94:Output_Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1486 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Output Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Output_Module_Error")
}

#<<<--- add_minor_alarm("SPLimitActive","SPLimitActive",                     PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-94:SPLimitActive")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1486 T=UINT16 B=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "SPLimitActive")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "SPLimitActive")
}

#<<<--- add_major_alarm("SSTriggered","SSTriggered",                         PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-94:SSTriggered")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1486 T=UINT16 B=8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "SSTriggered")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "SSTriggered")
}


#Discrepancy
#<<<--- add_analog("DiscrPerc","REAL" ,                      PV_DESC="Discrepancy In Percent",                     PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-94:DiscrPerc")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1488 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Discrepancy In Percent")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "DiscrPerc")
}

#<<<--- add_time("DiscrTime",                                PV_DESC="Discrepancy Time Interval")
record(ai, "Spk-000CDL:Cryo-CV-94:DiscrTime")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1492 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Discrepancy Time Interval")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "DiscrTime")
}


#Ramping
#<<<--- add_analog("MaxRampUPSpd","REAL",                    PV_DESC="Maximum Ramping UP Speed",                 PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-CV-94:MaxRampUPSpd")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1496 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum Ramping UP Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "MaxRampUPSpd")
}

#<<<--- add_analog("MaxRampDNSpd","REAL",                    PV_DESC="Maximum Ramping DOWN Speed",               PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-CV-94:MaxRampDNSpd")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1500 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum Ramping DOWN Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "MaxRampDNSpd")
}

#<<<--- add_analog("ActRampSpeed","REAL",                    PV_DESC="Actual Ramping Speed",                     PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-CV-94:ActRampSpeed")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1504 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Actual Ramping Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "ActRampSpeed")
}

#<<<--- add_digital("Ramping",                               PV_DESC="Ramping Indicator",                        PV_ONAM="True",                                     PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-94:Ramping")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1508 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Indicator")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Ramping")
}

#<<<--- add_digital("RampSettingOK",                         PV_DESC="Ramping can be enabled",                   PV_ONAM="True",                                     PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-94:RampSettingOK")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1508 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping can be enabled")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "RampSettingOK")
}


#Feedbacks
#<<<--- add_analog("FB_RampUPTIME","INT",                    PV_DESC="Ramping UP time",                          PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-CV-94:FB_RampUPTIME")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1510 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "FB_RampUPTIME")
}

#<<<--- add_analog("FB_RampUPRANGE","REAL",                  PV_DESC="Ramping UP range",                         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-94:FB_RampUPRANGE")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1512 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "FB_RampUPRANGE")
}

#<<<--- add_analog("FB_RampDNTIME","INT",                    PV_DESC="Ramping DOWN time",                        PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-CV-94:FB_RampDNTIME")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1516 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "FB_RampDNTIME")
}

#<<<--- add_analog("FB_RampDNRANGE","REAL",                  PV_DESC="Ramping DOWN range",                       PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-94:FB_RampDNRANGE")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1518 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "FB_RampDNRANGE")
}

#<<<--- add_analog("FB_ForcePosition","REAL" ,               PV_DESC="FB Force Valve Position (AI)",             PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-94:FB_ForcePosition")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1522 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Force Valve Position (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "FB_ForcePosition")
}

#<<<--- add_analog("FB_Setpoint","REAL" ,                    PV_DESC="FB Setpoint from HMI (SP)",                PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-94:FB_Setpoint")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1526 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "FB_Setpoint")
}

#<<<--- add_analog("FB_Manipulated","REAL" ,                 PV_DESC="FB Manipulated Value (AO)",                PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-94:FB_Manipulated")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1530 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Manipulated Value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "FB_Manipulated")
}

#<<<--- add_analog("FB_Step","REAL" ,                        PV_DESC="FB Step value for Open/Close",             PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-94:FB_Step")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1534 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Step value for Open/Close")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "FB_Step")
}

#<<<--- add_analog("FB_RampTIME","INT" ,                     PV_DESC="Ramping Time",                             PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-CV-94:FB_RampTIME")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1538 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "FB_RampTIME")
}

#<<<--- add_analog("FB_RampRANGE","REAL" ,                   PV_DESC="Ramping Range",                            PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-94:FB_RampRANGE")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1540 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "FB_RampRANGE")
}


#Checkback
#add_analog("CB_ValvePosition","REAL",                PV_DESC="CB Valve Position",          PV_EGU="%")
#add_analog("CB_ValveStatus","REAL",                  PV_DESC="CB Valve Status")
#add_analog("CB_ValvePOSD","REAL",                    PV_DESC="CB Valve discrete Position")
#add_analog("CB_ValveStatusD","REAL",                 PV_DESC="CB Valve discrete Status")
#add_analog("CB_ValveDIAG","REAL",                    PV_DESC="CB Valve Diagnostics")

#Timers and Filters
#<<<--- add_digital("Timer_enabled")
record(bi, "Spk-000CDL:Cryo-CV-94:Timer_enabled")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1544 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Timer_enabled")
}

#<<<--- add_digital("T_triggered")
record(bi, "Spk-000CDL:Cryo-CV-94:T_triggered")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1544 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "T_triggered")
}

#<<<--- add_analog("T_running", "INT")
record(ai, "Spk-000CDL:Cryo-CV-94:T_running")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1546 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "T_running")
}

#<<<--- add_digital("F_enabled")
record(bi, "Spk-000CDL:Cryo-CV-94:F_enabled")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1548 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "F_enabled")
}

#<<<--- add_analog("FiltedValue", "REAL")
record(ai, "Spk-000CDL:Cryo-CV-94:FiltedValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1550 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "FiltedValue")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-CV-94 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Auto",                              PV_DESC="CMD: Auto Mode")
record(bo, "Spk-000CDL:Cryo-CV-94:Cmd_Auto")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 259, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Cmd_Auto")
}

#<<<--- add_digital("Cmd_Manual",                            PV_DESC="CMD: Manual Mode")
record(bo, "Spk-000CDL:Cryo-CV-94:Cmd_Manual")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 259, 0x0002, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Cmd_Manual")
}

#<<<--- add_digital("Cmd_Force",                             PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-CV-94:Cmd_Force")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 259, 0x0004, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Cmd_Force")
}


#<<<--- add_digital("Cmd_RampON",                            PV_DESC="Turn Ramping ON")
record(bo, "Spk-000CDL:Cryo-CV-94:Cmd_RampON")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 259, 0x0008, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Turn Ramping ON")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Cmd_RampON")
}

#<<<--- add_digital("Cmd_RampOFF",                           PV_DESC="Turn Ramping OFF")
record(bo, "Spk-000CDL:Cryo-CV-94:Cmd_RampOFF")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 259, 0x0010, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Turn Ramping OFF")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Cmd_RampOFF")
}


#<<<--- add_digital("Cmd_AckAlarm",                          PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-CV-94:Cmd_AckAlarm")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 259, 0x0020, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Cmd_AckAlarm")
}


#<<<--- add_digital("Cmd_ForceValInp",                       PV_DESC="CMD: Force Valve PLC Input")
record(bo, "Spk-000CDL:Cryo-CV-94:Cmd_ForceValInp")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 259, 0x0040, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Valve PLC Input")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Cmd_ForceValInp")
}

#<<<--- add_digital("Cmd_ForceValOut",                       PV_DESC="CMD: Force Valve PLC Output")
record(bo, "Spk-000CDL:Cryo-CV-94:Cmd_ForceValOut")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 259, 0x0080, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Valve PLC Output")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Cmd_ForceValOut")
}


#<<<--- add_digital("Cmd_ForceUnlock",                       PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-CV-94:Cmd_ForceUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 259, 0x0100, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
}

#<<<--- add_digital("Cmd_DevLock",                           PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-CV-94:Cmd_DevLock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 259, 0x0200, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Cmd_DevLock")
}

#<<<--- add_digital("Cmd_DevUnlock",                         PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-CV-94:Cmd_DevUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 259, 0x0400, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Cmd_DevUnlock")
}



############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-CV-94 EPICS -> PLC parameters ##########
##########

#Setpoint and Manipulated value from HMI
#<<<--- add_analog("P_ForcePosition","REAL" ,                PV_DESC="Force Valve position (AI)",             PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-94:P_ForcePosition")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 260, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Valve position (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "P_ForcePosition")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Setpoint","REAL" ,                     PV_DESC="Setpoint from HMI (SP)",                PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-94:P_Setpoint")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 262, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "P_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Manipulated","REAL" ,                  PV_DESC="Manipulated value (AO)",                PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-94:P_Manipulated")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 264, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "P_Manipulated")
	info(autosaveFields_pass0, "VAL")
}


#Step value when pressing Cmd_Open1Step or Cmd_Close1Step
#<<<--- add_analog("P_Step","REAL" ,                         PV_DESC="Step value for open close",             PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-94:P_Step")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 266, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Step value for open close")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "P_Step")
	info(autosaveFields_pass0, "VAL")
}


#Ramping speed from the HMI
#<<<--- add_analog("P_RampUPTIME","INT",                     PV_DESC="Ramping UP Time",                          PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-CV-94:P_RampUPTIME")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 268, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Time")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(EGU,  "sec")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "P_RampUPTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampUPRANGE","REAL",                   PV_DESC="Ramping UP Range",                         PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-94:P_RampUPRANGE")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 269, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "P_RampUPRANGE")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNTIME","INT",                     PV_DESC="Ramping DOWN Time",                        PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-CV-94:P_RampDNTIME")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 271, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Time")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(EGU,  "sec")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "P_RampDNTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNRANGE","REAL",                   PV_DESC="Ramping DOWN Range",                       PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-94:P_RampDNRANGE")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 272, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "P_RampDNRANGE")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID","DINT",              PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-CV-94:P_Faceplate_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 274, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID","DINT",              PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-CV-94:P_BlockIcon_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 276, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Timers and Filters
#<<<--- add_analog("T_period", "INT")
record(ao, "Spk-000CDL:Cryo-CV-94:T_period")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 278, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "T_period")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("F_interval", "INT")
record(ao, "Spk-000CDL:Cryo-CV-94:F_interval")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 279, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "F_interval")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("F_buffer", "INT")
record(ao, "Spk-000CDL:Cryo-CV-94:F_buffer")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 280, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "F_buffer")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("F_Enable")
record(bo, "Spk-000CDL:Cryo-CV-94:F_Enable")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 281, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "F_Enable")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-CV-94:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-CV-94:P_ForcePosition")
	field(LNK2, "Spk-000CDL:Cryo-CV-94:P_Setpoint")
	field(LNK3, "Spk-000CDL:Cryo-CV-94:P_Manipulated")
	field(LNK4, "Spk-000CDL:Cryo-CV-94:P_Step")
	field(LNK5, "Spk-000CDL:Cryo-CV-94:P_RampUPTIME")
	field(LNK6, "Spk-000CDL:Cryo-CV-94:P_RampUPRANGE")
	field(LNK7, "Spk-000CDL:Cryo-CV-94:P_RampDNTIME")
	field(LNK8, "Spk-000CDL:Cryo-CV-94:P_RampDNRANGE")
	field(LNK9, "Spk-000CDL:Cryo-CV-94:P_Faceplate_LockID")
	field(LNKA, "Spk-000CDL:Cryo-CV-94:P_BlockIcon_LockID")
	field(LNKB, "Spk-000CDL:Cryo-CV-94:T_period")
	field(LNKC, "Spk-000CDL:Cryo-CV-94:F_interval")
	field(LNKD, "Spk-000CDL:Cryo-CV-94:F_buffer")
	field(LNKE, "Spk-000CDL:Cryo-CV-94:F_Enable")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-EH-91 ##########
##########
########## CommandWordsLength: 1
########## ParameterWordsLength: 18
########## StatusWordsLength: 45
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                                     EH - Alalog Heater                                   ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable name unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################           Version: 1.1           ################################
#Author:  Marino Vojneski
#Date:    2018-07-09
#Version: v1.1
#Changes:
#1. Modified "For OPI visualisation" section: Added digital variable "FB_Keep_Setpoint".
#2. Modified "Parameter Block" section: Added digital variable "P_Keep_Setpoint".
############################           Version: 1.0           ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    2018-06-12
#Version: v1.0
##############################################################################################



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-EH-91 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_Auto",             PV_DESC="Operation Mode Auto",       PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-91:OpMode_Auto")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1554 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "OpMode_Auto")
}

#<<<--- add_digital("OpMode_Manual",           PV_DESC="Operation Mode Manual",     PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-91:OpMode_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1554 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "OpMode_Manual")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",     PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-91:OpMode_Forced")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1554 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "OpMode_Forced")
}


#Heater states
#<<<--- add_analog("HeaterCurrent",            "REAL",                              PV_DESC="Heater Current AI",                 PV_EGU="A")
record(ai, "Spk-000CDL:Cryo-EH-91:HeaterCurrent")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1556 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Current AI")
	field(EGU,  "A")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "HeaterCurrent")
}

#<<<--- add_analog("HeaterVoltage",            "REAL",                              PV_DESC="Heater Voltage AI",                 PV_EGU="V")
record(ai, "Spk-000CDL:Cryo-EH-91:HeaterVoltage")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1560 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Voltage AI")
	field(EGU,  "V")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "HeaterVoltage")
}

#<<<--- add_analog("HeaterPower",              "REAL",                              PV_DESC="Heater Power",                      PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-91:HeaterPower")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1564 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Power")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "HeaterPower")
}

#<<<--- add_analog("HeaterSP",                 "REAL",                              PV_DESC="Heater Setpoint",                   PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-91:HeaterSP")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1568 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Setpoint")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "HeaterSP")
}

#<<<--- add_analog("HeaterMV",                 "REAL",                              PV_DESC="Heater Control AO",                 PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-91:HeaterMV")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1572 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Control AO")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "HeaterMV")
}

#<<<--- add_digital("HeatingON",                PV_DESC="Heater operating",         PV_ONAM="Heating",                           PV_ZNAM="NotHeating")
record(bi, "Spk-000CDL:Cryo-EH-91:HeatingON")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1576 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater operating")
	field(ONAM, "Heating")
	field(ZNAM, "NotHeating")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "HeatingON")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",       PV_ONAM="InhibitManual",                     PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-EH-91:Inhibit_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1576 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "Inhibit_Manual")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",        PV_ONAM="InhibitForce",                      PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-EH-91:Inhibit_Force")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1576 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "Inhibit_Force")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",           PV_ONAM="InhibitLocking",                    PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-EH-91:Inhibit_Lock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1576 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "Inhibit_Lock")
}


#Interlock signals
#<<<--- add_digital("GroupInterlock",          PV_DESC="Group Interlock",           PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-91:GroupInterlock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1576 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "GroupInterlock")
}

#<<<--- add_digital("HeatInterlock",           PV_DESC="Heat Interlock",            PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-91:HeatInterlock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1576 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heat Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "HeatInterlock")
}


#for OPI visualization
#<<<--- add_digital("EnableAutoBtn",           PV_DESC="Enable Auto Button",        PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-91:EnableAutoBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1576 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Auto Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "EnableAutoBtn")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",      PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-91:EnableManualBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1576 T=UINT16 B=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "EnableManualBtn")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",       PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-91:EnableForcedBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1576 T=UINT16 B=8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "EnableForcedBtn")
}


#Forcing
#<<<--- add_digital("EnableForceValBtn",       PV_DESC="Enable Force Value Button", PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-91:EnableForceValBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1576 T=UINT16 B=9")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Value Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "EnableForceValBtn")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",             PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-91:DevLocked")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1576 T=UINT16 B=10")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "DevLocked")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                              PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-EH-91:Faceplate_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1578 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "Faceplate_LockID")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                              PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-EH-91:BlockIcon_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1582 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "BlockIcon_LockID")
}


#<<<--- add_digital("LatchAlarm",                                                   PV_DESC="Latching of the alarms")
record(bi, "Spk-000CDL:Cryo-EH-91:LatchAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1586 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "LatchAlarm")
}

#<<<--- add_digital("GroupAlarm",                                                   PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-EH-91:GroupAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1586 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "GroupAlarm")
}


#Alarm signals
#<<<--- add_major_alarm("Power_Discrep",       "Heater Power Discrepancy",          PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-91:Power_Discrep")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1586 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Heater Power Discrepancy")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "Power_Discrep")
}

#<<<--- add_major_alarm("IO_Error",            "HW IO Error",                       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-91:IO_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1586 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "IO_Error")
}

#<<<--- add_major_alarm("Input_Module_Error",  "Input_Module_Error",                PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-91:Input_Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1586 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Input_Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "Input_Module_Error")
}

#<<<--- add_major_alarm("Output_Module_Error", "Output_Module_Error",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-91:Output_Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1586 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Output_Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "Output_Module_Error")
}


#Discrepancy
#<<<--- add_analog("DiscrPerc",                "REAL" ,                             PV_DESC="Discrepancy In Percent",            PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-91:DiscrPerc")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1588 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Discrepancy In Percent")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "DiscrPerc")
}

#<<<--- add_time("DiscrTime",                  PV_DESC="Discrepancy Time Interval")
record(ai, "Spk-000CDL:Cryo-EH-91:DiscrTime")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1592 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Discrepancy Time Interval")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "DiscrTime")
}



#Ramping
#<<<--- add_analog("MaxRampUPSpd","REAL",                    PV_DESC="Maximum Ramping UP Speed",                 PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-EH-91:MaxRampUPSpd")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1596 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum Ramping UP Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "MaxRampUPSpd")
}

#<<<--- add_analog("MaxRampDNSpd","REAL",                    PV_DESC="Maximum Ramping DOWN Speed",               PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-EH-91:MaxRampDNSpd")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1600 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum Ramping DOWN Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "MaxRampDNSpd")
}

#<<<--- add_analog("ActRampSpeed","REAL",                    PV_DESC="Actual Ramping Speed",                     PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-EH-91:ActRampSpeed")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1604 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Actual Ramping Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "ActRampSpeed")
}

#<<<--- add_digital("Ramping",                               PV_DESC="Ramping Indicator",                        PV_ONAM="True",                                     PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-91:Ramping")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1608 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Indicator")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "Ramping")
}

#<<<--- add_digital("RampSettingOK",                         PV_DESC="Ramping can be enabled",                   PV_ONAM="True",                                     PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-91:RampSettingOK")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1608 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping can be enabled")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "RampSettingOK")
}


#Feedbacks
#<<<--- add_analog("FB_RampUPTIME","INT",                    PV_DESC="Ramping UP time",                          PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-EH-91:FB_RampUPTIME")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1610 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "FB_RampUPTIME")
}

#<<<--- add_analog("FB_RampUPRANGE","REAL",                  PV_DESC="Ramping UP range",                         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-91:FB_RampUPRANGE")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1612 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "FB_RampUPRANGE")
}

#<<<--- add_analog("FB_RampDNTIME","INT",                    PV_DESC="Ramping DOWN time",                        PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-EH-91:FB_RampDNTIME")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1616 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "FB_RampDNTIME")
}

#<<<--- add_analog("FB_RampDNRANGE","REAL",                  PV_DESC="Ramping DOWN range",                       PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-91:FB_RampDNRANGE")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1618 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "FB_RampDNRANGE")
}



#Feedbacks
#<<<--- add_analog("FB_ForcePower",            "REAL" ,                             PV_DESC="FB Force Heater Power (AI)",        PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-91:FB_ForcePower")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1622 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Force Heater Power (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "FB_ForcePower")
}

#<<<--- add_analog("FB_Setpoint",              "REAL" ,                             PV_DESC="FB Setpoint from HMI (SP)",         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-91:FB_Setpoint")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1626 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "FB_Setpoint")
}

#<<<--- add_analog("FB_Manipulated",           "REAL" ,                             PV_DESC="FB Manipulated Value (AO)",         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-91:FB_Manipulated")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1630 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Manipulated Value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "FB_Manipulated")
}

#<<<--- add_analog("FB_Step",                  "REAL" ,                             PV_DESC="FB Step Value for Heating/Cooling", PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-91:FB_Step")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1634 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Step Value for Heating/Cooling")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "FB_Step")
}

#<<<--- add_analog("FB_RampTIME",              "INT" ,                              PV_DESC="Ramping Time",                      PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-EH-91:FB_RampTIME")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1638 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "FB_RampTIME")
}

#<<<--- add_analog("FB_RampRANGE",             "REAL" ,                             PV_DESC="Ramping Range",                     PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-91:FB_RampRANGE")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1640 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "FB_RampRANGE")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-EH-91 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Auto",                PV_DESC="CMD: Auto Mode")
record(bo, "Spk-000CDL:Cryo-EH-91:Cmd_Auto")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 282, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "Cmd_Auto")
}

#<<<--- add_digital("Cmd_Manual",              PV_DESC="CMD: Manual Mode")
record(bo, "Spk-000CDL:Cryo-EH-91:Cmd_Manual")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 282, 0x0002, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "Cmd_Manual")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-EH-91:Cmd_Force")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 282, 0x0004, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "Cmd_Force")
}


#<<<--- add_digital("Cmd_RampON",              PV_DESC="Turn Ramping ON")
record(bo, "Spk-000CDL:Cryo-EH-91:Cmd_RampON")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 282, 0x0008, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Turn Ramping ON")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "Cmd_RampON")
}

#<<<--- add_digital("Cmd_RampOFF",             PV_DESC="Turn Ramping OFF")
record(bo, "Spk-000CDL:Cryo-EH-91:Cmd_RampOFF")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 282, 0x0010, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Turn Ramping OFF")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "Cmd_RampOFF")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-EH-91:Cmd_AckAlarm")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 282, 0x0020, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "Cmd_AckAlarm")
}


#<<<--- add_digital("Cmd_ForceValInp",         PV_DESC="CMD: Force Heater PLC Input")
record(bo, "Spk-000CDL:Cryo-EH-91:Cmd_ForceValInp")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 282, 0x0040, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Heater PLC Input")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "Cmd_ForceValInp")
}

#<<<--- add_digital("Cmd_ForceValOut",         PV_DESC="CMD: Force Heater PLC Output")
record(bo, "Spk-000CDL:Cryo-EH-91:Cmd_ForceValOut")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 282, 0x0080, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Heater PLC Output")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "Cmd_ForceValOut")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-EH-91:Cmd_ForceUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 282, 0x0100, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-EH-91:Cmd_DevLock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 282, 0x0200, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "Cmd_DevLock")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-EH-91:Cmd_DevUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 282, 0x0400, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "Cmd_DevUnlock")
}



############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-EH-91 EPICS -> PLC parameters ##########
##########

#Setpoint and Manipulated value from HMI
#<<<--- add_analog("P_ForcePower",             "REAL" ,                             PV_DESC="Force heater power (AI)",           PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-91:P_ForcePower")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 283, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force heater power (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "P_ForcePower")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Setpoint",               "REAL" ,                             PV_DESC="Setpoint from HMI (SP)",            PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-91:P_Setpoint")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 285, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "P_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Manipulated",            "REAL" ,                             PV_DESC="Manipulated value (AO)",            PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-91:P_Manipulated")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 287, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "P_Manipulated")
	info(autosaveFields_pass0, "VAL")
}


#Step value when pressing Cmd_Open1Step or Cmd_Close1Step
#<<<--- add_analog("P_Step",                   "REAL" ,                             PV_DESC="Step value for Heating/Cooling",    PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-91:P_Step")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 289, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Step value for Heating/Cooling")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "P_Step")
	info(autosaveFields_pass0, "VAL")
}


#Ramping speed from the HMI
#<<<--- add_analog("P_RampUPTIME","INT",                     PV_DESC="Ramping UP Time",                          PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-EH-91:P_RampUPTIME")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 291, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Time")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(EGU,  "sec")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "P_RampUPTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampUPRANGE","REAL",                   PV_DESC="Ramping UP Range",                         PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-91:P_RampUPRANGE")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 292, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "P_RampUPRANGE")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNTIME","INT",                     PV_DESC="Ramping DOWN Time",                        PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-EH-91:P_RampDNTIME")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 294, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Time")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(EGU,  "sec")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "P_RampDNTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNRANGE","REAL",                   PV_DESC="Ramping DOWN Range",                       PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-91:P_RampDNRANGE")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 295, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "P_RampDNRANGE")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                              PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-EH-91:P_Faceplate_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 297, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                              PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-EH-91:P_BlockIcon_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 299, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-EH-91:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-EH-91:P_ForcePower")
	field(LNK2, "Spk-000CDL:Cryo-EH-91:P_Setpoint")
	field(LNK3, "Spk-000CDL:Cryo-EH-91:P_Manipulated")
	field(LNK4, "Spk-000CDL:Cryo-EH-91:P_Step")
	field(LNK5, "Spk-000CDL:Cryo-EH-91:P_RampUPTIME")
	field(LNK6, "Spk-000CDL:Cryo-EH-91:P_RampUPRANGE")
	field(LNK7, "Spk-000CDL:Cryo-EH-91:P_RampDNTIME")
	field(LNK8, "Spk-000CDL:Cryo-EH-91:P_RampDNRANGE")
	field(LNK9, "Spk-000CDL:Cryo-EH-91:P_Faceplate_LockID")
	field(LNKA, "Spk-000CDL:Cryo-EH-91:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-EH-92 ##########
##########
########## CommandWordsLength: 1
########## ParameterWordsLength: 18
########## StatusWordsLength: 45
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                                     EH - Alalog Heater                                   ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable name unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################           Version: 1.1           ################################
#Author:  Marino Vojneski
#Date:    2018-07-09
#Version: v1.1
#Changes:
#1. Modified "For OPI visualisation" section: Added digital variable "FB_Keep_Setpoint".
#2. Modified "Parameter Block" section: Added digital variable "P_Keep_Setpoint".
############################           Version: 1.0           ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    2018-06-12
#Version: v1.0
##############################################################################################



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-EH-92 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_Auto",             PV_DESC="Operation Mode Auto",       PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-92:OpMode_Auto")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1644 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "OpMode_Auto")
}

#<<<--- add_digital("OpMode_Manual",           PV_DESC="Operation Mode Manual",     PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-92:OpMode_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1644 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "OpMode_Manual")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",     PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-92:OpMode_Forced")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1644 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "OpMode_Forced")
}


#Heater states
#<<<--- add_analog("HeaterCurrent",            "REAL",                              PV_DESC="Heater Current AI",                 PV_EGU="A")
record(ai, "Spk-000CDL:Cryo-EH-92:HeaterCurrent")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1646 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Current AI")
	field(EGU,  "A")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "HeaterCurrent")
}

#<<<--- add_analog("HeaterVoltage",            "REAL",                              PV_DESC="Heater Voltage AI",                 PV_EGU="V")
record(ai, "Spk-000CDL:Cryo-EH-92:HeaterVoltage")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1650 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Voltage AI")
	field(EGU,  "V")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "HeaterVoltage")
}

#<<<--- add_analog("HeaterPower",              "REAL",                              PV_DESC="Heater Power",                      PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-92:HeaterPower")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1654 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Power")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "HeaterPower")
}

#<<<--- add_analog("HeaterSP",                 "REAL",                              PV_DESC="Heater Setpoint",                   PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-92:HeaterSP")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1658 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Setpoint")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "HeaterSP")
}

#<<<--- add_analog("HeaterMV",                 "REAL",                              PV_DESC="Heater Control AO",                 PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-92:HeaterMV")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1662 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Control AO")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "HeaterMV")
}

#<<<--- add_digital("HeatingON",                PV_DESC="Heater operating",         PV_ONAM="Heating",                           PV_ZNAM="NotHeating")
record(bi, "Spk-000CDL:Cryo-EH-92:HeatingON")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1666 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater operating")
	field(ONAM, "Heating")
	field(ZNAM, "NotHeating")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "HeatingON")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",       PV_ONAM="InhibitManual",                     PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-EH-92:Inhibit_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1666 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "Inhibit_Manual")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",        PV_ONAM="InhibitForce",                      PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-EH-92:Inhibit_Force")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1666 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "Inhibit_Force")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",           PV_ONAM="InhibitLocking",                    PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-EH-92:Inhibit_Lock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1666 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "Inhibit_Lock")
}


#Interlock signals
#<<<--- add_digital("GroupInterlock",          PV_DESC="Group Interlock",           PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-92:GroupInterlock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1666 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "GroupInterlock")
}

#<<<--- add_digital("HeatInterlock",           PV_DESC="Heat Interlock",            PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-92:HeatInterlock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1666 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heat Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "HeatInterlock")
}


#for OPI visualization
#<<<--- add_digital("EnableAutoBtn",           PV_DESC="Enable Auto Button",        PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-92:EnableAutoBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1666 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Auto Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "EnableAutoBtn")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",      PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-92:EnableManualBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1666 T=UINT16 B=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "EnableManualBtn")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",       PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-92:EnableForcedBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1666 T=UINT16 B=8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "EnableForcedBtn")
}


#Forcing
#<<<--- add_digital("EnableForceValBtn",       PV_DESC="Enable Force Value Button", PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-92:EnableForceValBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1666 T=UINT16 B=9")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Value Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "EnableForceValBtn")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",             PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-92:DevLocked")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1666 T=UINT16 B=10")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "DevLocked")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                              PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-EH-92:Faceplate_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1668 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "Faceplate_LockID")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                              PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-EH-92:BlockIcon_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1672 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "BlockIcon_LockID")
}


#<<<--- add_digital("LatchAlarm",                                                   PV_DESC="Latching of the alarms")
record(bi, "Spk-000CDL:Cryo-EH-92:LatchAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1676 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "LatchAlarm")
}

#<<<--- add_digital("GroupAlarm",                                                   PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-EH-92:GroupAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1676 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "GroupAlarm")
}


#Alarm signals
#<<<--- add_major_alarm("Power_Discrep",       "Heater Power Discrepancy",          PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-92:Power_Discrep")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1676 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Heater Power Discrepancy")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "Power_Discrep")
}

#<<<--- add_major_alarm("IO_Error",            "HW IO Error",                       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-92:IO_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1676 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "IO_Error")
}

#<<<--- add_major_alarm("Input_Module_Error",  "Input_Module_Error",                PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-92:Input_Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1676 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Input_Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "Input_Module_Error")
}

#<<<--- add_major_alarm("Output_Module_Error", "Output_Module_Error",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-92:Output_Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1676 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Output_Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "Output_Module_Error")
}


#Discrepancy
#<<<--- add_analog("DiscrPerc",                "REAL" ,                             PV_DESC="Discrepancy In Percent",            PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-92:DiscrPerc")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1678 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Discrepancy In Percent")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "DiscrPerc")
}

#<<<--- add_time("DiscrTime",                  PV_DESC="Discrepancy Time Interval")
record(ai, "Spk-000CDL:Cryo-EH-92:DiscrTime")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1682 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Discrepancy Time Interval")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "DiscrTime")
}



#Ramping
#<<<--- add_analog("MaxRampUPSpd","REAL",                    PV_DESC="Maximum Ramping UP Speed",                 PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-EH-92:MaxRampUPSpd")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1686 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum Ramping UP Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "MaxRampUPSpd")
}

#<<<--- add_analog("MaxRampDNSpd","REAL",                    PV_DESC="Maximum Ramping DOWN Speed",               PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-EH-92:MaxRampDNSpd")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1690 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum Ramping DOWN Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "MaxRampDNSpd")
}

#<<<--- add_analog("ActRampSpeed","REAL",                    PV_DESC="Actual Ramping Speed",                     PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-EH-92:ActRampSpeed")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1694 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Actual Ramping Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "ActRampSpeed")
}

#<<<--- add_digital("Ramping",                               PV_DESC="Ramping Indicator",                        PV_ONAM="True",                                     PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-92:Ramping")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1698 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Indicator")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "Ramping")
}

#<<<--- add_digital("RampSettingOK",                         PV_DESC="Ramping can be enabled",                   PV_ONAM="True",                                     PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-92:RampSettingOK")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1698 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping can be enabled")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "RampSettingOK")
}


#Feedbacks
#<<<--- add_analog("FB_RampUPTIME","INT",                    PV_DESC="Ramping UP time",                          PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-EH-92:FB_RampUPTIME")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1700 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "FB_RampUPTIME")
}

#<<<--- add_analog("FB_RampUPRANGE","REAL",                  PV_DESC="Ramping UP range",                         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-92:FB_RampUPRANGE")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1702 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "FB_RampUPRANGE")
}

#<<<--- add_analog("FB_RampDNTIME","INT",                    PV_DESC="Ramping DOWN time",                        PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-EH-92:FB_RampDNTIME")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1706 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "FB_RampDNTIME")
}

#<<<--- add_analog("FB_RampDNRANGE","REAL",                  PV_DESC="Ramping DOWN range",                       PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-92:FB_RampDNRANGE")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1708 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "FB_RampDNRANGE")
}



#Feedbacks
#<<<--- add_analog("FB_ForcePower",            "REAL" ,                             PV_DESC="FB Force Heater Power (AI)",        PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-92:FB_ForcePower")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1712 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Force Heater Power (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "FB_ForcePower")
}

#<<<--- add_analog("FB_Setpoint",              "REAL" ,                             PV_DESC="FB Setpoint from HMI (SP)",         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-92:FB_Setpoint")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1716 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "FB_Setpoint")
}

#<<<--- add_analog("FB_Manipulated",           "REAL" ,                             PV_DESC="FB Manipulated Value (AO)",         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-92:FB_Manipulated")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1720 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Manipulated Value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "FB_Manipulated")
}

#<<<--- add_analog("FB_Step",                  "REAL" ,                             PV_DESC="FB Step Value for Heating/Cooling", PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-92:FB_Step")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1724 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Step Value for Heating/Cooling")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "FB_Step")
}

#<<<--- add_analog("FB_RampTIME",              "INT" ,                              PV_DESC="Ramping Time",                      PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-EH-92:FB_RampTIME")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1728 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "FB_RampTIME")
}

#<<<--- add_analog("FB_RampRANGE",             "REAL" ,                             PV_DESC="Ramping Range",                     PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-92:FB_RampRANGE")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1730 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "FB_RampRANGE")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-EH-92 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Auto",                PV_DESC="CMD: Auto Mode")
record(bo, "Spk-000CDL:Cryo-EH-92:Cmd_Auto")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 301, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "Cmd_Auto")
}

#<<<--- add_digital("Cmd_Manual",              PV_DESC="CMD: Manual Mode")
record(bo, "Spk-000CDL:Cryo-EH-92:Cmd_Manual")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 301, 0x0002, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "Cmd_Manual")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-EH-92:Cmd_Force")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 301, 0x0004, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "Cmd_Force")
}


#<<<--- add_digital("Cmd_RampON",              PV_DESC="Turn Ramping ON")
record(bo, "Spk-000CDL:Cryo-EH-92:Cmd_RampON")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 301, 0x0008, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Turn Ramping ON")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "Cmd_RampON")
}

#<<<--- add_digital("Cmd_RampOFF",             PV_DESC="Turn Ramping OFF")
record(bo, "Spk-000CDL:Cryo-EH-92:Cmd_RampOFF")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 301, 0x0010, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Turn Ramping OFF")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "Cmd_RampOFF")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-EH-92:Cmd_AckAlarm")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 301, 0x0020, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "Cmd_AckAlarm")
}


#<<<--- add_digital("Cmd_ForceValInp",         PV_DESC="CMD: Force Heater PLC Input")
record(bo, "Spk-000CDL:Cryo-EH-92:Cmd_ForceValInp")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 301, 0x0040, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Heater PLC Input")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "Cmd_ForceValInp")
}

#<<<--- add_digital("Cmd_ForceValOut",         PV_DESC="CMD: Force Heater PLC Output")
record(bo, "Spk-000CDL:Cryo-EH-92:Cmd_ForceValOut")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 301, 0x0080, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Heater PLC Output")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "Cmd_ForceValOut")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-EH-92:Cmd_ForceUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 301, 0x0100, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-EH-92:Cmd_DevLock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 301, 0x0200, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "Cmd_DevLock")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-EH-92:Cmd_DevUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 301, 0x0400, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "Cmd_DevUnlock")
}



############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-EH-92 EPICS -> PLC parameters ##########
##########

#Setpoint and Manipulated value from HMI
#<<<--- add_analog("P_ForcePower",             "REAL" ,                             PV_DESC="Force heater power (AI)",           PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-92:P_ForcePower")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 302, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force heater power (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "P_ForcePower")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Setpoint",               "REAL" ,                             PV_DESC="Setpoint from HMI (SP)",            PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-92:P_Setpoint")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 304, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "P_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Manipulated",            "REAL" ,                             PV_DESC="Manipulated value (AO)",            PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-92:P_Manipulated")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 306, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "P_Manipulated")
	info(autosaveFields_pass0, "VAL")
}


#Step value when pressing Cmd_Open1Step or Cmd_Close1Step
#<<<--- add_analog("P_Step",                   "REAL" ,                             PV_DESC="Step value for Heating/Cooling",    PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-92:P_Step")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 308, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Step value for Heating/Cooling")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "P_Step")
	info(autosaveFields_pass0, "VAL")
}


#Ramping speed from the HMI
#<<<--- add_analog("P_RampUPTIME","INT",                     PV_DESC="Ramping UP Time",                          PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-EH-92:P_RampUPTIME")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 310, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Time")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(EGU,  "sec")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "P_RampUPTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampUPRANGE","REAL",                   PV_DESC="Ramping UP Range",                         PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-92:P_RampUPRANGE")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 311, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "P_RampUPRANGE")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNTIME","INT",                     PV_DESC="Ramping DOWN Time",                        PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-EH-92:P_RampDNTIME")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 313, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Time")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(EGU,  "sec")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "P_RampDNTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNRANGE","REAL",                   PV_DESC="Ramping DOWN Range",                       PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-92:P_RampDNRANGE")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 314, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "P_RampDNRANGE")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                              PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-EH-92:P_Faceplate_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 316, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                              PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-EH-92:P_BlockIcon_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 318, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-EH-92:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-EH-92:P_ForcePower")
	field(LNK2, "Spk-000CDL:Cryo-EH-92:P_Setpoint")
	field(LNK3, "Spk-000CDL:Cryo-EH-92:P_Manipulated")
	field(LNK4, "Spk-000CDL:Cryo-EH-92:P_Step")
	field(LNK5, "Spk-000CDL:Cryo-EH-92:P_RampUPTIME")
	field(LNK6, "Spk-000CDL:Cryo-EH-92:P_RampUPRANGE")
	field(LNK7, "Spk-000CDL:Cryo-EH-92:P_RampDNTIME")
	field(LNK8, "Spk-000CDL:Cryo-EH-92:P_RampDNRANGE")
	field(LNK9, "Spk-000CDL:Cryo-EH-92:P_Faceplate_LockID")
	field(LNKA, "Spk-000CDL:Cryo-EH-92:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-EH-93 ##########
##########
########## CommandWordsLength: 1
########## ParameterWordsLength: 18
########## StatusWordsLength: 45
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                                     EH - Alalog Heater                                   ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable name unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################           Version: 1.1           ################################
#Author:  Marino Vojneski
#Date:    2018-07-09
#Version: v1.1
#Changes:
#1. Modified "For OPI visualisation" section: Added digital variable "FB_Keep_Setpoint".
#2. Modified "Parameter Block" section: Added digital variable "P_Keep_Setpoint".
############################           Version: 1.0           ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    2018-06-12
#Version: v1.0
##############################################################################################



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-EH-93 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_Auto",             PV_DESC="Operation Mode Auto",       PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-93:OpMode_Auto")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1734 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "OpMode_Auto")
}

#<<<--- add_digital("OpMode_Manual",           PV_DESC="Operation Mode Manual",     PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-93:OpMode_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1734 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "OpMode_Manual")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",     PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-93:OpMode_Forced")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1734 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "OpMode_Forced")
}


#Heater states
#<<<--- add_analog("HeaterCurrent",            "REAL",                              PV_DESC="Heater Current AI",                 PV_EGU="A")
record(ai, "Spk-000CDL:Cryo-EH-93:HeaterCurrent")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1736 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Current AI")
	field(EGU,  "A")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "HeaterCurrent")
}

#<<<--- add_analog("HeaterVoltage",            "REAL",                              PV_DESC="Heater Voltage AI",                 PV_EGU="V")
record(ai, "Spk-000CDL:Cryo-EH-93:HeaterVoltage")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1740 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Voltage AI")
	field(EGU,  "V")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "HeaterVoltage")
}

#<<<--- add_analog("HeaterPower",              "REAL",                              PV_DESC="Heater Power",                      PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-93:HeaterPower")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1744 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Power")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "HeaterPower")
}

#<<<--- add_analog("HeaterSP",                 "REAL",                              PV_DESC="Heater Setpoint",                   PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-93:HeaterSP")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1748 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Setpoint")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "HeaterSP")
}

#<<<--- add_analog("HeaterMV",                 "REAL",                              PV_DESC="Heater Control AO",                 PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-93:HeaterMV")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1752 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Control AO")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "HeaterMV")
}

#<<<--- add_digital("HeatingON",                PV_DESC="Heater operating",         PV_ONAM="Heating",                           PV_ZNAM="NotHeating")
record(bi, "Spk-000CDL:Cryo-EH-93:HeatingON")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1756 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater operating")
	field(ONAM, "Heating")
	field(ZNAM, "NotHeating")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "HeatingON")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",       PV_ONAM="InhibitManual",                     PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-EH-93:Inhibit_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1756 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "Inhibit_Manual")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",        PV_ONAM="InhibitForce",                      PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-EH-93:Inhibit_Force")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1756 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "Inhibit_Force")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",           PV_ONAM="InhibitLocking",                    PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-EH-93:Inhibit_Lock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1756 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "Inhibit_Lock")
}


#Interlock signals
#<<<--- add_digital("GroupInterlock",          PV_DESC="Group Interlock",           PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-93:GroupInterlock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1756 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "GroupInterlock")
}

#<<<--- add_digital("HeatInterlock",           PV_DESC="Heat Interlock",            PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-93:HeatInterlock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1756 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heat Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "HeatInterlock")
}


#for OPI visualization
#<<<--- add_digital("EnableAutoBtn",           PV_DESC="Enable Auto Button",        PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-93:EnableAutoBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1756 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Auto Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "EnableAutoBtn")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",      PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-93:EnableManualBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1756 T=UINT16 B=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "EnableManualBtn")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",       PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-93:EnableForcedBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1756 T=UINT16 B=8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "EnableForcedBtn")
}


#Forcing
#<<<--- add_digital("EnableForceValBtn",       PV_DESC="Enable Force Value Button", PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-93:EnableForceValBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1756 T=UINT16 B=9")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Value Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "EnableForceValBtn")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",             PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-93:DevLocked")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1756 T=UINT16 B=10")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "DevLocked")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                              PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-EH-93:Faceplate_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1758 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "Faceplate_LockID")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                              PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-EH-93:BlockIcon_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1762 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "BlockIcon_LockID")
}


#<<<--- add_digital("LatchAlarm",                                                   PV_DESC="Latching of the alarms")
record(bi, "Spk-000CDL:Cryo-EH-93:LatchAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1766 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "LatchAlarm")
}

#<<<--- add_digital("GroupAlarm",                                                   PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-EH-93:GroupAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1766 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "GroupAlarm")
}


#Alarm signals
#<<<--- add_major_alarm("Power_Discrep",       "Heater Power Discrepancy",          PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-93:Power_Discrep")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1766 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Heater Power Discrepancy")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "Power_Discrep")
}

#<<<--- add_major_alarm("IO_Error",            "HW IO Error",                       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-93:IO_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1766 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "IO_Error")
}

#<<<--- add_major_alarm("Input_Module_Error",  "Input_Module_Error",                PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-93:Input_Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1766 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Input_Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "Input_Module_Error")
}

#<<<--- add_major_alarm("Output_Module_Error", "Output_Module_Error",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-93:Output_Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1766 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Output_Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "Output_Module_Error")
}


#Discrepancy
#<<<--- add_analog("DiscrPerc",                "REAL" ,                             PV_DESC="Discrepancy In Percent",            PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-93:DiscrPerc")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1768 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Discrepancy In Percent")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "DiscrPerc")
}

#<<<--- add_time("DiscrTime",                  PV_DESC="Discrepancy Time Interval")
record(ai, "Spk-000CDL:Cryo-EH-93:DiscrTime")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1772 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Discrepancy Time Interval")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "DiscrTime")
}



#Ramping
#<<<--- add_analog("MaxRampUPSpd","REAL",                    PV_DESC="Maximum Ramping UP Speed",                 PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-EH-93:MaxRampUPSpd")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1776 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum Ramping UP Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "MaxRampUPSpd")
}

#<<<--- add_analog("MaxRampDNSpd","REAL",                    PV_DESC="Maximum Ramping DOWN Speed",               PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-EH-93:MaxRampDNSpd")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1780 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum Ramping DOWN Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "MaxRampDNSpd")
}

#<<<--- add_analog("ActRampSpeed","REAL",                    PV_DESC="Actual Ramping Speed",                     PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-EH-93:ActRampSpeed")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1784 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Actual Ramping Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "ActRampSpeed")
}

#<<<--- add_digital("Ramping",                               PV_DESC="Ramping Indicator",                        PV_ONAM="True",                                     PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-93:Ramping")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1788 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Indicator")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "Ramping")
}

#<<<--- add_digital("RampSettingOK",                         PV_DESC="Ramping can be enabled",                   PV_ONAM="True",                                     PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-93:RampSettingOK")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1788 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping can be enabled")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "RampSettingOK")
}


#Feedbacks
#<<<--- add_analog("FB_RampUPTIME","INT",                    PV_DESC="Ramping UP time",                          PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-EH-93:FB_RampUPTIME")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1790 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "FB_RampUPTIME")
}

#<<<--- add_analog("FB_RampUPRANGE","REAL",                  PV_DESC="Ramping UP range",                         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-93:FB_RampUPRANGE")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1792 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "FB_RampUPRANGE")
}

#<<<--- add_analog("FB_RampDNTIME","INT",                    PV_DESC="Ramping DOWN time",                        PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-EH-93:FB_RampDNTIME")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1796 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "FB_RampDNTIME")
}

#<<<--- add_analog("FB_RampDNRANGE","REAL",                  PV_DESC="Ramping DOWN range",                       PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-93:FB_RampDNRANGE")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1798 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "FB_RampDNRANGE")
}



#Feedbacks
#<<<--- add_analog("FB_ForcePower",            "REAL" ,                             PV_DESC="FB Force Heater Power (AI)",        PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-93:FB_ForcePower")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1802 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Force Heater Power (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "FB_ForcePower")
}

#<<<--- add_analog("FB_Setpoint",              "REAL" ,                             PV_DESC="FB Setpoint from HMI (SP)",         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-93:FB_Setpoint")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1806 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "FB_Setpoint")
}

#<<<--- add_analog("FB_Manipulated",           "REAL" ,                             PV_DESC="FB Manipulated Value (AO)",         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-93:FB_Manipulated")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1810 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Manipulated Value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "FB_Manipulated")
}

#<<<--- add_analog("FB_Step",                  "REAL" ,                             PV_DESC="FB Step Value for Heating/Cooling", PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-93:FB_Step")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1814 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Step Value for Heating/Cooling")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "FB_Step")
}

#<<<--- add_analog("FB_RampTIME",              "INT" ,                              PV_DESC="Ramping Time",                      PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-EH-93:FB_RampTIME")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1818 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "FB_RampTIME")
}

#<<<--- add_analog("FB_RampRANGE",             "REAL" ,                             PV_DESC="Ramping Range",                     PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-93:FB_RampRANGE")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1820 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "FB_RampRANGE")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-EH-93 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Auto",                PV_DESC="CMD: Auto Mode")
record(bo, "Spk-000CDL:Cryo-EH-93:Cmd_Auto")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 320, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "Cmd_Auto")
}

#<<<--- add_digital("Cmd_Manual",              PV_DESC="CMD: Manual Mode")
record(bo, "Spk-000CDL:Cryo-EH-93:Cmd_Manual")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 320, 0x0002, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "Cmd_Manual")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-EH-93:Cmd_Force")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 320, 0x0004, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "Cmd_Force")
}


#<<<--- add_digital("Cmd_RampON",              PV_DESC="Turn Ramping ON")
record(bo, "Spk-000CDL:Cryo-EH-93:Cmd_RampON")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 320, 0x0008, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Turn Ramping ON")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "Cmd_RampON")
}

#<<<--- add_digital("Cmd_RampOFF",             PV_DESC="Turn Ramping OFF")
record(bo, "Spk-000CDL:Cryo-EH-93:Cmd_RampOFF")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 320, 0x0010, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Turn Ramping OFF")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "Cmd_RampOFF")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-EH-93:Cmd_AckAlarm")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 320, 0x0020, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "Cmd_AckAlarm")
}


#<<<--- add_digital("Cmd_ForceValInp",         PV_DESC="CMD: Force Heater PLC Input")
record(bo, "Spk-000CDL:Cryo-EH-93:Cmd_ForceValInp")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 320, 0x0040, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Heater PLC Input")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "Cmd_ForceValInp")
}

#<<<--- add_digital("Cmd_ForceValOut",         PV_DESC="CMD: Force Heater PLC Output")
record(bo, "Spk-000CDL:Cryo-EH-93:Cmd_ForceValOut")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 320, 0x0080, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Heater PLC Output")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "Cmd_ForceValOut")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-EH-93:Cmd_ForceUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 320, 0x0100, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-EH-93:Cmd_DevLock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 320, 0x0200, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "Cmd_DevLock")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-EH-93:Cmd_DevUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 320, 0x0400, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "Cmd_DevUnlock")
}



############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-EH-93 EPICS -> PLC parameters ##########
##########

#Setpoint and Manipulated value from HMI
#<<<--- add_analog("P_ForcePower",             "REAL" ,                             PV_DESC="Force heater power (AI)",           PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-93:P_ForcePower")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 321, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force heater power (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "P_ForcePower")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Setpoint",               "REAL" ,                             PV_DESC="Setpoint from HMI (SP)",            PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-93:P_Setpoint")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 323, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "P_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Manipulated",            "REAL" ,                             PV_DESC="Manipulated value (AO)",            PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-93:P_Manipulated")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 325, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "P_Manipulated")
	info(autosaveFields_pass0, "VAL")
}


#Step value when pressing Cmd_Open1Step or Cmd_Close1Step
#<<<--- add_analog("P_Step",                   "REAL" ,                             PV_DESC="Step value for Heating/Cooling",    PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-93:P_Step")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 327, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Step value for Heating/Cooling")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "P_Step")
	info(autosaveFields_pass0, "VAL")
}


#Ramping speed from the HMI
#<<<--- add_analog("P_RampUPTIME","INT",                     PV_DESC="Ramping UP Time",                          PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-EH-93:P_RampUPTIME")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 329, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Time")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(EGU,  "sec")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "P_RampUPTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampUPRANGE","REAL",                   PV_DESC="Ramping UP Range",                         PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-93:P_RampUPRANGE")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 330, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "P_RampUPRANGE")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNTIME","INT",                     PV_DESC="Ramping DOWN Time",                        PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-EH-93:P_RampDNTIME")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 332, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Time")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(EGU,  "sec")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "P_RampDNTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNRANGE","REAL",                   PV_DESC="Ramping DOWN Range",                       PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-93:P_RampDNRANGE")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 333, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "P_RampDNRANGE")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                              PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-EH-93:P_Faceplate_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 335, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                              PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-EH-93:P_BlockIcon_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 337, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-EH-93:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-EH-93:P_ForcePower")
	field(LNK2, "Spk-000CDL:Cryo-EH-93:P_Setpoint")
	field(LNK3, "Spk-000CDL:Cryo-EH-93:P_Manipulated")
	field(LNK4, "Spk-000CDL:Cryo-EH-93:P_Step")
	field(LNK5, "Spk-000CDL:Cryo-EH-93:P_RampUPTIME")
	field(LNK6, "Spk-000CDL:Cryo-EH-93:P_RampUPRANGE")
	field(LNK7, "Spk-000CDL:Cryo-EH-93:P_RampDNTIME")
	field(LNK8, "Spk-000CDL:Cryo-EH-93:P_RampDNRANGE")
	field(LNK9, "Spk-000CDL:Cryo-EH-93:P_Faceplate_LockID")
	field(LNKA, "Spk-000CDL:Cryo-EH-93:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-EH-94 ##########
##########
########## CommandWordsLength: 1
########## ParameterWordsLength: 18
########## StatusWordsLength: 45
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                                     EH - Alalog Heater                                   ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable name unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################           Version: 1.1           ################################
#Author:  Marino Vojneski
#Date:    2018-07-09
#Version: v1.1
#Changes:
#1. Modified "For OPI visualisation" section: Added digital variable "FB_Keep_Setpoint".
#2. Modified "Parameter Block" section: Added digital variable "P_Keep_Setpoint".
############################           Version: 1.0           ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    2018-06-12
#Version: v1.0
##############################################################################################



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-EH-94 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_Auto",             PV_DESC="Operation Mode Auto",       PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-94:OpMode_Auto")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1824 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "OpMode_Auto")
}

#<<<--- add_digital("OpMode_Manual",           PV_DESC="Operation Mode Manual",     PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-94:OpMode_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1824 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "OpMode_Manual")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",     PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-94:OpMode_Forced")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1824 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "OpMode_Forced")
}


#Heater states
#<<<--- add_analog("HeaterCurrent",            "REAL",                              PV_DESC="Heater Current AI",                 PV_EGU="A")
record(ai, "Spk-000CDL:Cryo-EH-94:HeaterCurrent")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1826 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Current AI")
	field(EGU,  "A")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "HeaterCurrent")
}

#<<<--- add_analog("HeaterVoltage",            "REAL",                              PV_DESC="Heater Voltage AI",                 PV_EGU="V")
record(ai, "Spk-000CDL:Cryo-EH-94:HeaterVoltage")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1830 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Voltage AI")
	field(EGU,  "V")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "HeaterVoltage")
}

#<<<--- add_analog("HeaterPower",              "REAL",                              PV_DESC="Heater Power",                      PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-94:HeaterPower")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1834 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Power")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "HeaterPower")
}

#<<<--- add_analog("HeaterSP",                 "REAL",                              PV_DESC="Heater Setpoint",                   PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-94:HeaterSP")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1838 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Setpoint")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "HeaterSP")
}

#<<<--- add_analog("HeaterMV",                 "REAL",                              PV_DESC="Heater Control AO",                 PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-94:HeaterMV")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1842 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Control AO")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "HeaterMV")
}

#<<<--- add_digital("HeatingON",                PV_DESC="Heater operating",         PV_ONAM="Heating",                           PV_ZNAM="NotHeating")
record(bi, "Spk-000CDL:Cryo-EH-94:HeatingON")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1846 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater operating")
	field(ONAM, "Heating")
	field(ZNAM, "NotHeating")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "HeatingON")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",       PV_ONAM="InhibitManual",                     PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-EH-94:Inhibit_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1846 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "Inhibit_Manual")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",        PV_ONAM="InhibitForce",                      PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-EH-94:Inhibit_Force")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1846 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "Inhibit_Force")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",           PV_ONAM="InhibitLocking",                    PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-EH-94:Inhibit_Lock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1846 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "Inhibit_Lock")
}


#Interlock signals
#<<<--- add_digital("GroupInterlock",          PV_DESC="Group Interlock",           PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-94:GroupInterlock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1846 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "GroupInterlock")
}

#<<<--- add_digital("HeatInterlock",           PV_DESC="Heat Interlock",            PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-94:HeatInterlock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1846 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heat Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "HeatInterlock")
}


#for OPI visualization
#<<<--- add_digital("EnableAutoBtn",           PV_DESC="Enable Auto Button",        PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-94:EnableAutoBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1846 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Auto Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "EnableAutoBtn")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",      PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-94:EnableManualBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1846 T=UINT16 B=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "EnableManualBtn")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",       PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-94:EnableForcedBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1846 T=UINT16 B=8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "EnableForcedBtn")
}


#Forcing
#<<<--- add_digital("EnableForceValBtn",       PV_DESC="Enable Force Value Button", PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-94:EnableForceValBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1846 T=UINT16 B=9")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Value Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "EnableForceValBtn")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",             PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-94:DevLocked")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1846 T=UINT16 B=10")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "DevLocked")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                              PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-EH-94:Faceplate_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1848 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "Faceplate_LockID")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                              PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-EH-94:BlockIcon_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1852 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "BlockIcon_LockID")
}


#<<<--- add_digital("LatchAlarm",                                                   PV_DESC="Latching of the alarms")
record(bi, "Spk-000CDL:Cryo-EH-94:LatchAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1856 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "LatchAlarm")
}

#<<<--- add_digital("GroupAlarm",                                                   PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-EH-94:GroupAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1856 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "GroupAlarm")
}


#Alarm signals
#<<<--- add_major_alarm("Power_Discrep",       "Heater Power Discrepancy",          PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-94:Power_Discrep")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1856 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Heater Power Discrepancy")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "Power_Discrep")
}

#<<<--- add_major_alarm("IO_Error",            "HW IO Error",                       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-94:IO_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1856 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "IO_Error")
}

#<<<--- add_major_alarm("Input_Module_Error",  "Input_Module_Error",                PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-94:Input_Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1856 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Input_Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "Input_Module_Error")
}

#<<<--- add_major_alarm("Output_Module_Error", "Output_Module_Error",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-94:Output_Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1856 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Output_Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "Output_Module_Error")
}


#Discrepancy
#<<<--- add_analog("DiscrPerc",                "REAL" ,                             PV_DESC="Discrepancy In Percent",            PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-94:DiscrPerc")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1858 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Discrepancy In Percent")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "DiscrPerc")
}

#<<<--- add_time("DiscrTime",                  PV_DESC="Discrepancy Time Interval")
record(ai, "Spk-000CDL:Cryo-EH-94:DiscrTime")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1862 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Discrepancy Time Interval")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "DiscrTime")
}



#Ramping
#<<<--- add_analog("MaxRampUPSpd","REAL",                    PV_DESC="Maximum Ramping UP Speed",                 PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-EH-94:MaxRampUPSpd")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1866 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum Ramping UP Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "MaxRampUPSpd")
}

#<<<--- add_analog("MaxRampDNSpd","REAL",                    PV_DESC="Maximum Ramping DOWN Speed",               PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-EH-94:MaxRampDNSpd")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1870 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum Ramping DOWN Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "MaxRampDNSpd")
}

#<<<--- add_analog("ActRampSpeed","REAL",                    PV_DESC="Actual Ramping Speed",                     PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-EH-94:ActRampSpeed")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1874 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Actual Ramping Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "ActRampSpeed")
}

#<<<--- add_digital("Ramping",                               PV_DESC="Ramping Indicator",                        PV_ONAM="True",                                     PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-94:Ramping")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1878 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Indicator")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "Ramping")
}

#<<<--- add_digital("RampSettingOK",                         PV_DESC="Ramping can be enabled",                   PV_ONAM="True",                                     PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-94:RampSettingOK")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1878 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping can be enabled")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "RampSettingOK")
}


#Feedbacks
#<<<--- add_analog("FB_RampUPTIME","INT",                    PV_DESC="Ramping UP time",                          PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-EH-94:FB_RampUPTIME")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1880 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "FB_RampUPTIME")
}

#<<<--- add_analog("FB_RampUPRANGE","REAL",                  PV_DESC="Ramping UP range",                         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-94:FB_RampUPRANGE")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1882 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "FB_RampUPRANGE")
}

#<<<--- add_analog("FB_RampDNTIME","INT",                    PV_DESC="Ramping DOWN time",                        PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-EH-94:FB_RampDNTIME")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1886 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "FB_RampDNTIME")
}

#<<<--- add_analog("FB_RampDNRANGE","REAL",                  PV_DESC="Ramping DOWN range",                       PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-94:FB_RampDNRANGE")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1888 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "FB_RampDNRANGE")
}



#Feedbacks
#<<<--- add_analog("FB_ForcePower",            "REAL" ,                             PV_DESC="FB Force Heater Power (AI)",        PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-94:FB_ForcePower")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1892 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Force Heater Power (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "FB_ForcePower")
}

#<<<--- add_analog("FB_Setpoint",              "REAL" ,                             PV_DESC="FB Setpoint from HMI (SP)",         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-94:FB_Setpoint")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1896 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "FB_Setpoint")
}

#<<<--- add_analog("FB_Manipulated",           "REAL" ,                             PV_DESC="FB Manipulated Value (AO)",         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-94:FB_Manipulated")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1900 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Manipulated Value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "FB_Manipulated")
}

#<<<--- add_analog("FB_Step",                  "REAL" ,                             PV_DESC="FB Step Value for Heating/Cooling", PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-94:FB_Step")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1904 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Step Value for Heating/Cooling")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "FB_Step")
}

#<<<--- add_analog("FB_RampTIME",              "INT" ,                              PV_DESC="Ramping Time",                      PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-EH-94:FB_RampTIME")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1908 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "FB_RampTIME")
}

#<<<--- add_analog("FB_RampRANGE",             "REAL" ,                             PV_DESC="Ramping Range",                     PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-94:FB_RampRANGE")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1910 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "FB_RampRANGE")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-EH-94 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Auto",                PV_DESC="CMD: Auto Mode")
record(bo, "Spk-000CDL:Cryo-EH-94:Cmd_Auto")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 339, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "Cmd_Auto")
}

#<<<--- add_digital("Cmd_Manual",              PV_DESC="CMD: Manual Mode")
record(bo, "Spk-000CDL:Cryo-EH-94:Cmd_Manual")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 339, 0x0002, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "Cmd_Manual")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-EH-94:Cmd_Force")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 339, 0x0004, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "Cmd_Force")
}


#<<<--- add_digital("Cmd_RampON",              PV_DESC="Turn Ramping ON")
record(bo, "Spk-000CDL:Cryo-EH-94:Cmd_RampON")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 339, 0x0008, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Turn Ramping ON")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "Cmd_RampON")
}

#<<<--- add_digital("Cmd_RampOFF",             PV_DESC="Turn Ramping OFF")
record(bo, "Spk-000CDL:Cryo-EH-94:Cmd_RampOFF")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 339, 0x0010, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Turn Ramping OFF")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "Cmd_RampOFF")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-EH-94:Cmd_AckAlarm")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 339, 0x0020, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "Cmd_AckAlarm")
}


#<<<--- add_digital("Cmd_ForceValInp",         PV_DESC="CMD: Force Heater PLC Input")
record(bo, "Spk-000CDL:Cryo-EH-94:Cmd_ForceValInp")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 339, 0x0040, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Heater PLC Input")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "Cmd_ForceValInp")
}

#<<<--- add_digital("Cmd_ForceValOut",         PV_DESC="CMD: Force Heater PLC Output")
record(bo, "Spk-000CDL:Cryo-EH-94:Cmd_ForceValOut")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 339, 0x0080, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Heater PLC Output")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "Cmd_ForceValOut")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-EH-94:Cmd_ForceUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 339, 0x0100, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-EH-94:Cmd_DevLock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 339, 0x0200, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "Cmd_DevLock")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-EH-94:Cmd_DevUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 339, 0x0400, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "Cmd_DevUnlock")
}



############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-EH-94 EPICS -> PLC parameters ##########
##########

#Setpoint and Manipulated value from HMI
#<<<--- add_analog("P_ForcePower",             "REAL" ,                             PV_DESC="Force heater power (AI)",           PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-94:P_ForcePower")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 340, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force heater power (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "P_ForcePower")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Setpoint",               "REAL" ,                             PV_DESC="Setpoint from HMI (SP)",            PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-94:P_Setpoint")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 342, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "P_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Manipulated",            "REAL" ,                             PV_DESC="Manipulated value (AO)",            PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-94:P_Manipulated")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 344, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "P_Manipulated")
	info(autosaveFields_pass0, "VAL")
}


#Step value when pressing Cmd_Open1Step or Cmd_Close1Step
#<<<--- add_analog("P_Step",                   "REAL" ,                             PV_DESC="Step value for Heating/Cooling",    PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-94:P_Step")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 346, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Step value for Heating/Cooling")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "P_Step")
	info(autosaveFields_pass0, "VAL")
}


#Ramping speed from the HMI
#<<<--- add_analog("P_RampUPTIME","INT",                     PV_DESC="Ramping UP Time",                          PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-EH-94:P_RampUPTIME")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 348, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Time")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(EGU,  "sec")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "P_RampUPTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampUPRANGE","REAL",                   PV_DESC="Ramping UP Range",                         PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-94:P_RampUPRANGE")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 349, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "P_RampUPRANGE")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNTIME","INT",                     PV_DESC="Ramping DOWN Time",                        PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-EH-94:P_RampDNTIME")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 351, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Time")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(EGU,  "sec")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "P_RampDNTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNRANGE","REAL",                   PV_DESC="Ramping DOWN Range",                       PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-94:P_RampDNRANGE")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 352, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "P_RampDNRANGE")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                              PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-EH-94:P_Faceplate_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 354, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                              PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-EH-94:P_BlockIcon_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 356, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-EH-94:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-EH-94:P_ForcePower")
	field(LNK2, "Spk-000CDL:Cryo-EH-94:P_Setpoint")
	field(LNK3, "Spk-000CDL:Cryo-EH-94:P_Manipulated")
	field(LNK4, "Spk-000CDL:Cryo-EH-94:P_Step")
	field(LNK5, "Spk-000CDL:Cryo-EH-94:P_RampUPTIME")
	field(LNK6, "Spk-000CDL:Cryo-EH-94:P_RampUPRANGE")
	field(LNK7, "Spk-000CDL:Cryo-EH-94:P_RampDNTIME")
	field(LNK8, "Spk-000CDL:Cryo-EH-94:P_RampDNRANGE")
	field(LNK9, "Spk-000CDL:Cryo-EH-94:P_Faceplate_LockID")
	field(LNKA, "Spk-000CDL:Cryo-EH-94:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-EH-95 ##########
##########
########## CommandWordsLength: 1
########## ParameterWordsLength: 18
########## StatusWordsLength: 45
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                                     EH - Alalog Heater                                   ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable name unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################           Version: 1.1           ################################
#Author:  Marino Vojneski
#Date:    2018-07-09
#Version: v1.1
#Changes:
#1. Modified "For OPI visualisation" section: Added digital variable "FB_Keep_Setpoint".
#2. Modified "Parameter Block" section: Added digital variable "P_Keep_Setpoint".
############################           Version: 1.0           ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    2018-06-12
#Version: v1.0
##############################################################################################



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-EH-95 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_Auto",             PV_DESC="Operation Mode Auto",       PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-95:OpMode_Auto")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1914 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "OpMode_Auto")
}

#<<<--- add_digital("OpMode_Manual",           PV_DESC="Operation Mode Manual",     PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-95:OpMode_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1914 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "OpMode_Manual")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",     PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-95:OpMode_Forced")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1914 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "OpMode_Forced")
}


#Heater states
#<<<--- add_analog("HeaterCurrent",            "REAL",                              PV_DESC="Heater Current AI",                 PV_EGU="A")
record(ai, "Spk-000CDL:Cryo-EH-95:HeaterCurrent")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1916 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Current AI")
	field(EGU,  "A")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "HeaterCurrent")
}

#<<<--- add_analog("HeaterVoltage",            "REAL",                              PV_DESC="Heater Voltage AI",                 PV_EGU="V")
record(ai, "Spk-000CDL:Cryo-EH-95:HeaterVoltage")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1920 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Voltage AI")
	field(EGU,  "V")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "HeaterVoltage")
}

#<<<--- add_analog("HeaterPower",              "REAL",                              PV_DESC="Heater Power",                      PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-95:HeaterPower")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1924 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Power")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "HeaterPower")
}

#<<<--- add_analog("HeaterSP",                 "REAL",                              PV_DESC="Heater Setpoint",                   PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-95:HeaterSP")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1928 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Setpoint")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "HeaterSP")
}

#<<<--- add_analog("HeaterMV",                 "REAL",                              PV_DESC="Heater Control AO",                 PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-95:HeaterMV")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1932 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Control AO")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "HeaterMV")
}

#<<<--- add_digital("HeatingON",                PV_DESC="Heater operating",         PV_ONAM="Heating",                           PV_ZNAM="NotHeating")
record(bi, "Spk-000CDL:Cryo-EH-95:HeatingON")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1936 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater operating")
	field(ONAM, "Heating")
	field(ZNAM, "NotHeating")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "HeatingON")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",       PV_ONAM="InhibitManual",                     PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-EH-95:Inhibit_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1936 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "Inhibit_Manual")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",        PV_ONAM="InhibitForce",                      PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-EH-95:Inhibit_Force")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1936 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "Inhibit_Force")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",           PV_ONAM="InhibitLocking",                    PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-EH-95:Inhibit_Lock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1936 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "Inhibit_Lock")
}


#Interlock signals
#<<<--- add_digital("GroupInterlock",          PV_DESC="Group Interlock",           PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-95:GroupInterlock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1936 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "GroupInterlock")
}

#<<<--- add_digital("HeatInterlock",           PV_DESC="Heat Interlock",            PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-95:HeatInterlock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1936 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heat Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "HeatInterlock")
}


#for OPI visualization
#<<<--- add_digital("EnableAutoBtn",           PV_DESC="Enable Auto Button",        PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-95:EnableAutoBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1936 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Auto Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "EnableAutoBtn")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",      PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-95:EnableManualBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1936 T=UINT16 B=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "EnableManualBtn")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",       PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-95:EnableForcedBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1936 T=UINT16 B=8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "EnableForcedBtn")
}


#Forcing
#<<<--- add_digital("EnableForceValBtn",       PV_DESC="Enable Force Value Button", PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-95:EnableForceValBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1936 T=UINT16 B=9")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Value Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "EnableForceValBtn")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",             PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-95:DevLocked")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1936 T=UINT16 B=10")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "DevLocked")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                              PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-EH-95:Faceplate_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1938 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "Faceplate_LockID")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                              PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-EH-95:BlockIcon_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1942 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "BlockIcon_LockID")
}


#<<<--- add_digital("LatchAlarm",                                                   PV_DESC="Latching of the alarms")
record(bi, "Spk-000CDL:Cryo-EH-95:LatchAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1946 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "LatchAlarm")
}

#<<<--- add_digital("GroupAlarm",                                                   PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-EH-95:GroupAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1946 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "GroupAlarm")
}


#Alarm signals
#<<<--- add_major_alarm("Power_Discrep",       "Heater Power Discrepancy",          PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-95:Power_Discrep")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1946 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Heater Power Discrepancy")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "Power_Discrep")
}

#<<<--- add_major_alarm("IO_Error",            "HW IO Error",                       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-95:IO_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1946 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "IO_Error")
}

#<<<--- add_major_alarm("Input_Module_Error",  "Input_Module_Error",                PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-95:Input_Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1946 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Input_Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "Input_Module_Error")
}

#<<<--- add_major_alarm("Output_Module_Error", "Output_Module_Error",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-95:Output_Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1946 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Output_Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "Output_Module_Error")
}


#Discrepancy
#<<<--- add_analog("DiscrPerc",                "REAL" ,                             PV_DESC="Discrepancy In Percent",            PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-95:DiscrPerc")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1948 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Discrepancy In Percent")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "DiscrPerc")
}

#<<<--- add_time("DiscrTime",                  PV_DESC="Discrepancy Time Interval")
record(ai, "Spk-000CDL:Cryo-EH-95:DiscrTime")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1952 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Discrepancy Time Interval")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "DiscrTime")
}



#Ramping
#<<<--- add_analog("MaxRampUPSpd","REAL",                    PV_DESC="Maximum Ramping UP Speed",                 PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-EH-95:MaxRampUPSpd")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1956 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum Ramping UP Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "MaxRampUPSpd")
}

#<<<--- add_analog("MaxRampDNSpd","REAL",                    PV_DESC="Maximum Ramping DOWN Speed",               PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-EH-95:MaxRampDNSpd")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1960 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum Ramping DOWN Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "MaxRampDNSpd")
}

#<<<--- add_analog("ActRampSpeed","REAL",                    PV_DESC="Actual Ramping Speed",                     PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-EH-95:ActRampSpeed")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1964 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Actual Ramping Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "ActRampSpeed")
}

#<<<--- add_digital("Ramping",                               PV_DESC="Ramping Indicator",                        PV_ONAM="True",                                     PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-95:Ramping")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1968 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Indicator")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "Ramping")
}

#<<<--- add_digital("RampSettingOK",                         PV_DESC="Ramping can be enabled",                   PV_ONAM="True",                                     PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-95:RampSettingOK")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1968 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping can be enabled")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "RampSettingOK")
}


#Feedbacks
#<<<--- add_analog("FB_RampUPTIME","INT",                    PV_DESC="Ramping UP time",                          PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-EH-95:FB_RampUPTIME")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1970 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "FB_RampUPTIME")
}

#<<<--- add_analog("FB_RampUPRANGE","REAL",                  PV_DESC="Ramping UP range",                         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-95:FB_RampUPRANGE")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1972 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "FB_RampUPRANGE")
}

#<<<--- add_analog("FB_RampDNTIME","INT",                    PV_DESC="Ramping DOWN time",                        PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-EH-95:FB_RampDNTIME")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1976 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "FB_RampDNTIME")
}

#<<<--- add_analog("FB_RampDNRANGE","REAL",                  PV_DESC="Ramping DOWN range",                       PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-95:FB_RampDNRANGE")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1978 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "FB_RampDNRANGE")
}



#Feedbacks
#<<<--- add_analog("FB_ForcePower",            "REAL" ,                             PV_DESC="FB Force Heater Power (AI)",        PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-95:FB_ForcePower")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1982 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Force Heater Power (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "FB_ForcePower")
}

#<<<--- add_analog("FB_Setpoint",              "REAL" ,                             PV_DESC="FB Setpoint from HMI (SP)",         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-95:FB_Setpoint")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1986 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "FB_Setpoint")
}

#<<<--- add_analog("FB_Manipulated",           "REAL" ,                             PV_DESC="FB Manipulated Value (AO)",         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-95:FB_Manipulated")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1990 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Manipulated Value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "FB_Manipulated")
}

#<<<--- add_analog("FB_Step",                  "REAL" ,                             PV_DESC="FB Step Value for Heating/Cooling", PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-95:FB_Step")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1994 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Step Value for Heating/Cooling")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "FB_Step")
}

#<<<--- add_analog("FB_RampTIME",              "INT" ,                              PV_DESC="Ramping Time",                      PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-EH-95:FB_RampTIME")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/1998 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "FB_RampTIME")
}

#<<<--- add_analog("FB_RampRANGE",             "REAL" ,                             PV_DESC="Ramping Range",                     PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-95:FB_RampRANGE")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2000 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "FB_RampRANGE")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-EH-95 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Auto",                PV_DESC="CMD: Auto Mode")
record(bo, "Spk-000CDL:Cryo-EH-95:Cmd_Auto")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 358, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "Cmd_Auto")
}

#<<<--- add_digital("Cmd_Manual",              PV_DESC="CMD: Manual Mode")
record(bo, "Spk-000CDL:Cryo-EH-95:Cmd_Manual")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 358, 0x0002, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "Cmd_Manual")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-EH-95:Cmd_Force")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 358, 0x0004, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "Cmd_Force")
}


#<<<--- add_digital("Cmd_RampON",              PV_DESC="Turn Ramping ON")
record(bo, "Spk-000CDL:Cryo-EH-95:Cmd_RampON")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 358, 0x0008, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Turn Ramping ON")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "Cmd_RampON")
}

#<<<--- add_digital("Cmd_RampOFF",             PV_DESC="Turn Ramping OFF")
record(bo, "Spk-000CDL:Cryo-EH-95:Cmd_RampOFF")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 358, 0x0010, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Turn Ramping OFF")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "Cmd_RampOFF")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-EH-95:Cmd_AckAlarm")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 358, 0x0020, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "Cmd_AckAlarm")
}


#<<<--- add_digital("Cmd_ForceValInp",         PV_DESC="CMD: Force Heater PLC Input")
record(bo, "Spk-000CDL:Cryo-EH-95:Cmd_ForceValInp")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 358, 0x0040, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Heater PLC Input")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "Cmd_ForceValInp")
}

#<<<--- add_digital("Cmd_ForceValOut",         PV_DESC="CMD: Force Heater PLC Output")
record(bo, "Spk-000CDL:Cryo-EH-95:Cmd_ForceValOut")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 358, 0x0080, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Heater PLC Output")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "Cmd_ForceValOut")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-EH-95:Cmd_ForceUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 358, 0x0100, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-EH-95:Cmd_DevLock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 358, 0x0200, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "Cmd_DevLock")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-EH-95:Cmd_DevUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 358, 0x0400, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "Cmd_DevUnlock")
}



############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-EH-95 EPICS -> PLC parameters ##########
##########

#Setpoint and Manipulated value from HMI
#<<<--- add_analog("P_ForcePower",             "REAL" ,                             PV_DESC="Force heater power (AI)",           PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-95:P_ForcePower")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 359, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force heater power (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "P_ForcePower")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Setpoint",               "REAL" ,                             PV_DESC="Setpoint from HMI (SP)",            PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-95:P_Setpoint")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 361, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "P_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Manipulated",            "REAL" ,                             PV_DESC="Manipulated value (AO)",            PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-95:P_Manipulated")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 363, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "P_Manipulated")
	info(autosaveFields_pass0, "VAL")
}


#Step value when pressing Cmd_Open1Step or Cmd_Close1Step
#<<<--- add_analog("P_Step",                   "REAL" ,                             PV_DESC="Step value for Heating/Cooling",    PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-95:P_Step")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 365, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Step value for Heating/Cooling")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "P_Step")
	info(autosaveFields_pass0, "VAL")
}


#Ramping speed from the HMI
#<<<--- add_analog("P_RampUPTIME","INT",                     PV_DESC="Ramping UP Time",                          PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-EH-95:P_RampUPTIME")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 367, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Time")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(EGU,  "sec")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "P_RampUPTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampUPRANGE","REAL",                   PV_DESC="Ramping UP Range",                         PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-95:P_RampUPRANGE")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 368, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "P_RampUPRANGE")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNTIME","INT",                     PV_DESC="Ramping DOWN Time",                        PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-EH-95:P_RampDNTIME")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 370, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Time")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(EGU,  "sec")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "P_RampDNTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNRANGE","REAL",                   PV_DESC="Ramping DOWN Range",                       PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-95:P_RampDNRANGE")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 371, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "P_RampDNRANGE")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                              PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-EH-95:P_Faceplate_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 373, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                              PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-EH-95:P_BlockIcon_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 375, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-EH-95:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-EH-95:P_ForcePower")
	field(LNK2, "Spk-000CDL:Cryo-EH-95:P_Setpoint")
	field(LNK3, "Spk-000CDL:Cryo-EH-95:P_Manipulated")
	field(LNK4, "Spk-000CDL:Cryo-EH-95:P_Step")
	field(LNK5, "Spk-000CDL:Cryo-EH-95:P_RampUPTIME")
	field(LNK6, "Spk-000CDL:Cryo-EH-95:P_RampUPRANGE")
	field(LNK7, "Spk-000CDL:Cryo-EH-95:P_RampDNTIME")
	field(LNK8, "Spk-000CDL:Cryo-EH-95:P_RampDNRANGE")
	field(LNK9, "Spk-000CDL:Cryo-EH-95:P_Faceplate_LockID")
	field(LNKA, "Spk-000CDL:Cryo-EH-95:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-EH-96 ##########
##########
########## CommandWordsLength: 1
########## ParameterWordsLength: 18
########## StatusWordsLength: 45
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                                     EH - Alalog Heater                                   ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable name unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################           Version: 1.1           ################################
#Author:  Marino Vojneski
#Date:    2018-07-09
#Version: v1.1
#Changes:
#1. Modified "For OPI visualisation" section: Added digital variable "FB_Keep_Setpoint".
#2. Modified "Parameter Block" section: Added digital variable "P_Keep_Setpoint".
############################           Version: 1.0           ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    2018-06-12
#Version: v1.0
##############################################################################################



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-EH-96 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_Auto",             PV_DESC="Operation Mode Auto",       PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-96:OpMode_Auto")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2004 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "OpMode_Auto")
}

#<<<--- add_digital("OpMode_Manual",           PV_DESC="Operation Mode Manual",     PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-96:OpMode_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2004 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "OpMode_Manual")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",     PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-96:OpMode_Forced")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2004 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "OpMode_Forced")
}


#Heater states
#<<<--- add_analog("HeaterCurrent",            "REAL",                              PV_DESC="Heater Current AI",                 PV_EGU="A")
record(ai, "Spk-000CDL:Cryo-EH-96:HeaterCurrent")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2006 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Current AI")
	field(EGU,  "A")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "HeaterCurrent")
}

#<<<--- add_analog("HeaterVoltage",            "REAL",                              PV_DESC="Heater Voltage AI",                 PV_EGU="V")
record(ai, "Spk-000CDL:Cryo-EH-96:HeaterVoltage")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2010 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Voltage AI")
	field(EGU,  "V")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "HeaterVoltage")
}

#<<<--- add_analog("HeaterPower",              "REAL",                              PV_DESC="Heater Power",                      PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-96:HeaterPower")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2014 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Power")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "HeaterPower")
}

#<<<--- add_analog("HeaterSP",                 "REAL",                              PV_DESC="Heater Setpoint",                   PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-96:HeaterSP")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2018 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Setpoint")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "HeaterSP")
}

#<<<--- add_analog("HeaterMV",                 "REAL",                              PV_DESC="Heater Control AO",                 PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-96:HeaterMV")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2022 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Control AO")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "HeaterMV")
}

#<<<--- add_digital("HeatingON",                PV_DESC="Heater operating",         PV_ONAM="Heating",                           PV_ZNAM="NotHeating")
record(bi, "Spk-000CDL:Cryo-EH-96:HeatingON")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2026 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater operating")
	field(ONAM, "Heating")
	field(ZNAM, "NotHeating")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "HeatingON")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",       PV_ONAM="InhibitManual",                     PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-EH-96:Inhibit_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2026 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "Inhibit_Manual")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",        PV_ONAM="InhibitForce",                      PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-EH-96:Inhibit_Force")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2026 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "Inhibit_Force")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",           PV_ONAM="InhibitLocking",                    PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-EH-96:Inhibit_Lock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2026 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "Inhibit_Lock")
}


#Interlock signals
#<<<--- add_digital("GroupInterlock",          PV_DESC="Group Interlock",           PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-96:GroupInterlock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2026 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "GroupInterlock")
}

#<<<--- add_digital("HeatInterlock",           PV_DESC="Heat Interlock",            PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-96:HeatInterlock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2026 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heat Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "HeatInterlock")
}


#for OPI visualization
#<<<--- add_digital("EnableAutoBtn",           PV_DESC="Enable Auto Button",        PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-96:EnableAutoBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2026 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Auto Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "EnableAutoBtn")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",      PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-96:EnableManualBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2026 T=UINT16 B=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "EnableManualBtn")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",       PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-96:EnableForcedBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2026 T=UINT16 B=8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "EnableForcedBtn")
}


#Forcing
#<<<--- add_digital("EnableForceValBtn",       PV_DESC="Enable Force Value Button", PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-96:EnableForceValBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2026 T=UINT16 B=9")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Value Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "EnableForceValBtn")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",             PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-96:DevLocked")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2026 T=UINT16 B=10")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "DevLocked")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                              PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-EH-96:Faceplate_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2028 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "Faceplate_LockID")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                              PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-EH-96:BlockIcon_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2032 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "BlockIcon_LockID")
}


#<<<--- add_digital("LatchAlarm",                                                   PV_DESC="Latching of the alarms")
record(bi, "Spk-000CDL:Cryo-EH-96:LatchAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2036 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "LatchAlarm")
}

#<<<--- add_digital("GroupAlarm",                                                   PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-EH-96:GroupAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2036 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "GroupAlarm")
}


#Alarm signals
#<<<--- add_major_alarm("Power_Discrep",       "Heater Power Discrepancy",          PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-96:Power_Discrep")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2036 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Heater Power Discrepancy")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "Power_Discrep")
}

#<<<--- add_major_alarm("IO_Error",            "HW IO Error",                       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-96:IO_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2036 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "IO_Error")
}

#<<<--- add_major_alarm("Input_Module_Error",  "Input_Module_Error",                PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-96:Input_Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2036 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Input_Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "Input_Module_Error")
}

#<<<--- add_major_alarm("Output_Module_Error", "Output_Module_Error",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-96:Output_Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2036 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Output_Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "Output_Module_Error")
}


#Discrepancy
#<<<--- add_analog("DiscrPerc",                "REAL" ,                             PV_DESC="Discrepancy In Percent",            PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-96:DiscrPerc")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2038 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Discrepancy In Percent")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "DiscrPerc")
}

#<<<--- add_time("DiscrTime",                  PV_DESC="Discrepancy Time Interval")
record(ai, "Spk-000CDL:Cryo-EH-96:DiscrTime")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2042 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Discrepancy Time Interval")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "DiscrTime")
}



#Ramping
#<<<--- add_analog("MaxRampUPSpd","REAL",                    PV_DESC="Maximum Ramping UP Speed",                 PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-EH-96:MaxRampUPSpd")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2046 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum Ramping UP Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "MaxRampUPSpd")
}

#<<<--- add_analog("MaxRampDNSpd","REAL",                    PV_DESC="Maximum Ramping DOWN Speed",               PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-EH-96:MaxRampDNSpd")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2050 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum Ramping DOWN Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "MaxRampDNSpd")
}

#<<<--- add_analog("ActRampSpeed","REAL",                    PV_DESC="Actual Ramping Speed",                     PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-EH-96:ActRampSpeed")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2054 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Actual Ramping Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "ActRampSpeed")
}

#<<<--- add_digital("Ramping",                               PV_DESC="Ramping Indicator",                        PV_ONAM="True",                                     PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-96:Ramping")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2058 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Indicator")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "Ramping")
}

#<<<--- add_digital("RampSettingOK",                         PV_DESC="Ramping can be enabled",                   PV_ONAM="True",                                     PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-96:RampSettingOK")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2058 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping can be enabled")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "RampSettingOK")
}


#Feedbacks
#<<<--- add_analog("FB_RampUPTIME","INT",                    PV_DESC="Ramping UP time",                          PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-EH-96:FB_RampUPTIME")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2060 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "FB_RampUPTIME")
}

#<<<--- add_analog("FB_RampUPRANGE","REAL",                  PV_DESC="Ramping UP range",                         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-96:FB_RampUPRANGE")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2062 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "FB_RampUPRANGE")
}

#<<<--- add_analog("FB_RampDNTIME","INT",                    PV_DESC="Ramping DOWN time",                        PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-EH-96:FB_RampDNTIME")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2066 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "FB_RampDNTIME")
}

#<<<--- add_analog("FB_RampDNRANGE","REAL",                  PV_DESC="Ramping DOWN range",                       PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-96:FB_RampDNRANGE")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2068 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "FB_RampDNRANGE")
}



#Feedbacks
#<<<--- add_analog("FB_ForcePower",            "REAL" ,                             PV_DESC="FB Force Heater Power (AI)",        PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-96:FB_ForcePower")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2072 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Force Heater Power (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "FB_ForcePower")
}

#<<<--- add_analog("FB_Setpoint",              "REAL" ,                             PV_DESC="FB Setpoint from HMI (SP)",         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-96:FB_Setpoint")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2076 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "FB_Setpoint")
}

#<<<--- add_analog("FB_Manipulated",           "REAL" ,                             PV_DESC="FB Manipulated Value (AO)",         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-96:FB_Manipulated")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2080 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Manipulated Value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "FB_Manipulated")
}

#<<<--- add_analog("FB_Step",                  "REAL" ,                             PV_DESC="FB Step Value for Heating/Cooling", PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-96:FB_Step")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2084 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Step Value for Heating/Cooling")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "FB_Step")
}

#<<<--- add_analog("FB_RampTIME",              "INT" ,                              PV_DESC="Ramping Time",                      PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-EH-96:FB_RampTIME")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2088 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "FB_RampTIME")
}

#<<<--- add_analog("FB_RampRANGE",             "REAL" ,                             PV_DESC="Ramping Range",                     PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-96:FB_RampRANGE")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2090 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "FB_RampRANGE")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-EH-96 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Auto",                PV_DESC="CMD: Auto Mode")
record(bo, "Spk-000CDL:Cryo-EH-96:Cmd_Auto")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 377, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "Cmd_Auto")
}

#<<<--- add_digital("Cmd_Manual",              PV_DESC="CMD: Manual Mode")
record(bo, "Spk-000CDL:Cryo-EH-96:Cmd_Manual")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 377, 0x0002, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "Cmd_Manual")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-EH-96:Cmd_Force")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 377, 0x0004, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "Cmd_Force")
}


#<<<--- add_digital("Cmd_RampON",              PV_DESC="Turn Ramping ON")
record(bo, "Spk-000CDL:Cryo-EH-96:Cmd_RampON")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 377, 0x0008, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Turn Ramping ON")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "Cmd_RampON")
}

#<<<--- add_digital("Cmd_RampOFF",             PV_DESC="Turn Ramping OFF")
record(bo, "Spk-000CDL:Cryo-EH-96:Cmd_RampOFF")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 377, 0x0010, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Turn Ramping OFF")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "Cmd_RampOFF")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-EH-96:Cmd_AckAlarm")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 377, 0x0020, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "Cmd_AckAlarm")
}


#<<<--- add_digital("Cmd_ForceValInp",         PV_DESC="CMD: Force Heater PLC Input")
record(bo, "Spk-000CDL:Cryo-EH-96:Cmd_ForceValInp")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 377, 0x0040, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Heater PLC Input")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "Cmd_ForceValInp")
}

#<<<--- add_digital("Cmd_ForceValOut",         PV_DESC="CMD: Force Heater PLC Output")
record(bo, "Spk-000CDL:Cryo-EH-96:Cmd_ForceValOut")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 377, 0x0080, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Heater PLC Output")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "Cmd_ForceValOut")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-EH-96:Cmd_ForceUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 377, 0x0100, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-EH-96:Cmd_DevLock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 377, 0x0200, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "Cmd_DevLock")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-EH-96:Cmd_DevUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 377, 0x0400, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "Cmd_DevUnlock")
}



############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-EH-96 EPICS -> PLC parameters ##########
##########

#Setpoint and Manipulated value from HMI
#<<<--- add_analog("P_ForcePower",             "REAL" ,                             PV_DESC="Force heater power (AI)",           PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-96:P_ForcePower")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 378, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force heater power (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "P_ForcePower")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Setpoint",               "REAL" ,                             PV_DESC="Setpoint from HMI (SP)",            PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-96:P_Setpoint")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 380, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "P_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Manipulated",            "REAL" ,                             PV_DESC="Manipulated value (AO)",            PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-96:P_Manipulated")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 382, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "P_Manipulated")
	info(autosaveFields_pass0, "VAL")
}


#Step value when pressing Cmd_Open1Step or Cmd_Close1Step
#<<<--- add_analog("P_Step",                   "REAL" ,                             PV_DESC="Step value for Heating/Cooling",    PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-96:P_Step")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 384, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Step value for Heating/Cooling")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "P_Step")
	info(autosaveFields_pass0, "VAL")
}


#Ramping speed from the HMI
#<<<--- add_analog("P_RampUPTIME","INT",                     PV_DESC="Ramping UP Time",                          PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-EH-96:P_RampUPTIME")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 386, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Time")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(EGU,  "sec")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "P_RampUPTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampUPRANGE","REAL",                   PV_DESC="Ramping UP Range",                         PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-96:P_RampUPRANGE")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 387, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "P_RampUPRANGE")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNTIME","INT",                     PV_DESC="Ramping DOWN Time",                        PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-EH-96:P_RampDNTIME")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 389, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Time")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(EGU,  "sec")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "P_RampDNTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNRANGE","REAL",                   PV_DESC="Ramping DOWN Range",                       PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-96:P_RampDNRANGE")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 390, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "P_RampDNRANGE")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                              PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-EH-96:P_Faceplate_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 392, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                              PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-EH-96:P_BlockIcon_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 394, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-EH-96:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-EH-96:P_ForcePower")
	field(LNK2, "Spk-000CDL:Cryo-EH-96:P_Setpoint")
	field(LNK3, "Spk-000CDL:Cryo-EH-96:P_Manipulated")
	field(LNK4, "Spk-000CDL:Cryo-EH-96:P_Step")
	field(LNK5, "Spk-000CDL:Cryo-EH-96:P_RampUPTIME")
	field(LNK6, "Spk-000CDL:Cryo-EH-96:P_RampUPRANGE")
	field(LNK7, "Spk-000CDL:Cryo-EH-96:P_RampDNTIME")
	field(LNK8, "Spk-000CDL:Cryo-EH-96:P_RampDNRANGE")
	field(LNK9, "Spk-000CDL:Cryo-EH-96:P_Faceplate_LockID")
	field(LNKA, "Spk-000CDL:Cryo-EH-96:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-HV-70 ##########
##########
########## CommandWordsLength: 1
########## ParameterWordsLength: 4
########## StatusWordsLength: 8
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                          HV - Hand valve with position feedback
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.0, 1.1, 1.2             ######################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-HV-70 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun",PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-HV-70:OpMode_FreeRun")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2094 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "OpMode_FreeRun")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced", PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-HV-70:OpMode_Forced")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2094 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "OpMode_Forced")
}


#Valve physical states
#<<<--- add_digital("Opened",                  PV_DESC="Valve Opened",          PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-HV-70:Opened")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2094 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Opened")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "Opened")
}

#<<<--- add_digital("Closed",                  PV_DESC="Valve Closed",          PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-HV-70:Closed")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2094 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Closed")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "Closed")
}

#<<<--- add_analog("ValveColor",               "INT",                           PV_DESC="BlockIcon valve color")
record(ai, "Spk-000CDL:Cryo-HV-70:ValveColor")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2096 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "BlockIcon valve color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "ValveColor")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",   PV_ONAM="InhibitManual",  PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-HV-70:Inhibit_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2098 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "Inhibit_Manual")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",    PV_ONAM="InhibitForce",   PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-HV-70:Inhibit_Force")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2098 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "Inhibit_Force")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",       PV_ONAM="InhibitLocking", PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-HV-70:Inhibit_Lock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2098 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "Inhibit_Lock")
}



#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button",PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-HV-70:EnableFreeRunBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2098 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "EnableFreeRunBtn")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",  PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-HV-70:EnableManualBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2098 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "EnableManualBtn")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",   PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-HV-70:EnableForcedBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2098 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "EnableForcedBtn")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",         PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-HV-70:DevLocked")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2098 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "DevLocked")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                          PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-HV-70:Faceplate_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2100 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "Faceplate_LockID")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                          PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-HV-70:BlockIcon_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2104 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "BlockIcon_LockID")
}


#Alarm signals
#<<<--- add_major_alarm("LatchAlarm",          "Latching of alarms",            PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-HV-70:LatchAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2108 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Latching of alarms")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "LatchAlarm")
}

#<<<--- add_major_alarm("GroupAlarm",          "Group Alarm",                   PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-HV-70:GroupAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2108 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Group Alarm")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "GroupAlarm")
}

#<<<--- add_major_alarm("IO_Error",            "IO Error",                      PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-HV-70:IO_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2108 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "IO_Error")
}

#<<<--- add_major_alarm("Input_Module_Error",  "HW Input Module Error",         PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-HV-70:Input_Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2108 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Input Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "Input_Module_Error")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-HV-70 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Spk-000CDL:Cryo-HV-70:Cmd_FreeRun")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 396, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "Cmd_FreeRun")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-HV-70:Cmd_Force")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 396, 0x0002, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "Cmd_Force")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Spk-000CDL:Cryo-HV-70:Cmd_ForceVal")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 396, 0x0004, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "Cmd_ForceVal")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-HV-70:Cmd_AckAlarm")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 396, 0x0008, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "Cmd_AckAlarm")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-HV-70:Cmd_ForceUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 396, 0x0010, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-HV-70:Cmd_DevLock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 396, 0x0020, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "Cmd_DevLock")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-HV-70:Cmd_DevUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 396, 0x0040, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "Cmd_DevUnlock")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-HV-70 EPICS -> PLC parameters ##########
##########

#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                          PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-HV-70:P_Faceplate_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 397, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                          PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-HV-70:P_BlockIcon_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 399, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-HV-70:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-HV-70:P_Faceplate_LockID")
	field(LNK2, "Spk-000CDL:Cryo-HV-70:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-HV-73 ##########
##########
########## CommandWordsLength: 1
########## ParameterWordsLength: 4
########## StatusWordsLength: 8
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                          HV - Hand valve with position feedback
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.0, 1.1, 1.2             ######################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-HV-73 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun",PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-HV-73:OpMode_FreeRun")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2110 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "OpMode_FreeRun")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced", PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-HV-73:OpMode_Forced")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2110 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "OpMode_Forced")
}


#Valve physical states
#<<<--- add_digital("Opened",                  PV_DESC="Valve Opened",          PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-HV-73:Opened")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2110 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Opened")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "Opened")
}

#<<<--- add_digital("Closed",                  PV_DESC="Valve Closed",          PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-HV-73:Closed")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2110 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Closed")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "Closed")
}

#<<<--- add_analog("ValveColor",               "INT",                           PV_DESC="BlockIcon valve color")
record(ai, "Spk-000CDL:Cryo-HV-73:ValveColor")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2112 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "BlockIcon valve color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "ValveColor")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",   PV_ONAM="InhibitManual",  PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-HV-73:Inhibit_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2114 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "Inhibit_Manual")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",    PV_ONAM="InhibitForce",   PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-HV-73:Inhibit_Force")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2114 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "Inhibit_Force")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",       PV_ONAM="InhibitLocking", PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-HV-73:Inhibit_Lock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2114 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "Inhibit_Lock")
}



#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button",PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-HV-73:EnableFreeRunBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2114 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "EnableFreeRunBtn")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",  PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-HV-73:EnableManualBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2114 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "EnableManualBtn")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",   PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-HV-73:EnableForcedBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2114 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "EnableForcedBtn")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",         PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-HV-73:DevLocked")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2114 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "DevLocked")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                          PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-HV-73:Faceplate_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2116 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "Faceplate_LockID")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                          PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-HV-73:BlockIcon_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2120 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "BlockIcon_LockID")
}


#Alarm signals
#<<<--- add_major_alarm("LatchAlarm",          "Latching of alarms",            PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-HV-73:LatchAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2124 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Latching of alarms")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "LatchAlarm")
}

#<<<--- add_major_alarm("GroupAlarm",          "Group Alarm",                   PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-HV-73:GroupAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2124 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Group Alarm")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "GroupAlarm")
}

#<<<--- add_major_alarm("IO_Error",            "IO Error",                      PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-HV-73:IO_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2124 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "IO_Error")
}

#<<<--- add_major_alarm("Input_Module_Error",  "HW Input Module Error",         PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-HV-73:Input_Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2124 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Input Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "Input_Module_Error")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-HV-73 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Spk-000CDL:Cryo-HV-73:Cmd_FreeRun")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 401, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "Cmd_FreeRun")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-HV-73:Cmd_Force")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 401, 0x0002, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "Cmd_Force")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Spk-000CDL:Cryo-HV-73:Cmd_ForceVal")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 401, 0x0004, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "Cmd_ForceVal")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-HV-73:Cmd_AckAlarm")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 401, 0x0008, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "Cmd_AckAlarm")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-HV-73:Cmd_ForceUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 401, 0x0010, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-HV-73:Cmd_DevLock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 401, 0x0020, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "Cmd_DevLock")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-HV-73:Cmd_DevUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 401, 0x0040, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "Cmd_DevUnlock")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-HV-73 EPICS -> PLC parameters ##########
##########

#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                          PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-HV-73:P_Faceplate_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 402, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                          PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-HV-73:P_BlockIcon_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 404, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-HV-73:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-HV-73:P_Faceplate_LockID")
	field(LNK2, "Spk-000CDL:Cryo-HV-73:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-TT-91 ##########
##########
########## CommandWordsLength: 1
########## ParameterWordsLength: 14
########## StatusWordsLength: 25
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                      TT - Temperature Transmitter in K with Lakeshore                    ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.4             ################################
#Author:  Miklos Boros
#Date:    16-12-2019
#Version: v1.4
#Changes:
#1. Modified TT for direct Temp measurement with Lakeshore
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################         Version: 1.1             ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    12-06-2018
#Version: v1.1
#Changes:
#1. Modified Alarm Signal section to be compatible with new format.
############################ Version: 1.0             ########################################
#Author:  Miklos Boros
#Date:    25-01-2018
#Version: v1.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-TT-91 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-91:OpMode_FreeRun")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2126 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "OpMode_FreeRun")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-91:OpMode_Forced")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2126 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "OpMode_Forced")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",              PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-TT-91:Inhibit_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2126 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "Inhibit_Manual")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",               PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-TT-91:Inhibit_Force")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2126 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "Inhibit_Force")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",             PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-TT-91:Inhibit_Lock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2126 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "Inhibit_Lock")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Spk-000CDL:Cryo-TT-91:TransmitterColor")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2128 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "TransmitterColor")
}

#<<<--- add_analog("MinTemp",                  "REAL",                           PV_DESC="Minimum possible temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-91:MinTemp")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2130 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Minimum possible temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "MinTemp")
}

#<<<--- add_analog("MaxTemp",                  "REAL",                           PV_DESC="Maximum possible temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-91:MaxTemp")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2134 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum possible temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "MaxTemp")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-91:EnableFreeRunBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2138 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "EnableFreeRunBtn")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-91:EnableForcedBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2138 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "EnableForcedBtn")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-91:EnableManualBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2138 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "EnableManualBtn")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",  ARCHIVE=True,                           PV_DESC="Temperature Value",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-91:MeasValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2140 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Temperature Value")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "MeasValue")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-91:DevLocked")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2144 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "DevLocked")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-TT-91:Faceplate_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2146 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "Faceplate_LockID")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-TT-91:BlockIcon_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2150 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "BlockIcon_LockID")
}


#<<<--- add_digital("LatchAlarm",                            PV_DESC="Latching of the alarms")
record(bi, "Spk-000CDL:Cryo-TT-91:LatchAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2154 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "LatchAlarm")
}

#<<<--- add_digital("GroupAlarm",                            PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-TT-91:GroupAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2154 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "GroupAlarm")
}


#Alarm signals
#<<<--- add_major_alarm("Underrange",          "Temperature Underrange",         PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-91:Underrange")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2154 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "Underrange")
}

#<<<--- add_major_alarm("Overrange",           "Temperature Overrange",          PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-91:Overrange")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2154 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "Overrange")
}

#<<<--- add_major_alarm("HIHI",                "Temperature HIHI",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-91:HIHI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2154 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "HIHI")
}

#<<<--- add_minor_alarm("HI",                  "Temperature HI",                 PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-91:HI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2154 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "HI")
}

#<<<--- add_minor_alarm("LO",                  "Temperature LO",                 PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-91:LO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2154 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "LO")
}

#<<<--- add_major_alarm("LOLO",                "Temperature LOLO",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-91:LOLO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2154 T=UINT16 B=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "LOLO")
}

#<<<--- add_major_alarm("Param_Error",         "Parameter_Error",                PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-91:Param_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2154 T=UINT16 B=8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Parameter_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "Param_Error")
}

#<<<--- add_major_alarm("PN_Module_Error",     "LakeShore ProfiNet Error",       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-91:PN_Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2154 T=UINT16 B=9")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "LakeShore ProfiNet Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "PN_Module_Error")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-91:FB_ForceValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2156 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Force Temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "FB_ForceValue")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",        PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-91:FB_Limit_HIHI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2160 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "FB_Limit_HIHI")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-91:FB_Limit_HI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2164 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "FB_Limit_HI")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-91:FB_Limit_LO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2168 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "FB_Limit_LO")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",        PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-91:FB_Limit_LOLO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2172 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "FB_Limit_LOLO")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-TT-91 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Spk-000CDL:Cryo-TT-91:Cmd_FreeRun")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 406, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "Cmd_FreeRun")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-TT-91:Cmd_Force")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 406, 0x0002, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "Cmd_Force")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Spk-000CDL:Cryo-TT-91:Cmd_ForceVal")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 406, 0x0004, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "Cmd_ForceVal")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-TT-91:Cmd_AckAlarm")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 406, 0x0008, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "Cmd_AckAlarm")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-TT-91:Cmd_ForceUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 406, 0x0010, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-TT-91:Cmd_DevLock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 406, 0x0020, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "Cmd_DevLock")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-TT-91:Cmd_DevUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 406, 0x0040, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "Cmd_DevUnlock")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-TT-91 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",                 PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-91:P_Limit_HIHI")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 407, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HIHI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                   PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-91:P_Limit_HI")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 409, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                   PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-91:P_Limit_LO")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 411, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",                 PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-91:P_Limit_LOLO")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 413, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LOLO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force Temperature",          PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-91:P_ForceValue")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 415, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-TT-91:P_Faceplate_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 417, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-TT-91:P_BlockIcon_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 419, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-TT-91:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-TT-91:P_Limit_HIHI")
	field(LNK2, "Spk-000CDL:Cryo-TT-91:P_Limit_HI")
	field(LNK3, "Spk-000CDL:Cryo-TT-91:P_Limit_LO")
	field(LNK4, "Spk-000CDL:Cryo-TT-91:P_Limit_LOLO")
	field(LNK5, "Spk-000CDL:Cryo-TT-91:P_ForceValue")
	field(LNK6, "Spk-000CDL:Cryo-TT-91:P_Faceplate_LockID")
	field(LNK7, "Spk-000CDL:Cryo-TT-91:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-TT-92 ##########
##########
########## CommandWordsLength: 1
########## ParameterWordsLength: 14
########## StatusWordsLength: 25
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                      TT - Temperature Transmitter in K with Lakeshore                    ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.4             ################################
#Author:  Miklos Boros
#Date:    16-12-2019
#Version: v1.4
#Changes:
#1. Modified TT for direct Temp measurement with Lakeshore
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################         Version: 1.1             ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    12-06-2018
#Version: v1.1
#Changes:
#1. Modified Alarm Signal section to be compatible with new format.
############################ Version: 1.0             ########################################
#Author:  Miklos Boros
#Date:    25-01-2018
#Version: v1.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-TT-92 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-92:OpMode_FreeRun")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2176 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "OpMode_FreeRun")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-92:OpMode_Forced")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2176 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "OpMode_Forced")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",              PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-TT-92:Inhibit_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2176 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "Inhibit_Manual")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",               PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-TT-92:Inhibit_Force")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2176 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "Inhibit_Force")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",             PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-TT-92:Inhibit_Lock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2176 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "Inhibit_Lock")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Spk-000CDL:Cryo-TT-92:TransmitterColor")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2178 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "TransmitterColor")
}

#<<<--- add_analog("MinTemp",                  "REAL",                           PV_DESC="Minimum possible temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-92:MinTemp")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2180 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Minimum possible temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "MinTemp")
}

#<<<--- add_analog("MaxTemp",                  "REAL",                           PV_DESC="Maximum possible temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-92:MaxTemp")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2184 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum possible temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "MaxTemp")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-92:EnableFreeRunBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2188 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "EnableFreeRunBtn")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-92:EnableForcedBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2188 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "EnableForcedBtn")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-92:EnableManualBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2188 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "EnableManualBtn")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",  ARCHIVE=True,                           PV_DESC="Temperature Value",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-92:MeasValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2190 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Temperature Value")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "MeasValue")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-92:DevLocked")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2194 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "DevLocked")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-TT-92:Faceplate_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2196 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "Faceplate_LockID")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-TT-92:BlockIcon_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2200 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "BlockIcon_LockID")
}


#<<<--- add_digital("LatchAlarm",                            PV_DESC="Latching of the alarms")
record(bi, "Spk-000CDL:Cryo-TT-92:LatchAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2204 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "LatchAlarm")
}

#<<<--- add_digital("GroupAlarm",                            PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-TT-92:GroupAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2204 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "GroupAlarm")
}


#Alarm signals
#<<<--- add_major_alarm("Underrange",          "Temperature Underrange",         PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-92:Underrange")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2204 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "Underrange")
}

#<<<--- add_major_alarm("Overrange",           "Temperature Overrange",          PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-92:Overrange")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2204 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "Overrange")
}

#<<<--- add_major_alarm("HIHI",                "Temperature HIHI",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-92:HIHI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2204 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "HIHI")
}

#<<<--- add_minor_alarm("HI",                  "Temperature HI",                 PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-92:HI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2204 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "HI")
}

#<<<--- add_minor_alarm("LO",                  "Temperature LO",                 PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-92:LO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2204 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "LO")
}

#<<<--- add_major_alarm("LOLO",                "Temperature LOLO",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-92:LOLO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2204 T=UINT16 B=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "LOLO")
}

#<<<--- add_major_alarm("Param_Error",         "Parameter_Error",                PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-92:Param_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2204 T=UINT16 B=8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Parameter_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "Param_Error")
}

#<<<--- add_major_alarm("PN_Module_Error",     "LakeShore ProfiNet Error",       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-92:PN_Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2204 T=UINT16 B=9")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "LakeShore ProfiNet Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "PN_Module_Error")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-92:FB_ForceValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2206 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Force Temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "FB_ForceValue")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",        PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-92:FB_Limit_HIHI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2210 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "FB_Limit_HIHI")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-92:FB_Limit_HI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2214 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "FB_Limit_HI")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-92:FB_Limit_LO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2218 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "FB_Limit_LO")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",        PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-92:FB_Limit_LOLO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2222 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "FB_Limit_LOLO")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-TT-92 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Spk-000CDL:Cryo-TT-92:Cmd_FreeRun")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 421, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "Cmd_FreeRun")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-TT-92:Cmd_Force")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 421, 0x0002, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "Cmd_Force")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Spk-000CDL:Cryo-TT-92:Cmd_ForceVal")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 421, 0x0004, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "Cmd_ForceVal")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-TT-92:Cmd_AckAlarm")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 421, 0x0008, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "Cmd_AckAlarm")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-TT-92:Cmd_ForceUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 421, 0x0010, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-TT-92:Cmd_DevLock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 421, 0x0020, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "Cmd_DevLock")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-TT-92:Cmd_DevUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 421, 0x0040, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "Cmd_DevUnlock")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-TT-92 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",                 PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-92:P_Limit_HIHI")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 422, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HIHI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                   PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-92:P_Limit_HI")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 424, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                   PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-92:P_Limit_LO")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 426, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",                 PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-92:P_Limit_LOLO")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 428, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LOLO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force Temperature",          PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-92:P_ForceValue")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 430, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-TT-92:P_Faceplate_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 432, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-TT-92:P_BlockIcon_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 434, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-TT-92:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-TT-92:P_Limit_HIHI")
	field(LNK2, "Spk-000CDL:Cryo-TT-92:P_Limit_HI")
	field(LNK3, "Spk-000CDL:Cryo-TT-92:P_Limit_LO")
	field(LNK4, "Spk-000CDL:Cryo-TT-92:P_Limit_LOLO")
	field(LNK5, "Spk-000CDL:Cryo-TT-92:P_ForceValue")
	field(LNK6, "Spk-000CDL:Cryo-TT-92:P_Faceplate_LockID")
	field(LNK7, "Spk-000CDL:Cryo-TT-92:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-TT-93 ##########
##########
########## CommandWordsLength: 1
########## ParameterWordsLength: 14
########## StatusWordsLength: 25
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                      TT - Temperature Transmitter in K with Lakeshore                    ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.4             ################################
#Author:  Miklos Boros
#Date:    16-12-2019
#Version: v1.4
#Changes:
#1. Modified TT for direct Temp measurement with Lakeshore
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################         Version: 1.1             ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    12-06-2018
#Version: v1.1
#Changes:
#1. Modified Alarm Signal section to be compatible with new format.
############################ Version: 1.0             ########################################
#Author:  Miklos Boros
#Date:    25-01-2018
#Version: v1.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-TT-93 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-93:OpMode_FreeRun")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2226 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "OpMode_FreeRun")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-93:OpMode_Forced")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2226 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "OpMode_Forced")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",              PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-TT-93:Inhibit_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2226 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "Inhibit_Manual")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",               PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-TT-93:Inhibit_Force")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2226 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "Inhibit_Force")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",             PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-TT-93:Inhibit_Lock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2226 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "Inhibit_Lock")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Spk-000CDL:Cryo-TT-93:TransmitterColor")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2228 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "TransmitterColor")
}

#<<<--- add_analog("MinTemp",                  "REAL",                           PV_DESC="Minimum possible temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-93:MinTemp")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2230 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Minimum possible temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "MinTemp")
}

#<<<--- add_analog("MaxTemp",                  "REAL",                           PV_DESC="Maximum possible temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-93:MaxTemp")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2234 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum possible temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "MaxTemp")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-93:EnableFreeRunBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2238 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "EnableFreeRunBtn")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-93:EnableForcedBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2238 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "EnableForcedBtn")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-93:EnableManualBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2238 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "EnableManualBtn")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",  ARCHIVE=True,                           PV_DESC="Temperature Value",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-93:MeasValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2240 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Temperature Value")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "MeasValue")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-93:DevLocked")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2244 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "DevLocked")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-TT-93:Faceplate_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2246 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "Faceplate_LockID")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-TT-93:BlockIcon_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2250 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "BlockIcon_LockID")
}


#<<<--- add_digital("LatchAlarm",                            PV_DESC="Latching of the alarms")
record(bi, "Spk-000CDL:Cryo-TT-93:LatchAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2254 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "LatchAlarm")
}

#<<<--- add_digital("GroupAlarm",                            PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-TT-93:GroupAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2254 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "GroupAlarm")
}


#Alarm signals
#<<<--- add_major_alarm("Underrange",          "Temperature Underrange",         PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-93:Underrange")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2254 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "Underrange")
}

#<<<--- add_major_alarm("Overrange",           "Temperature Overrange",          PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-93:Overrange")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2254 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "Overrange")
}

#<<<--- add_major_alarm("HIHI",                "Temperature HIHI",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-93:HIHI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2254 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "HIHI")
}

#<<<--- add_minor_alarm("HI",                  "Temperature HI",                 PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-93:HI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2254 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "HI")
}

#<<<--- add_minor_alarm("LO",                  "Temperature LO",                 PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-93:LO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2254 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "LO")
}

#<<<--- add_major_alarm("LOLO",                "Temperature LOLO",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-93:LOLO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2254 T=UINT16 B=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "LOLO")
}

#<<<--- add_major_alarm("Param_Error",         "Parameter_Error",                PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-93:Param_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2254 T=UINT16 B=8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Parameter_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "Param_Error")
}

#<<<--- add_major_alarm("PN_Module_Error",     "LakeShore ProfiNet Error",       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-93:PN_Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2254 T=UINT16 B=9")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "LakeShore ProfiNet Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "PN_Module_Error")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-93:FB_ForceValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2256 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Force Temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "FB_ForceValue")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",        PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-93:FB_Limit_HIHI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2260 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "FB_Limit_HIHI")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-93:FB_Limit_HI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2264 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "FB_Limit_HI")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-93:FB_Limit_LO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2268 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "FB_Limit_LO")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",        PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-93:FB_Limit_LOLO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2272 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "FB_Limit_LOLO")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-TT-93 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Spk-000CDL:Cryo-TT-93:Cmd_FreeRun")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 436, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "Cmd_FreeRun")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-TT-93:Cmd_Force")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 436, 0x0002, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "Cmd_Force")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Spk-000CDL:Cryo-TT-93:Cmd_ForceVal")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 436, 0x0004, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "Cmd_ForceVal")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-TT-93:Cmd_AckAlarm")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 436, 0x0008, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "Cmd_AckAlarm")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-TT-93:Cmd_ForceUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 436, 0x0010, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-TT-93:Cmd_DevLock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 436, 0x0020, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "Cmd_DevLock")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-TT-93:Cmd_DevUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 436, 0x0040, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "Cmd_DevUnlock")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-TT-93 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",                 PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-93:P_Limit_HIHI")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 437, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HIHI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                   PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-93:P_Limit_HI")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 439, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                   PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-93:P_Limit_LO")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 441, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",                 PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-93:P_Limit_LOLO")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 443, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LOLO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force Temperature",          PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-93:P_ForceValue")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 445, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-TT-93:P_Faceplate_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 447, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-TT-93:P_BlockIcon_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 449, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-TT-93:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-TT-93:P_Limit_HIHI")
	field(LNK2, "Spk-000CDL:Cryo-TT-93:P_Limit_HI")
	field(LNK3, "Spk-000CDL:Cryo-TT-93:P_Limit_LO")
	field(LNK4, "Spk-000CDL:Cryo-TT-93:P_Limit_LOLO")
	field(LNK5, "Spk-000CDL:Cryo-TT-93:P_ForceValue")
	field(LNK6, "Spk-000CDL:Cryo-TT-93:P_Faceplate_LockID")
	field(LNK7, "Spk-000CDL:Cryo-TT-93:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-TT-94 ##########
##########
########## CommandWordsLength: 1
########## ParameterWordsLength: 14
########## StatusWordsLength: 25
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                      TT - Temperature Transmitter in K with Lakeshore                    ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.4             ################################
#Author:  Miklos Boros
#Date:    16-12-2019
#Version: v1.4
#Changes:
#1. Modified TT for direct Temp measurement with Lakeshore
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################         Version: 1.1             ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    12-06-2018
#Version: v1.1
#Changes:
#1. Modified Alarm Signal section to be compatible with new format.
############################ Version: 1.0             ########################################
#Author:  Miklos Boros
#Date:    25-01-2018
#Version: v1.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-TT-94 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-94:OpMode_FreeRun")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2276 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "OpMode_FreeRun")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-94:OpMode_Forced")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2276 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "OpMode_Forced")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",              PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-TT-94:Inhibit_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2276 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "Inhibit_Manual")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",               PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-TT-94:Inhibit_Force")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2276 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "Inhibit_Force")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",             PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-TT-94:Inhibit_Lock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2276 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "Inhibit_Lock")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Spk-000CDL:Cryo-TT-94:TransmitterColor")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2278 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "TransmitterColor")
}

#<<<--- add_analog("MinTemp",                  "REAL",                           PV_DESC="Minimum possible temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-94:MinTemp")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2280 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Minimum possible temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "MinTemp")
}

#<<<--- add_analog("MaxTemp",                  "REAL",                           PV_DESC="Maximum possible temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-94:MaxTemp")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2284 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum possible temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "MaxTemp")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-94:EnableFreeRunBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2288 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "EnableFreeRunBtn")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-94:EnableForcedBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2288 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "EnableForcedBtn")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-94:EnableManualBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2288 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "EnableManualBtn")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",  ARCHIVE=True,                           PV_DESC="Temperature Value",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-94:MeasValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2290 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Temperature Value")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "MeasValue")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-94:DevLocked")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2294 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "DevLocked")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-TT-94:Faceplate_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2296 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "Faceplate_LockID")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-TT-94:BlockIcon_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2300 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "BlockIcon_LockID")
}


#<<<--- add_digital("LatchAlarm",                            PV_DESC="Latching of the alarms")
record(bi, "Spk-000CDL:Cryo-TT-94:LatchAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2304 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "LatchAlarm")
}

#<<<--- add_digital("GroupAlarm",                            PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-TT-94:GroupAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2304 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "GroupAlarm")
}


#Alarm signals
#<<<--- add_major_alarm("Underrange",          "Temperature Underrange",         PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-94:Underrange")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2304 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "Underrange")
}

#<<<--- add_major_alarm("Overrange",           "Temperature Overrange",          PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-94:Overrange")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2304 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "Overrange")
}

#<<<--- add_major_alarm("HIHI",                "Temperature HIHI",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-94:HIHI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2304 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "HIHI")
}

#<<<--- add_minor_alarm("HI",                  "Temperature HI",                 PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-94:HI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2304 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "HI")
}

#<<<--- add_minor_alarm("LO",                  "Temperature LO",                 PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-94:LO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2304 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "LO")
}

#<<<--- add_major_alarm("LOLO",                "Temperature LOLO",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-94:LOLO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2304 T=UINT16 B=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "LOLO")
}

#<<<--- add_major_alarm("Param_Error",         "Parameter_Error",                PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-94:Param_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2304 T=UINT16 B=8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Parameter_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "Param_Error")
}

#<<<--- add_major_alarm("PN_Module_Error",     "LakeShore ProfiNet Error",       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-94:PN_Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2304 T=UINT16 B=9")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "LakeShore ProfiNet Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "PN_Module_Error")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-94:FB_ForceValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2306 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Force Temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "FB_ForceValue")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",        PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-94:FB_Limit_HIHI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2310 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "FB_Limit_HIHI")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-94:FB_Limit_HI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2314 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "FB_Limit_HI")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-94:FB_Limit_LO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2318 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "FB_Limit_LO")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",        PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-94:FB_Limit_LOLO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2322 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "FB_Limit_LOLO")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-TT-94 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Spk-000CDL:Cryo-TT-94:Cmd_FreeRun")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 451, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "Cmd_FreeRun")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-TT-94:Cmd_Force")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 451, 0x0002, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "Cmd_Force")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Spk-000CDL:Cryo-TT-94:Cmd_ForceVal")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 451, 0x0004, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "Cmd_ForceVal")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-TT-94:Cmd_AckAlarm")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 451, 0x0008, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "Cmd_AckAlarm")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-TT-94:Cmd_ForceUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 451, 0x0010, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-TT-94:Cmd_DevLock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 451, 0x0020, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "Cmd_DevLock")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-TT-94:Cmd_DevUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 451, 0x0040, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "Cmd_DevUnlock")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-TT-94 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",                 PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-94:P_Limit_HIHI")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 452, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HIHI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                   PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-94:P_Limit_HI")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 454, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                   PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-94:P_Limit_LO")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 456, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",                 PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-94:P_Limit_LOLO")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 458, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LOLO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force Temperature",          PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-94:P_ForceValue")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 460, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-TT-94:P_Faceplate_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 462, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-TT-94:P_BlockIcon_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 464, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-TT-94:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-TT-94:P_Limit_HIHI")
	field(LNK2, "Spk-000CDL:Cryo-TT-94:P_Limit_HI")
	field(LNK3, "Spk-000CDL:Cryo-TT-94:P_Limit_LO")
	field(LNK4, "Spk-000CDL:Cryo-TT-94:P_Limit_LOLO")
	field(LNK5, "Spk-000CDL:Cryo-TT-94:P_ForceValue")
	field(LNK6, "Spk-000CDL:Cryo-TT-94:P_Faceplate_LockID")
	field(LNK7, "Spk-000CDL:Cryo-TT-94:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-TT-95 ##########
##########
########## CommandWordsLength: 1
########## ParameterWordsLength: 14
########## StatusWordsLength: 25
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                      TT - Temperature Transmitter in K with Lakeshore                    ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.4             ################################
#Author:  Miklos Boros
#Date:    16-12-2019
#Version: v1.4
#Changes:
#1. Modified TT for direct Temp measurement with Lakeshore
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################         Version: 1.1             ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    12-06-2018
#Version: v1.1
#Changes:
#1. Modified Alarm Signal section to be compatible with new format.
############################ Version: 1.0             ########################################
#Author:  Miklos Boros
#Date:    25-01-2018
#Version: v1.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-TT-95 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-95:OpMode_FreeRun")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2326 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "OpMode_FreeRun")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-95:OpMode_Forced")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2326 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "OpMode_Forced")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",              PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-TT-95:Inhibit_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2326 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "Inhibit_Manual")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",               PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-TT-95:Inhibit_Force")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2326 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "Inhibit_Force")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",             PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-TT-95:Inhibit_Lock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2326 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "Inhibit_Lock")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Spk-000CDL:Cryo-TT-95:TransmitterColor")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2328 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "TransmitterColor")
}

#<<<--- add_analog("MinTemp",                  "REAL",                           PV_DESC="Minimum possible temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-95:MinTemp")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2330 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Minimum possible temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "MinTemp")
}

#<<<--- add_analog("MaxTemp",                  "REAL",                           PV_DESC="Maximum possible temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-95:MaxTemp")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2334 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum possible temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "MaxTemp")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-95:EnableFreeRunBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2338 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "EnableFreeRunBtn")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-95:EnableForcedBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2338 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "EnableForcedBtn")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-95:EnableManualBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2338 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "EnableManualBtn")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",  ARCHIVE=True,                           PV_DESC="Temperature Value",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-95:MeasValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2340 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Temperature Value")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "MeasValue")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-95:DevLocked")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2344 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "DevLocked")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-TT-95:Faceplate_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2346 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "Faceplate_LockID")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-TT-95:BlockIcon_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2350 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "BlockIcon_LockID")
}


#<<<--- add_digital("LatchAlarm",                            PV_DESC="Latching of the alarms")
record(bi, "Spk-000CDL:Cryo-TT-95:LatchAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2354 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "LatchAlarm")
}

#<<<--- add_digital("GroupAlarm",                            PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-TT-95:GroupAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2354 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "GroupAlarm")
}


#Alarm signals
#<<<--- add_major_alarm("Underrange",          "Temperature Underrange",         PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-95:Underrange")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2354 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "Underrange")
}

#<<<--- add_major_alarm("Overrange",           "Temperature Overrange",          PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-95:Overrange")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2354 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "Overrange")
}

#<<<--- add_major_alarm("HIHI",                "Temperature HIHI",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-95:HIHI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2354 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "HIHI")
}

#<<<--- add_minor_alarm("HI",                  "Temperature HI",                 PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-95:HI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2354 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "HI")
}

#<<<--- add_minor_alarm("LO",                  "Temperature LO",                 PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-95:LO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2354 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "LO")
}

#<<<--- add_major_alarm("LOLO",                "Temperature LOLO",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-95:LOLO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2354 T=UINT16 B=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "LOLO")
}

#<<<--- add_major_alarm("Param_Error",         "Parameter_Error",                PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-95:Param_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2354 T=UINT16 B=8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Parameter_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "Param_Error")
}

#<<<--- add_major_alarm("PN_Module_Error",     "LakeShore ProfiNet Error",       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-95:PN_Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2354 T=UINT16 B=9")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "LakeShore ProfiNet Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "PN_Module_Error")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-95:FB_ForceValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2356 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Force Temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "FB_ForceValue")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",        PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-95:FB_Limit_HIHI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2360 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "FB_Limit_HIHI")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-95:FB_Limit_HI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2364 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "FB_Limit_HI")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-95:FB_Limit_LO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2368 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "FB_Limit_LO")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",        PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-95:FB_Limit_LOLO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2372 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "FB_Limit_LOLO")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-TT-95 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Spk-000CDL:Cryo-TT-95:Cmd_FreeRun")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 466, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "Cmd_FreeRun")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-TT-95:Cmd_Force")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 466, 0x0002, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "Cmd_Force")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Spk-000CDL:Cryo-TT-95:Cmd_ForceVal")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 466, 0x0004, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "Cmd_ForceVal")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-TT-95:Cmd_AckAlarm")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 466, 0x0008, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "Cmd_AckAlarm")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-TT-95:Cmd_ForceUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 466, 0x0010, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-TT-95:Cmd_DevLock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 466, 0x0020, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "Cmd_DevLock")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-TT-95:Cmd_DevUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 466, 0x0040, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "Cmd_DevUnlock")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-TT-95 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",                 PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-95:P_Limit_HIHI")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 467, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HIHI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                   PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-95:P_Limit_HI")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 469, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                   PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-95:P_Limit_LO")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 471, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",                 PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-95:P_Limit_LOLO")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 473, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LOLO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force Temperature",          PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-95:P_ForceValue")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 475, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-TT-95:P_Faceplate_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 477, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-TT-95:P_BlockIcon_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 479, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-TT-95:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-TT-95:P_Limit_HIHI")
	field(LNK2, "Spk-000CDL:Cryo-TT-95:P_Limit_HI")
	field(LNK3, "Spk-000CDL:Cryo-TT-95:P_Limit_LO")
	field(LNK4, "Spk-000CDL:Cryo-TT-95:P_Limit_LOLO")
	field(LNK5, "Spk-000CDL:Cryo-TT-95:P_ForceValue")
	field(LNK6, "Spk-000CDL:Cryo-TT-95:P_Faceplate_LockID")
	field(LNK7, "Spk-000CDL:Cryo-TT-95:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-TT-96 ##########
##########
########## CommandWordsLength: 1
########## ParameterWordsLength: 14
########## StatusWordsLength: 25
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                      TT - Temperature Transmitter in K with Lakeshore                    ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.4             ################################
#Author:  Miklos Boros
#Date:    16-12-2019
#Version: v1.4
#Changes:
#1. Modified TT for direct Temp measurement with Lakeshore
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################         Version: 1.1             ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    12-06-2018
#Version: v1.1
#Changes:
#1. Modified Alarm Signal section to be compatible with new format.
############################ Version: 1.0             ########################################
#Author:  Miklos Boros
#Date:    25-01-2018
#Version: v1.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-TT-96 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-96:OpMode_FreeRun")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2376 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "OpMode_FreeRun")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-96:OpMode_Forced")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2376 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "OpMode_Forced")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",              PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-TT-96:Inhibit_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2376 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "Inhibit_Manual")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",               PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-TT-96:Inhibit_Force")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2376 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "Inhibit_Force")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",             PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-TT-96:Inhibit_Lock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2376 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "Inhibit_Lock")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Spk-000CDL:Cryo-TT-96:TransmitterColor")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2378 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "TransmitterColor")
}

#<<<--- add_analog("MinTemp",                  "REAL",                           PV_DESC="Minimum possible temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-96:MinTemp")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2380 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Minimum possible temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "MinTemp")
}

#<<<--- add_analog("MaxTemp",                  "REAL",                           PV_DESC="Maximum possible temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-96:MaxTemp")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2384 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum possible temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "MaxTemp")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-96:EnableFreeRunBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2388 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "EnableFreeRunBtn")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-96:EnableForcedBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2388 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "EnableForcedBtn")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-96:EnableManualBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2388 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "EnableManualBtn")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",  ARCHIVE=True,                           PV_DESC="Temperature Value",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-96:MeasValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2390 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Temperature Value")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "MeasValue")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-96:DevLocked")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2394 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "DevLocked")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-TT-96:Faceplate_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2396 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "Faceplate_LockID")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-TT-96:BlockIcon_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2400 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "BlockIcon_LockID")
}


#<<<--- add_digital("LatchAlarm",                            PV_DESC="Latching of the alarms")
record(bi, "Spk-000CDL:Cryo-TT-96:LatchAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2404 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "LatchAlarm")
}

#<<<--- add_digital("GroupAlarm",                            PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-TT-96:GroupAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2404 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "GroupAlarm")
}


#Alarm signals
#<<<--- add_major_alarm("Underrange",          "Temperature Underrange",         PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-96:Underrange")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2404 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "Underrange")
}

#<<<--- add_major_alarm("Overrange",           "Temperature Overrange",          PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-96:Overrange")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2404 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "Overrange")
}

#<<<--- add_major_alarm("HIHI",                "Temperature HIHI",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-96:HIHI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2404 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "HIHI")
}

#<<<--- add_minor_alarm("HI",                  "Temperature HI",                 PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-96:HI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2404 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "HI")
}

#<<<--- add_minor_alarm("LO",                  "Temperature LO",                 PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-96:LO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2404 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "LO")
}

#<<<--- add_major_alarm("LOLO",                "Temperature LOLO",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-96:LOLO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2404 T=UINT16 B=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "LOLO")
}

#<<<--- add_major_alarm("Param_Error",         "Parameter_Error",                PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-96:Param_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2404 T=UINT16 B=8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Parameter_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "Param_Error")
}

#<<<--- add_major_alarm("PN_Module_Error",     "LakeShore ProfiNet Error",       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-96:PN_Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2404 T=UINT16 B=9")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "LakeShore ProfiNet Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "PN_Module_Error")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-96:FB_ForceValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2406 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Force Temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "FB_ForceValue")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",        PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-96:FB_Limit_HIHI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2410 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "FB_Limit_HIHI")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-96:FB_Limit_HI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2414 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "FB_Limit_HI")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-96:FB_Limit_LO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2418 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "FB_Limit_LO")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",        PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-96:FB_Limit_LOLO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2422 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "FB_Limit_LOLO")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-TT-96 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Spk-000CDL:Cryo-TT-96:Cmd_FreeRun")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 481, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "Cmd_FreeRun")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-TT-96:Cmd_Force")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 481, 0x0002, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "Cmd_Force")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Spk-000CDL:Cryo-TT-96:Cmd_ForceVal")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 481, 0x0004, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "Cmd_ForceVal")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-TT-96:Cmd_AckAlarm")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 481, 0x0008, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "Cmd_AckAlarm")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-TT-96:Cmd_ForceUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 481, 0x0010, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-TT-96:Cmd_DevLock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 481, 0x0020, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "Cmd_DevLock")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-TT-96:Cmd_DevUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 481, 0x0040, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "Cmd_DevUnlock")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-TT-96 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",                 PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-96:P_Limit_HIHI")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 482, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HIHI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                   PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-96:P_Limit_HI")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 484, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                   PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-96:P_Limit_LO")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 486, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",                 PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-96:P_Limit_LOLO")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 488, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LOLO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force Temperature",          PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-96:P_ForceValue")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 490, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-TT-96:P_Faceplate_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 492, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-TT-96:P_BlockIcon_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 494, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-TT-96:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-TT-96:P_Limit_HIHI")
	field(LNK2, "Spk-000CDL:Cryo-TT-96:P_Limit_HI")
	field(LNK3, "Spk-000CDL:Cryo-TT-96:P_Limit_LO")
	field(LNK4, "Spk-000CDL:Cryo-TT-96:P_Limit_LOLO")
	field(LNK5, "Spk-000CDL:Cryo-TT-96:P_ForceValue")
	field(LNK6, "Spk-000CDL:Cryo-TT-96:P_Faceplate_LockID")
	field(LNK7, "Spk-000CDL:Cryo-TT-96:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-TT-97 ##########
##########
########## CommandWordsLength: 1
########## ParameterWordsLength: 14
########## StatusWordsLength: 25
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                      TT - Temperature Transmitter in K with Lakeshore                    ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.4             ################################
#Author:  Miklos Boros
#Date:    16-12-2019
#Version: v1.4
#Changes:
#1. Modified TT for direct Temp measurement with Lakeshore
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################         Version: 1.1             ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    12-06-2018
#Version: v1.1
#Changes:
#1. Modified Alarm Signal section to be compatible with new format.
############################ Version: 1.0             ########################################
#Author:  Miklos Boros
#Date:    25-01-2018
#Version: v1.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-TT-97 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-97:OpMode_FreeRun")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2426 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "OpMode_FreeRun")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-97:OpMode_Forced")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2426 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "OpMode_Forced")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",              PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-TT-97:Inhibit_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2426 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "Inhibit_Manual")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",               PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-TT-97:Inhibit_Force")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2426 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "Inhibit_Force")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",             PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-TT-97:Inhibit_Lock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2426 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "Inhibit_Lock")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Spk-000CDL:Cryo-TT-97:TransmitterColor")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2428 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "TransmitterColor")
}

#<<<--- add_analog("MinTemp",                  "REAL",                           PV_DESC="Minimum possible temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-97:MinTemp")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2430 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Minimum possible temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "MinTemp")
}

#<<<--- add_analog("MaxTemp",                  "REAL",                           PV_DESC="Maximum possible temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-97:MaxTemp")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2434 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum possible temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "MaxTemp")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-97:EnableFreeRunBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2438 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "EnableFreeRunBtn")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-97:EnableForcedBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2438 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "EnableForcedBtn")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-97:EnableManualBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2438 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "EnableManualBtn")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",  ARCHIVE=True,                           PV_DESC="Temperature Value",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-97:MeasValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2440 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Temperature Value")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "MeasValue")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-97:DevLocked")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2444 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "DevLocked")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-TT-97:Faceplate_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2446 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "Faceplate_LockID")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-TT-97:BlockIcon_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2450 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "BlockIcon_LockID")
}


#<<<--- add_digital("LatchAlarm",                            PV_DESC="Latching of the alarms")
record(bi, "Spk-000CDL:Cryo-TT-97:LatchAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2454 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "LatchAlarm")
}

#<<<--- add_digital("GroupAlarm",                            PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-TT-97:GroupAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2454 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "GroupAlarm")
}


#Alarm signals
#<<<--- add_major_alarm("Underrange",          "Temperature Underrange",         PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-97:Underrange")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2454 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "Underrange")
}

#<<<--- add_major_alarm("Overrange",           "Temperature Overrange",          PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-97:Overrange")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2454 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "Overrange")
}

#<<<--- add_major_alarm("HIHI",                "Temperature HIHI",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-97:HIHI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2454 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "HIHI")
}

#<<<--- add_minor_alarm("HI",                  "Temperature HI",                 PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-97:HI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2454 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "HI")
}

#<<<--- add_minor_alarm("LO",                  "Temperature LO",                 PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-97:LO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2454 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "LO")
}

#<<<--- add_major_alarm("LOLO",                "Temperature LOLO",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-97:LOLO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2454 T=UINT16 B=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "LOLO")
}

#<<<--- add_major_alarm("Param_Error",         "Parameter_Error",                PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-97:Param_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2454 T=UINT16 B=8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Parameter_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "Param_Error")
}

#<<<--- add_major_alarm("PN_Module_Error",     "LakeShore ProfiNet Error",       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-97:PN_Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2454 T=UINT16 B=9")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "LakeShore ProfiNet Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "PN_Module_Error")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-97:FB_ForceValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2456 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Force Temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "FB_ForceValue")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",        PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-97:FB_Limit_HIHI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2460 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "FB_Limit_HIHI")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-97:FB_Limit_HI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2464 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "FB_Limit_HI")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-97:FB_Limit_LO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2468 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "FB_Limit_LO")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",        PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-97:FB_Limit_LOLO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2472 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "FB_Limit_LOLO")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-TT-97 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Spk-000CDL:Cryo-TT-97:Cmd_FreeRun")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 496, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "Cmd_FreeRun")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-TT-97:Cmd_Force")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 496, 0x0002, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "Cmd_Force")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Spk-000CDL:Cryo-TT-97:Cmd_ForceVal")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 496, 0x0004, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "Cmd_ForceVal")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-TT-97:Cmd_AckAlarm")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 496, 0x0008, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "Cmd_AckAlarm")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-TT-97:Cmd_ForceUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 496, 0x0010, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-TT-97:Cmd_DevLock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 496, 0x0020, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "Cmd_DevLock")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-TT-97:Cmd_DevUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 496, 0x0040, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "Cmd_DevUnlock")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-TT-97 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",                 PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-97:P_Limit_HIHI")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 497, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HIHI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                   PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-97:P_Limit_HI")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 499, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                   PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-97:P_Limit_LO")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 501, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",                 PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-97:P_Limit_LOLO")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 503, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LOLO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force Temperature",          PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-97:P_ForceValue")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 505, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-TT-97:P_Faceplate_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 507, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-TT-97:P_BlockIcon_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 509, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-TT-97:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-TT-97:P_Limit_HIHI")
	field(LNK2, "Spk-000CDL:Cryo-TT-97:P_Limit_HI")
	field(LNK3, "Spk-000CDL:Cryo-TT-97:P_Limit_LO")
	field(LNK4, "Spk-000CDL:Cryo-TT-97:P_Limit_LOLO")
	field(LNK5, "Spk-000CDL:Cryo-TT-97:P_ForceValue")
	field(LNK6, "Spk-000CDL:Cryo-TT-97:P_Faceplate_LockID")
	field(LNK7, "Spk-000CDL:Cryo-TT-97:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-TT-98 ##########
##########
########## CommandWordsLength: 1
########## ParameterWordsLength: 14
########## StatusWordsLength: 25
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                      TT - Temperature Transmitter in K with Lakeshore                    ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.4             ################################
#Author:  Miklos Boros
#Date:    16-12-2019
#Version: v1.4
#Changes:
#1. Modified TT for direct Temp measurement with Lakeshore
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################         Version: 1.1             ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    12-06-2018
#Version: v1.1
#Changes:
#1. Modified Alarm Signal section to be compatible with new format.
############################ Version: 1.0             ########################################
#Author:  Miklos Boros
#Date:    25-01-2018
#Version: v1.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-TT-98 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-98:OpMode_FreeRun")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2476 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "OpMode_FreeRun")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-98:OpMode_Forced")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2476 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "OpMode_Forced")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",              PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-TT-98:Inhibit_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2476 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "Inhibit_Manual")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",               PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-TT-98:Inhibit_Force")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2476 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "Inhibit_Force")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",             PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-TT-98:Inhibit_Lock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2476 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "Inhibit_Lock")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Spk-000CDL:Cryo-TT-98:TransmitterColor")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2478 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "TransmitterColor")
}

#<<<--- add_analog("MinTemp",                  "REAL",                           PV_DESC="Minimum possible temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-98:MinTemp")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2480 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Minimum possible temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "MinTemp")
}

#<<<--- add_analog("MaxTemp",                  "REAL",                           PV_DESC="Maximum possible temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-98:MaxTemp")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2484 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum possible temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "MaxTemp")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-98:EnableFreeRunBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2488 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "EnableFreeRunBtn")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-98:EnableForcedBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2488 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "EnableForcedBtn")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-98:EnableManualBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2488 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "EnableManualBtn")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",  ARCHIVE=True,                           PV_DESC="Temperature Value",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-98:MeasValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2490 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Temperature Value")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "MeasValue")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-98:DevLocked")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2494 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "DevLocked")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-TT-98:Faceplate_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2496 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "Faceplate_LockID")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-TT-98:BlockIcon_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2500 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "BlockIcon_LockID")
}


#<<<--- add_digital("LatchAlarm",                            PV_DESC="Latching of the alarms")
record(bi, "Spk-000CDL:Cryo-TT-98:LatchAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2504 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "LatchAlarm")
}

#<<<--- add_digital("GroupAlarm",                            PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-TT-98:GroupAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2504 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "GroupAlarm")
}


#Alarm signals
#<<<--- add_major_alarm("Underrange",          "Temperature Underrange",         PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-98:Underrange")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2504 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "Underrange")
}

#<<<--- add_major_alarm("Overrange",           "Temperature Overrange",          PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-98:Overrange")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2504 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "Overrange")
}

#<<<--- add_major_alarm("HIHI",                "Temperature HIHI",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-98:HIHI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2504 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "HIHI")
}

#<<<--- add_minor_alarm("HI",                  "Temperature HI",                 PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-98:HI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2504 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "HI")
}

#<<<--- add_minor_alarm("LO",                  "Temperature LO",                 PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-98:LO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2504 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "LO")
}

#<<<--- add_major_alarm("LOLO",                "Temperature LOLO",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-98:LOLO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2504 T=UINT16 B=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "LOLO")
}

#<<<--- add_major_alarm("Param_Error",         "Parameter_Error",                PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-98:Param_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2504 T=UINT16 B=8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Parameter_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "Param_Error")
}

#<<<--- add_major_alarm("PN_Module_Error",     "LakeShore ProfiNet Error",       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-98:PN_Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2504 T=UINT16 B=9")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "LakeShore ProfiNet Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "PN_Module_Error")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-98:FB_ForceValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2506 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Force Temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "FB_ForceValue")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",        PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-98:FB_Limit_HIHI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2510 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "FB_Limit_HIHI")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-98:FB_Limit_HI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2514 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "FB_Limit_HI")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-98:FB_Limit_LO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2518 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "FB_Limit_LO")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",        PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-98:FB_Limit_LOLO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2522 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "FB_Limit_LOLO")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-TT-98 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Spk-000CDL:Cryo-TT-98:Cmd_FreeRun")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 511, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "Cmd_FreeRun")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-TT-98:Cmd_Force")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 511, 0x0002, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "Cmd_Force")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Spk-000CDL:Cryo-TT-98:Cmd_ForceVal")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 511, 0x0004, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "Cmd_ForceVal")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-TT-98:Cmd_AckAlarm")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 511, 0x0008, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "Cmd_AckAlarm")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-TT-98:Cmd_ForceUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 511, 0x0010, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-TT-98:Cmd_DevLock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 511, 0x0020, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "Cmd_DevLock")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-TT-98:Cmd_DevUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 511, 0x0040, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "Cmd_DevUnlock")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-TT-98 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",                 PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-98:P_Limit_HIHI")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 512, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HIHI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                   PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-98:P_Limit_HI")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 514, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                   PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-98:P_Limit_LO")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 516, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",                 PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-98:P_Limit_LOLO")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 518, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LOLO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force Temperature",          PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-98:P_ForceValue")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 520, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-TT-98:P_Faceplate_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 522, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-TT-98:P_BlockIcon_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 524, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-TT-98:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-TT-98:P_Limit_HIHI")
	field(LNK2, "Spk-000CDL:Cryo-TT-98:P_Limit_HI")
	field(LNK3, "Spk-000CDL:Cryo-TT-98:P_Limit_LO")
	field(LNK4, "Spk-000CDL:Cryo-TT-98:P_Limit_LOLO")
	field(LNK5, "Spk-000CDL:Cryo-TT-98:P_ForceValue")
	field(LNK6, "Spk-000CDL:Cryo-TT-98:P_Faceplate_LockID")
	field(LNK7, "Spk-000CDL:Cryo-TT-98:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-LT-91 ##########
##########
########## CommandWordsLength: 1
########## ParameterWordsLength: 22
########## StatusWordsLength: 32
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                          LT- Level Transmitter in percent                                ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.4             ################################
#Author:  Emilio Asensi
#Date:    06-09-2022
#Version: v1.4
#Changes:
#1. Added pvs for timer, filter and ramping speed
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################         Version: 1.1             ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    12-06-2018
#Version: v1.1
#Changes:
#1. Modified Alarm Signal section to be compatible with new format.
############################ Version: 1.0             ########################################
#Author:  Miklos Boros
#Date:    25-01-2018
#Version: v1.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-LT-91 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-LT-91:OpMode_FreeRun")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2526 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "OpMode_FreeRun")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-LT-91:OpMode_Forced")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2526 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "OpMode_Forced")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",              PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-LT-91:Inhibit_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2526 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "Inhibit_Manual")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",               PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-LT-91:Inhibit_Force")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2526 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "Inhibit_Force")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",             PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-LT-91:Inhibit_Lock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2526 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "Inhibit_Lock")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Spk-000CDL:Cryo-LT-91:TransmitterColor")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2528 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "TransmitterColor")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-LT-91:EnableFreeRunBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2530 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "EnableFreeRunBtn")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-LT-91:EnableForcedBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2530 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "EnableForcedBtn")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-LT-91:EnableManualBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2530 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "EnableManualBtn")
}

#<<<--- add_analog("ScaleLOW",                 "REAL",                           PV_DESC="Scale LOW",                  PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-LT-91:ScaleLOW")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2532 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Scale LOW")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "ScaleLOW")
}

#<<<--- add_analog("ScaleHIGH",                "REAL",                           PV_DESC="Scale HIGH",                 PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-LT-91:ScaleHIGH")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2536 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Scale HIGH")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "ScaleHIGH")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",                           PV_DESC="Temperature Value",          PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-LT-91:MeasValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2540 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Temperature Value")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "MeasValue")
}

#<<<--- add_analog("RAWValue",                 "REAL",  ARCHIVE=True,                           PV_DESC="RAW integer scaled" )
record(ai, "Spk-000CDL:Cryo-LT-91:RAWValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2544 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RAW integer scaled")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "RAWValue")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-LT-91:DevLocked")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2548 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "DevLocked")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-LT-91:Faceplate_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2550 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "Faceplate_LockID")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-LT-91:BlockIcon_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2554 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "BlockIcon_LockID")
}


#Alarm signals
#<<<--- add_major_alarm("LatchAlarm",          "Latching of alarms",             PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-LT-91:LatchAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2558 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Latching of alarms")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "LatchAlarm")
}

#<<<--- add_major_alarm("GroupAlarm",          "GroupAlarm",                     PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-LT-91:GroupAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2558 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "GroupAlarm")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "GroupAlarm")
}

#<<<--- add_major_alarm("Underrange",          "Temperature Underrange",         PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-LT-91:Underrange")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2558 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "Underrange")
}

#<<<--- add_major_alarm("Overrange",           "Temperature Overrange",          PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-LT-91:Overrange")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2558 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "Overrange")
}

#<<<--- add_major_alarm("HIHI",                "Temperature HIHI",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-LT-91:HIHI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2558 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "HIHI")
}

#<<<--- add_minor_alarm("HI",                  "Temperature HI",                 PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-LT-91:HI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2558 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "HI")
}

#<<<--- add_minor_alarm("LO",                  "Temperature LO",                 PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-LT-91:LO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2558 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "LO")
}

#<<<--- add_major_alarm("LOLO",                "Temperature LOLO",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-LT-91:LOLO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2558 T=UINT16 B=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "LOLO")
}

#<<<--- add_major_alarm("IO_Error",            "IO_Error",                       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-LT-91:IO_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2558 T=UINT16 B=8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "IO_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "IO_Error")
}

#<<<--- add_major_alarm("Module_Error",        "Module_Error",                   PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-LT-91:Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2558 T=UINT16 B=9")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "Module_Error")
}

#<<<--- add_major_alarm("Param_Error",         "Parameter_Error",                PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-LT-91:Param_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2558 T=UINT16 B=10")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Parameter_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "Param_Error")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Temperature", PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-LT-91:FB_ForceValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2560 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Force Temperature")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "FB_ForceValue")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",        PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-LT-91:FB_Limit_HIHI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2564 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "FB_Limit_HIHI")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",          PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-LT-91:FB_Limit_HI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2568 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "FB_Limit_HI")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",          PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-LT-91:FB_Limit_LO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2572 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "FB_Limit_LO")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",        PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-LT-91:FB_Limit_LOLO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2576 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "FB_Limit_LOLO")
}


#Timers and Filters
#<<<--- add_digital("Timer_enabled")
record(bi, "Spk-000CDL:Cryo-LT-91:Timer_enabled")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2580 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "Timer_enabled")
}

#<<<--- add_digital("T_triggered")
record(bi, "Spk-000CDL:Cryo-LT-91:T_triggered")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2580 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "T_triggered")
}

#<<<--- add_analog("T_running", "INT")
record(ai, "Spk-000CDL:Cryo-LT-91:T_running")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2582 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "T_running")
}

#<<<--- add_digital("F_enabled")
record(bi, "Spk-000CDL:Cryo-LT-91:F_enabled")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2584 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "F_enabled")
}

#<<<--- add_analog("FiltedValue", "REAL")
record(ai, "Spk-000CDL:Cryo-LT-91:FiltedValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2586 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "FiltedValue")
}


############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-LT-91 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Spk-000CDL:Cryo-LT-91:Cmd_FreeRun")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 526, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "Cmd_FreeRun")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-LT-91:Cmd_Force")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 526, 0x0002, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "Cmd_Force")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Spk-000CDL:Cryo-LT-91:Cmd_ForceVal")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 526, 0x0004, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "Cmd_ForceVal")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-LT-91:Cmd_AckAlarm")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 526, 0x0008, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "Cmd_AckAlarm")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-LT-91:Cmd_ForceUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 526, 0x0010, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-LT-91:Cmd_DevLock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 526, 0x0020, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "Cmd_DevLock")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-LT-91:Cmd_DevUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 526, 0x0040, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "Cmd_DevUnlock")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-LT-91 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",                 PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-LT-91:P_Limit_HIHI")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 527, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HIHI")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                   PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-LT-91:P_Limit_HI")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 529, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HI")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                   PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-LT-91:P_Limit_LO")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 531, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LO")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",                 PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-LT-91:P_Limit_LOLO")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 533, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LOLO")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force Temperature",          PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-LT-91:P_ForceValue")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 535, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Temperature")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-LT-91:P_Faceplate_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 537, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-LT-91:P_BlockIcon_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 539, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Timers and Filters
#<<<--- add_analog("T_period", "INT")
record(ao, "Spk-000CDL:Cryo-LT-91:T_period")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 541, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "T_period")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("F_interval", "INT")
record(ao, "Spk-000CDL:Cryo-LT-91:F_interval")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 542, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "F_interval")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("F_buffer", "INT")
record(ao, "Spk-000CDL:Cryo-LT-91:F_buffer")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 543, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "F_buffer")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("F_Enable")
record(bo, "Spk-000CDL:Cryo-LT-91:F_Enable")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 544, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "F_Enable")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampUPSpeed","REAL",                   PV_DESC="Ramping UP Speed",                         PV_EGU="%/s")
record(ao, "Spk-000CDL:Cryo-LT-91:P_RampUPSpeed")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 545, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "P_RampUPSpeed")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNSpeed","REAL",                   PV_DESC="Ramping DOWN Speed",                         PV_EGU="%/s")
record(ao, "Spk-000CDL:Cryo-LT-91:P_RampDNSpeed")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 547, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "P_RampDNSpeed")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-LT-91:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-LT-91:P_Limit_HIHI")
	field(LNK2, "Spk-000CDL:Cryo-LT-91:P_Limit_HI")
	field(LNK3, "Spk-000CDL:Cryo-LT-91:P_Limit_LO")
	field(LNK4, "Spk-000CDL:Cryo-LT-91:P_Limit_LOLO")
	field(LNK5, "Spk-000CDL:Cryo-LT-91:P_ForceValue")
	field(LNK6, "Spk-000CDL:Cryo-LT-91:P_Faceplate_LockID")
	field(LNK7, "Spk-000CDL:Cryo-LT-91:P_BlockIcon_LockID")
	field(LNK8, "Spk-000CDL:Cryo-LT-91:T_period")
	field(LNK9, "Spk-000CDL:Cryo-LT-91:F_interval")
	field(LNKA, "Spk-000CDL:Cryo-LT-91:F_buffer")
	field(LNKB, "Spk-000CDL:Cryo-LT-91:F_Enable")
	field(LNKC, "Spk-000CDL:Cryo-LT-91:P_RampUPSpeed")
	field(LNKD, "Spk-000CDL:Cryo-LT-91:P_RampDNSpeed")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-LT-92 ##########
##########
########## CommandWordsLength: 1
########## ParameterWordsLength: 22
########## StatusWordsLength: 32
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                          LT- Level Transmitter in percent                                ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.4             ################################
#Author:  Emilio Asensi
#Date:    06-09-2022
#Version: v1.4
#Changes:
#1. Added pvs for timer, filter and ramping speed
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################         Version: 1.1             ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    12-06-2018
#Version: v1.1
#Changes:
#1. Modified Alarm Signal section to be compatible with new format.
############################ Version: 1.0             ########################################
#Author:  Miklos Boros
#Date:    25-01-2018
#Version: v1.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-LT-92 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-LT-92:OpMode_FreeRun")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2590 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "OpMode_FreeRun")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-LT-92:OpMode_Forced")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2590 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "OpMode_Forced")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",              PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-LT-92:Inhibit_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2590 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "Inhibit_Manual")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",               PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-LT-92:Inhibit_Force")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2590 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "Inhibit_Force")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",             PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-LT-92:Inhibit_Lock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2590 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "Inhibit_Lock")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Spk-000CDL:Cryo-LT-92:TransmitterColor")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2592 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "TransmitterColor")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-LT-92:EnableFreeRunBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2594 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "EnableFreeRunBtn")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-LT-92:EnableForcedBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2594 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "EnableForcedBtn")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-LT-92:EnableManualBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2594 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "EnableManualBtn")
}

#<<<--- add_analog("ScaleLOW",                 "REAL",                           PV_DESC="Scale LOW",                  PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-LT-92:ScaleLOW")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2596 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Scale LOW")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "ScaleLOW")
}

#<<<--- add_analog("ScaleHIGH",                "REAL",                           PV_DESC="Scale HIGH",                 PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-LT-92:ScaleHIGH")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2600 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Scale HIGH")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "ScaleHIGH")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",                           PV_DESC="Temperature Value",          PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-LT-92:MeasValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2604 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Temperature Value")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "MeasValue")
}

#<<<--- add_analog("RAWValue",                 "REAL",  ARCHIVE=True,                           PV_DESC="RAW integer scaled" )
record(ai, "Spk-000CDL:Cryo-LT-92:RAWValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2608 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RAW integer scaled")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "RAWValue")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-LT-92:DevLocked")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2612 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "DevLocked")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-LT-92:Faceplate_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2614 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "Faceplate_LockID")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-LT-92:BlockIcon_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2618 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "BlockIcon_LockID")
}


#Alarm signals
#<<<--- add_major_alarm("LatchAlarm",          "Latching of alarms",             PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-LT-92:LatchAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2622 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Latching of alarms")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "LatchAlarm")
}

#<<<--- add_major_alarm("GroupAlarm",          "GroupAlarm",                     PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-LT-92:GroupAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2622 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "GroupAlarm")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "GroupAlarm")
}

#<<<--- add_major_alarm("Underrange",          "Temperature Underrange",         PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-LT-92:Underrange")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2622 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "Underrange")
}

#<<<--- add_major_alarm("Overrange",           "Temperature Overrange",          PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-LT-92:Overrange")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2622 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "Overrange")
}

#<<<--- add_major_alarm("HIHI",                "Temperature HIHI",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-LT-92:HIHI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2622 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "HIHI")
}

#<<<--- add_minor_alarm("HI",                  "Temperature HI",                 PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-LT-92:HI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2622 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "HI")
}

#<<<--- add_minor_alarm("LO",                  "Temperature LO",                 PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-LT-92:LO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2622 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "LO")
}

#<<<--- add_major_alarm("LOLO",                "Temperature LOLO",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-LT-92:LOLO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2622 T=UINT16 B=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "LOLO")
}

#<<<--- add_major_alarm("IO_Error",            "IO_Error",                       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-LT-92:IO_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2622 T=UINT16 B=8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "IO_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "IO_Error")
}

#<<<--- add_major_alarm("Module_Error",        "Module_Error",                   PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-LT-92:Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2622 T=UINT16 B=9")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "Module_Error")
}

#<<<--- add_major_alarm("Param_Error",         "Parameter_Error",                PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-LT-92:Param_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2622 T=UINT16 B=10")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Parameter_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "Param_Error")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Temperature", PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-LT-92:FB_ForceValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2624 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Force Temperature")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "FB_ForceValue")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",        PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-LT-92:FB_Limit_HIHI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2628 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "FB_Limit_HIHI")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",          PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-LT-92:FB_Limit_HI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2632 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "FB_Limit_HI")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",          PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-LT-92:FB_Limit_LO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2636 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "FB_Limit_LO")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",        PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-LT-92:FB_Limit_LOLO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2640 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "FB_Limit_LOLO")
}


#Timers and Filters
#<<<--- add_digital("Timer_enabled")
record(bi, "Spk-000CDL:Cryo-LT-92:Timer_enabled")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2644 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "Timer_enabled")
}

#<<<--- add_digital("T_triggered")
record(bi, "Spk-000CDL:Cryo-LT-92:T_triggered")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2644 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "T_triggered")
}

#<<<--- add_analog("T_running", "INT")
record(ai, "Spk-000CDL:Cryo-LT-92:T_running")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2646 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "T_running")
}

#<<<--- add_digital("F_enabled")
record(bi, "Spk-000CDL:Cryo-LT-92:F_enabled")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2648 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "F_enabled")
}

#<<<--- add_analog("FiltedValue", "REAL")
record(ai, "Spk-000CDL:Cryo-LT-92:FiltedValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2650 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "FiltedValue")
}


############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-LT-92 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Spk-000CDL:Cryo-LT-92:Cmd_FreeRun")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 549, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "Cmd_FreeRun")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-LT-92:Cmd_Force")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 549, 0x0002, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "Cmd_Force")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Spk-000CDL:Cryo-LT-92:Cmd_ForceVal")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 549, 0x0004, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "Cmd_ForceVal")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-LT-92:Cmd_AckAlarm")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 549, 0x0008, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "Cmd_AckAlarm")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-LT-92:Cmd_ForceUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 549, 0x0010, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-LT-92:Cmd_DevLock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 549, 0x0020, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "Cmd_DevLock")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-LT-92:Cmd_DevUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 549, 0x0040, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "Cmd_DevUnlock")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-LT-92 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",                 PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-LT-92:P_Limit_HIHI")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 550, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HIHI")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                   PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-LT-92:P_Limit_HI")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 552, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HI")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                   PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-LT-92:P_Limit_LO")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 554, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LO")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",                 PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-LT-92:P_Limit_LOLO")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 556, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LOLO")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force Temperature",          PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-LT-92:P_ForceValue")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 558, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Temperature")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-LT-92:P_Faceplate_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 560, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-LT-92:P_BlockIcon_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 562, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Timers and Filters
#<<<--- add_analog("T_period", "INT")
record(ao, "Spk-000CDL:Cryo-LT-92:T_period")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 564, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "T_period")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("F_interval", "INT")
record(ao, "Spk-000CDL:Cryo-LT-92:F_interval")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 565, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "F_interval")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("F_buffer", "INT")
record(ao, "Spk-000CDL:Cryo-LT-92:F_buffer")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 566, 100)INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "F_buffer")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("F_Enable")
record(bo, "Spk-000CDL:Cryo-LT-92:F_Enable")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 567, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "F_Enable")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampUPSpeed","REAL",                   PV_DESC="Ramping UP Speed",                         PV_EGU="%/s")
record(ao, "Spk-000CDL:Cryo-LT-92:P_RampUPSpeed")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 568, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "P_RampUPSpeed")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNSpeed","REAL",                   PV_DESC="Ramping DOWN Speed",                         PV_EGU="%/s")
record(ao, "Spk-000CDL:Cryo-LT-92:P_RampDNSpeed")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 570, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "P_RampDNSpeed")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-LT-92:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-LT-92:P_Limit_HIHI")
	field(LNK2, "Spk-000CDL:Cryo-LT-92:P_Limit_HI")
	field(LNK3, "Spk-000CDL:Cryo-LT-92:P_Limit_LO")
	field(LNK4, "Spk-000CDL:Cryo-LT-92:P_Limit_LOLO")
	field(LNK5, "Spk-000CDL:Cryo-LT-92:P_ForceValue")
	field(LNK6, "Spk-000CDL:Cryo-LT-92:P_Faceplate_LockID")
	field(LNK7, "Spk-000CDL:Cryo-LT-92:P_BlockIcon_LockID")
	field(LNK8, "Spk-000CDL:Cryo-LT-92:T_period")
	field(LNK9, "Spk-000CDL:Cryo-LT-92:F_interval")
	field(LNKA, "Spk-000CDL:Cryo-LT-92:F_buffer")
	field(LNKB, "Spk-000CDL:Cryo-LT-92:F_Enable")
	field(LNKC, "Spk-000CDL:Cryo-LT-92:P_RampUPSpeed")
	field(LNKD, "Spk-000CDL:Cryo-LT-92:P_RampDNSpeed")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-PT-91 ##########
##########
########## CommandWordsLength: 1
########## ParameterWordsLength: 14
########## StatusWordsLength: 25
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                             PT - Pressure Transmitter in mbar                            ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################         Version: 1.1             ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    12-06-2018
#Version: v1.1
#Changes:
#1. Modified Alarm Signal section to be compatible with new format.
############################ Version: 1.0             ########################################
#Author:  Miklos Boros
#Date:    25-01-2018
#Version: v1.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-PT-91 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-91:OpMode_FreeRun")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2654 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "OpMode_FreeRun")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-91:OpMode_Forced")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2654 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "OpMode_Forced")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",           PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-PT-91:Inhibit_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2654 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "Inhibit_Manual")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",            PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-PT-91:Inhibit_Force")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2654 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "Inhibit_Force")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",          PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-PT-91:Inhibit_Lock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2654 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "Inhibit_Lock")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Spk-000CDL:Cryo-PT-91:TransmitterColor")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2656 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "TransmitterColor")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-91:EnableFreeRunBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2658 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "EnableFreeRunBtn")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-91:EnableManualBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2658 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "EnableManualBtn")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-91:EnableForcedBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2658 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "EnableForcedBtn")
}

#<<<--- add_analog("ScaleLOW",                 "REAL",                           PV_DESC="Scale LOW",               PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-91:ScaleLOW")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2660 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Scale LOW")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "ScaleLOW")
}

#<<<--- add_analog("ScaleHIGH",                "REAL",                           PV_DESC="Scale HIGH",              PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-91:ScaleHIGH")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2664 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Scale HIGH")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "ScaleHIGH")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",                           PV_DESC="Pressure Value",          PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-91:MeasValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2668 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Pressure Value")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "MeasValue")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-91:DevLocked")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2672 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "DevLocked")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-PT-91:Faceplate_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2674 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "Faceplate_LockID")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-PT-91:BlockIcon_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2678 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "BlockIcon_LockID")
}


#Alarm signals
#<<<--- add_major_alarm("LatchAlarm",          "Latching of alarms",             PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-PT-91:LatchAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2682 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Latching of alarms")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "LatchAlarm")
}

#<<<--- add_major_alarm("GroupAlarm",          "GroupAlarm",                     PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-91:GroupAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2682 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "GroupAlarm")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "GroupAlarm")
}

#<<<--- add_major_alarm("Underrange",          "Pressure Underrange",            PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-91:Underrange")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2682 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "Underrange")
}

#<<<--- add_major_alarm("Overrange",           "Pressure Overrange",             PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-91:Overrange")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2682 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "Overrange")
}

#<<<--- add_major_alarm("HIHI",                "Pressure HIHI",                  PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-91:HIHI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2682 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "HIHI")
}

#<<<--- add_minor_alarm("HI",                  "Pressure HI",                    PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-91:HI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2682 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "HI")
}

#<<<--- add_minor_alarm("LO",                  "Pressure LO",                    PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-91:LO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2682 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "LO")
}

#<<<--- add_major_alarm("LOLO",                "Pressure LOLO",                  PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-91:LOLO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2682 T=UINT16 B=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "LOLO")
}

#<<<--- add_major_alarm("IO_Error",            "IO_Error",                       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-91:IO_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2682 T=UINT16 B=8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "IO_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "IO_Error")
}

#<<<--- add_major_alarm("Module_Error",        "Module_Error",                   PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-91:Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2682 T=UINT16 B=9")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "Module_Error")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Pressure", PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-91:FB_ForceValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2684 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Force Pressure")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "FB_ForceValue")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",     PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-91:FB_Limit_HIHI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2688 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "FB_Limit_HIHI")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",       PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-91:FB_Limit_HI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2692 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "FB_Limit_HI")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",       PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-91:FB_Limit_LO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2696 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "FB_Limit_LO")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",     PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-91:FB_Limit_LOLO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2700 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "FB_Limit_LOLO")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-PT-91 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Spk-000CDL:Cryo-PT-91:Cmd_FreeRun")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 572, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "Cmd_FreeRun")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-PT-91:Cmd_Force")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 572, 0x0002, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "Cmd_Force")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Spk-000CDL:Cryo-PT-91:Cmd_ForceVal")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 572, 0x0004, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "Cmd_ForceVal")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-PT-91:Cmd_AckAlarm")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 572, 0x0008, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "Cmd_AckAlarm")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-PT-91:Cmd_ForceUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 572, 0x0010, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-PT-91:Cmd_DevLock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 572, 0x0020, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "Cmd_DevLock")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-PT-91:Cmd_DevUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 572, 0x0040, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "Cmd_DevUnlock")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-PT-91 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",              PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-91:P_Limit_HIHI")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 573, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HIHI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-91:P_Limit_HI")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 575, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-91:P_Limit_LO")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 577, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",              PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-91:P_Limit_LOLO")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 579, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LOLO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force pressure",          PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-91:P_ForceValue")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 581, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force pressure")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-PT-91:P_Faceplate_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 583, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-PT-91:P_BlockIcon_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 585, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-PT-91:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-PT-91:P_Limit_HIHI")
	field(LNK2, "Spk-000CDL:Cryo-PT-91:P_Limit_HI")
	field(LNK3, "Spk-000CDL:Cryo-PT-91:P_Limit_LO")
	field(LNK4, "Spk-000CDL:Cryo-PT-91:P_Limit_LOLO")
	field(LNK5, "Spk-000CDL:Cryo-PT-91:P_ForceValue")
	field(LNK6, "Spk-000CDL:Cryo-PT-91:P_Faceplate_LockID")
	field(LNK7, "Spk-000CDL:Cryo-PT-91:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-PT-92 ##########
##########
########## CommandWordsLength: 1
########## ParameterWordsLength: 14
########## StatusWordsLength: 25
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                             PT - Pressure Transmitter in mbar                            ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################         Version: 1.1             ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    12-06-2018
#Version: v1.1
#Changes:
#1. Modified Alarm Signal section to be compatible with new format.
############################ Version: 1.0             ########################################
#Author:  Miklos Boros
#Date:    25-01-2018
#Version: v1.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-PT-92 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-92:OpMode_FreeRun")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2704 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "OpMode_FreeRun")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-92:OpMode_Forced")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2704 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "OpMode_Forced")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",           PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-PT-92:Inhibit_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2704 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "Inhibit_Manual")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",            PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-PT-92:Inhibit_Force")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2704 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "Inhibit_Force")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",          PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-PT-92:Inhibit_Lock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2704 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "Inhibit_Lock")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Spk-000CDL:Cryo-PT-92:TransmitterColor")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2706 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "TransmitterColor")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-92:EnableFreeRunBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2708 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "EnableFreeRunBtn")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-92:EnableManualBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2708 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "EnableManualBtn")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-92:EnableForcedBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2708 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "EnableForcedBtn")
}

#<<<--- add_analog("ScaleLOW",                 "REAL",                           PV_DESC="Scale LOW",               PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-92:ScaleLOW")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2710 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Scale LOW")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "ScaleLOW")
}

#<<<--- add_analog("ScaleHIGH",                "REAL",                           PV_DESC="Scale HIGH",              PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-92:ScaleHIGH")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2714 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Scale HIGH")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "ScaleHIGH")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",                           PV_DESC="Pressure Value",          PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-92:MeasValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2718 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Pressure Value")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "MeasValue")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-92:DevLocked")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2722 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "DevLocked")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-PT-92:Faceplate_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2724 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "Faceplate_LockID")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-PT-92:BlockIcon_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2728 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "BlockIcon_LockID")
}


#Alarm signals
#<<<--- add_major_alarm("LatchAlarm",          "Latching of alarms",             PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-PT-92:LatchAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2732 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Latching of alarms")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "LatchAlarm")
}

#<<<--- add_major_alarm("GroupAlarm",          "GroupAlarm",                     PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-92:GroupAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2732 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "GroupAlarm")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "GroupAlarm")
}

#<<<--- add_major_alarm("Underrange",          "Pressure Underrange",            PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-92:Underrange")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2732 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "Underrange")
}

#<<<--- add_major_alarm("Overrange",           "Pressure Overrange",             PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-92:Overrange")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2732 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "Overrange")
}

#<<<--- add_major_alarm("HIHI",                "Pressure HIHI",                  PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-92:HIHI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2732 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "HIHI")
}

#<<<--- add_minor_alarm("HI",                  "Pressure HI",                    PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-92:HI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2732 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "HI")
}

#<<<--- add_minor_alarm("LO",                  "Pressure LO",                    PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-92:LO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2732 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "LO")
}

#<<<--- add_major_alarm("LOLO",                "Pressure LOLO",                  PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-92:LOLO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2732 T=UINT16 B=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "LOLO")
}

#<<<--- add_major_alarm("IO_Error",            "IO_Error",                       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-92:IO_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2732 T=UINT16 B=8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "IO_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "IO_Error")
}

#<<<--- add_major_alarm("Module_Error",        "Module_Error",                   PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-92:Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2732 T=UINT16 B=9")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "Module_Error")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Pressure", PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-92:FB_ForceValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2734 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Force Pressure")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "FB_ForceValue")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",     PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-92:FB_Limit_HIHI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2738 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "FB_Limit_HIHI")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",       PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-92:FB_Limit_HI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2742 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "FB_Limit_HI")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",       PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-92:FB_Limit_LO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2746 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "FB_Limit_LO")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",     PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-92:FB_Limit_LOLO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2750 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "FB_Limit_LOLO")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-PT-92 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Spk-000CDL:Cryo-PT-92:Cmd_FreeRun")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 587, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "Cmd_FreeRun")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-PT-92:Cmd_Force")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 587, 0x0002, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "Cmd_Force")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Spk-000CDL:Cryo-PT-92:Cmd_ForceVal")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 587, 0x0004, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "Cmd_ForceVal")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-PT-92:Cmd_AckAlarm")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 587, 0x0008, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "Cmd_AckAlarm")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-PT-92:Cmd_ForceUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 587, 0x0010, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-PT-92:Cmd_DevLock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 587, 0x0020, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "Cmd_DevLock")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-PT-92:Cmd_DevUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 587, 0x0040, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "Cmd_DevUnlock")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-PT-92 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",              PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-92:P_Limit_HIHI")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 588, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HIHI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-92:P_Limit_HI")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 590, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-92:P_Limit_LO")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 592, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",              PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-92:P_Limit_LOLO")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 594, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LOLO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force pressure",          PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-92:P_ForceValue")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 596, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force pressure")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-PT-92:P_Faceplate_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 598, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-PT-92:P_BlockIcon_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 600, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-PT-92:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-PT-92:P_Limit_HIHI")
	field(LNK2, "Spk-000CDL:Cryo-PT-92:P_Limit_HI")
	field(LNK3, "Spk-000CDL:Cryo-PT-92:P_Limit_LO")
	field(LNK4, "Spk-000CDL:Cryo-PT-92:P_Limit_LOLO")
	field(LNK5, "Spk-000CDL:Cryo-PT-92:P_ForceValue")
	field(LNK6, "Spk-000CDL:Cryo-PT-92:P_Faceplate_LockID")
	field(LNK7, "Spk-000CDL:Cryo-PT-92:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-PT-93 ##########
##########
########## CommandWordsLength: 1
########## ParameterWordsLength: 14
########## StatusWordsLength: 25
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                             PT - Pressure Transmitter in mbar                            ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################         Version: 1.1             ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    12-06-2018
#Version: v1.1
#Changes:
#1. Modified Alarm Signal section to be compatible with new format.
############################ Version: 1.0             ########################################
#Author:  Miklos Boros
#Date:    25-01-2018
#Version: v1.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-PT-93 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-93:OpMode_FreeRun")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2754 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "OpMode_FreeRun")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-93:OpMode_Forced")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2754 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "OpMode_Forced")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",           PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-PT-93:Inhibit_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2754 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "Inhibit_Manual")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",            PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-PT-93:Inhibit_Force")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2754 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "Inhibit_Force")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",          PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-PT-93:Inhibit_Lock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2754 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "Inhibit_Lock")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Spk-000CDL:Cryo-PT-93:TransmitterColor")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2756 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "TransmitterColor")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-93:EnableFreeRunBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2758 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "EnableFreeRunBtn")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-93:EnableManualBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2758 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "EnableManualBtn")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-93:EnableForcedBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2758 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "EnableForcedBtn")
}

#<<<--- add_analog("ScaleLOW",                 "REAL",                           PV_DESC="Scale LOW",               PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-93:ScaleLOW")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2760 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Scale LOW")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "ScaleLOW")
}

#<<<--- add_analog("ScaleHIGH",                "REAL",                           PV_DESC="Scale HIGH",              PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-93:ScaleHIGH")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2764 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Scale HIGH")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "ScaleHIGH")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",                           PV_DESC="Pressure Value",          PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-93:MeasValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2768 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Pressure Value")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "MeasValue")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-93:DevLocked")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2772 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "DevLocked")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-PT-93:Faceplate_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2774 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "Faceplate_LockID")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-PT-93:BlockIcon_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2778 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "BlockIcon_LockID")
}


#Alarm signals
#<<<--- add_major_alarm("LatchAlarm",          "Latching of alarms",             PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-PT-93:LatchAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2782 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Latching of alarms")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "LatchAlarm")
}

#<<<--- add_major_alarm("GroupAlarm",          "GroupAlarm",                     PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-93:GroupAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2782 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "GroupAlarm")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "GroupAlarm")
}

#<<<--- add_major_alarm("Underrange",          "Pressure Underrange",            PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-93:Underrange")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2782 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "Underrange")
}

#<<<--- add_major_alarm("Overrange",           "Pressure Overrange",             PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-93:Overrange")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2782 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "Overrange")
}

#<<<--- add_major_alarm("HIHI",                "Pressure HIHI",                  PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-93:HIHI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2782 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "HIHI")
}

#<<<--- add_minor_alarm("HI",                  "Pressure HI",                    PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-93:HI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2782 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "HI")
}

#<<<--- add_minor_alarm("LO",                  "Pressure LO",                    PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-93:LO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2782 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "LO")
}

#<<<--- add_major_alarm("LOLO",                "Pressure LOLO",                  PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-93:LOLO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2782 T=UINT16 B=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "LOLO")
}

#<<<--- add_major_alarm("IO_Error",            "IO_Error",                       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-93:IO_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2782 T=UINT16 B=8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "IO_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "IO_Error")
}

#<<<--- add_major_alarm("Module_Error",        "Module_Error",                   PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-93:Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2782 T=UINT16 B=9")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "Module_Error")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Pressure", PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-93:FB_ForceValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2784 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Force Pressure")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "FB_ForceValue")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",     PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-93:FB_Limit_HIHI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2788 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "FB_Limit_HIHI")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",       PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-93:FB_Limit_HI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2792 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "FB_Limit_HI")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",       PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-93:FB_Limit_LO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2796 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "FB_Limit_LO")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",     PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-93:FB_Limit_LOLO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2800 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "FB_Limit_LOLO")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-PT-93 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Spk-000CDL:Cryo-PT-93:Cmd_FreeRun")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 602, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "Cmd_FreeRun")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-PT-93:Cmd_Force")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 602, 0x0002, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "Cmd_Force")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Spk-000CDL:Cryo-PT-93:Cmd_ForceVal")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 602, 0x0004, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "Cmd_ForceVal")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-PT-93:Cmd_AckAlarm")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 602, 0x0008, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "Cmd_AckAlarm")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-PT-93:Cmd_ForceUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 602, 0x0010, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-PT-93:Cmd_DevLock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 602, 0x0020, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "Cmd_DevLock")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-PT-93:Cmd_DevUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 602, 0x0040, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "Cmd_DevUnlock")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-PT-93 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",              PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-93:P_Limit_HIHI")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 603, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HIHI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-93:P_Limit_HI")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 605, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-93:P_Limit_LO")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 607, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",              PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-93:P_Limit_LOLO")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 609, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LOLO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force pressure",          PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-93:P_ForceValue")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 611, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force pressure")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-PT-93:P_Faceplate_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 613, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-PT-93:P_BlockIcon_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 615, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-PT-93:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-PT-93:P_Limit_HIHI")
	field(LNK2, "Spk-000CDL:Cryo-PT-93:P_Limit_HI")
	field(LNK3, "Spk-000CDL:Cryo-PT-93:P_Limit_LO")
	field(LNK4, "Spk-000CDL:Cryo-PT-93:P_Limit_LOLO")
	field(LNK5, "Spk-000CDL:Cryo-PT-93:P_ForceValue")
	field(LNK6, "Spk-000CDL:Cryo-PT-93:P_Faceplate_LockID")
	field(LNK7, "Spk-000CDL:Cryo-PT-93:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-PT-94 ##########
##########
########## CommandWordsLength: 1
########## ParameterWordsLength: 14
########## StatusWordsLength: 25
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                             PT - Pressure Transmitter in mbar                            ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################         Version: 1.1             ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    12-06-2018
#Version: v1.1
#Changes:
#1. Modified Alarm Signal section to be compatible with new format.
############################ Version: 1.0             ########################################
#Author:  Miklos Boros
#Date:    25-01-2018
#Version: v1.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-PT-94 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-94:OpMode_FreeRun")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2804 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "OpMode_FreeRun")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-94:OpMode_Forced")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2804 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "OpMode_Forced")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",           PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-PT-94:Inhibit_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2804 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "Inhibit_Manual")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",            PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-PT-94:Inhibit_Force")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2804 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "Inhibit_Force")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",          PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-PT-94:Inhibit_Lock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2804 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "Inhibit_Lock")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Spk-000CDL:Cryo-PT-94:TransmitterColor")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2806 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "TransmitterColor")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-94:EnableFreeRunBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2808 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "EnableFreeRunBtn")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-94:EnableManualBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2808 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "EnableManualBtn")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-94:EnableForcedBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2808 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "EnableForcedBtn")
}

#<<<--- add_analog("ScaleLOW",                 "REAL",                           PV_DESC="Scale LOW",               PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-94:ScaleLOW")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2810 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Scale LOW")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "ScaleLOW")
}

#<<<--- add_analog("ScaleHIGH",                "REAL",                           PV_DESC="Scale HIGH",              PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-94:ScaleHIGH")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2814 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Scale HIGH")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "ScaleHIGH")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",                           PV_DESC="Pressure Value",          PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-94:MeasValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2818 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Pressure Value")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "MeasValue")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-94:DevLocked")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2822 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "DevLocked")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-PT-94:Faceplate_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2824 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "Faceplate_LockID")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-PT-94:BlockIcon_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2828 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "BlockIcon_LockID")
}


#Alarm signals
#<<<--- add_major_alarm("LatchAlarm",          "Latching of alarms",             PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-PT-94:LatchAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2832 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Latching of alarms")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "LatchAlarm")
}

#<<<--- add_major_alarm("GroupAlarm",          "GroupAlarm",                     PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-94:GroupAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2832 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "GroupAlarm")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "GroupAlarm")
}

#<<<--- add_major_alarm("Underrange",          "Pressure Underrange",            PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-94:Underrange")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2832 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "Underrange")
}

#<<<--- add_major_alarm("Overrange",           "Pressure Overrange",             PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-94:Overrange")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2832 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "Overrange")
}

#<<<--- add_major_alarm("HIHI",                "Pressure HIHI",                  PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-94:HIHI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2832 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "HIHI")
}

#<<<--- add_minor_alarm("HI",                  "Pressure HI",                    PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-94:HI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2832 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "HI")
}

#<<<--- add_minor_alarm("LO",                  "Pressure LO",                    PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-94:LO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2832 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "LO")
}

#<<<--- add_major_alarm("LOLO",                "Pressure LOLO",                  PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-94:LOLO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2832 T=UINT16 B=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "LOLO")
}

#<<<--- add_major_alarm("IO_Error",            "IO_Error",                       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-94:IO_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2832 T=UINT16 B=8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "IO_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "IO_Error")
}

#<<<--- add_major_alarm("Module_Error",        "Module_Error",                   PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-94:Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2832 T=UINT16 B=9")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "Module_Error")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Pressure", PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-94:FB_ForceValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2834 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Force Pressure")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "FB_ForceValue")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",     PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-94:FB_Limit_HIHI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2838 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "FB_Limit_HIHI")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",       PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-94:FB_Limit_HI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2842 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "FB_Limit_HI")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",       PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-94:FB_Limit_LO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2846 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "FB_Limit_LO")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",     PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-94:FB_Limit_LOLO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2850 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "FB_Limit_LOLO")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-PT-94 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Spk-000CDL:Cryo-PT-94:Cmd_FreeRun")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 617, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "Cmd_FreeRun")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-PT-94:Cmd_Force")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 617, 0x0002, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "Cmd_Force")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Spk-000CDL:Cryo-PT-94:Cmd_ForceVal")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 617, 0x0004, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "Cmd_ForceVal")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-PT-94:Cmd_AckAlarm")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 617, 0x0008, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "Cmd_AckAlarm")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-PT-94:Cmd_ForceUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 617, 0x0010, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-PT-94:Cmd_DevLock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 617, 0x0020, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "Cmd_DevLock")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-PT-94:Cmd_DevUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 617, 0x0040, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "Cmd_DevUnlock")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-PT-94 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",              PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-94:P_Limit_HIHI")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 618, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HIHI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-94:P_Limit_HI")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 620, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-94:P_Limit_LO")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 622, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",              PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-94:P_Limit_LOLO")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 624, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LOLO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force pressure",          PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-94:P_ForceValue")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 626, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force pressure")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-PT-94:P_Faceplate_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 628, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-PT-94:P_BlockIcon_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 630, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-PT-94:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-PT-94:P_Limit_HIHI")
	field(LNK2, "Spk-000CDL:Cryo-PT-94:P_Limit_HI")
	field(LNK3, "Spk-000CDL:Cryo-PT-94:P_Limit_LO")
	field(LNK4, "Spk-000CDL:Cryo-PT-94:P_Limit_LOLO")
	field(LNK5, "Spk-000CDL:Cryo-PT-94:P_ForceValue")
	field(LNK6, "Spk-000CDL:Cryo-PT-94:P_Faceplate_LockID")
	field(LNK7, "Spk-000CDL:Cryo-PT-94:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-PT-95 ##########
##########
########## CommandWordsLength: 1
########## ParameterWordsLength: 14
########## StatusWordsLength: 25
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                             PT - Pressure Transmitter in mbar                            ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################         Version: 1.1             ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    12-06-2018
#Version: v1.1
#Changes:
#1. Modified Alarm Signal section to be compatible with new format.
############################ Version: 1.0             ########################################
#Author:  Miklos Boros
#Date:    25-01-2018
#Version: v1.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-PT-95 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-95:OpMode_FreeRun")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2854 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "OpMode_FreeRun")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-95:OpMode_Forced")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2854 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "OpMode_Forced")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",           PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-PT-95:Inhibit_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2854 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "Inhibit_Manual")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",            PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-PT-95:Inhibit_Force")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2854 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "Inhibit_Force")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",          PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-PT-95:Inhibit_Lock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2854 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "Inhibit_Lock")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Spk-000CDL:Cryo-PT-95:TransmitterColor")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2856 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "TransmitterColor")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-95:EnableFreeRunBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2858 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "EnableFreeRunBtn")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-95:EnableManualBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2858 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "EnableManualBtn")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-95:EnableForcedBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2858 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "EnableForcedBtn")
}

#<<<--- add_analog("ScaleLOW",                 "REAL",                           PV_DESC="Scale LOW",               PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-95:ScaleLOW")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2860 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Scale LOW")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "ScaleLOW")
}

#<<<--- add_analog("ScaleHIGH",                "REAL",                           PV_DESC="Scale HIGH",              PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-95:ScaleHIGH")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2864 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Scale HIGH")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "ScaleHIGH")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",                           PV_DESC="Pressure Value",          PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-95:MeasValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2868 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Pressure Value")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "MeasValue")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-95:DevLocked")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2872 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "DevLocked")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-PT-95:Faceplate_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2874 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "Faceplate_LockID")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-PT-95:BlockIcon_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2878 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "BlockIcon_LockID")
}


#Alarm signals
#<<<--- add_major_alarm("LatchAlarm",          "Latching of alarms",             PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-PT-95:LatchAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2882 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Latching of alarms")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "LatchAlarm")
}

#<<<--- add_major_alarm("GroupAlarm",          "GroupAlarm",                     PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-95:GroupAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2882 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "GroupAlarm")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "GroupAlarm")
}

#<<<--- add_major_alarm("Underrange",          "Pressure Underrange",            PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-95:Underrange")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2882 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "Underrange")
}

#<<<--- add_major_alarm("Overrange",           "Pressure Overrange",             PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-95:Overrange")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2882 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "Overrange")
}

#<<<--- add_major_alarm("HIHI",                "Pressure HIHI",                  PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-95:HIHI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2882 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "HIHI")
}

#<<<--- add_minor_alarm("HI",                  "Pressure HI",                    PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-95:HI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2882 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "HI")
}

#<<<--- add_minor_alarm("LO",                  "Pressure LO",                    PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-95:LO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2882 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "LO")
}

#<<<--- add_major_alarm("LOLO",                "Pressure LOLO",                  PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-95:LOLO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2882 T=UINT16 B=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "LOLO")
}

#<<<--- add_major_alarm("IO_Error",            "IO_Error",                       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-95:IO_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2882 T=UINT16 B=8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "IO_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "IO_Error")
}

#<<<--- add_major_alarm("Module_Error",        "Module_Error",                   PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-95:Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2882 T=UINT16 B=9")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "Module_Error")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Pressure", PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-95:FB_ForceValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2884 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Force Pressure")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "FB_ForceValue")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",     PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-95:FB_Limit_HIHI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2888 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "FB_Limit_HIHI")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",       PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-95:FB_Limit_HI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2892 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "FB_Limit_HI")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",       PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-95:FB_Limit_LO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2896 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "FB_Limit_LO")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",     PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-95:FB_Limit_LOLO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2900 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "FB_Limit_LOLO")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-PT-95 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Spk-000CDL:Cryo-PT-95:Cmd_FreeRun")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 632, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "Cmd_FreeRun")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-PT-95:Cmd_Force")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 632, 0x0002, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "Cmd_Force")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Spk-000CDL:Cryo-PT-95:Cmd_ForceVal")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 632, 0x0004, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "Cmd_ForceVal")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-PT-95:Cmd_AckAlarm")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 632, 0x0008, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "Cmd_AckAlarm")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-PT-95:Cmd_ForceUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 632, 0x0010, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-PT-95:Cmd_DevLock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 632, 0x0020, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "Cmd_DevLock")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-PT-95:Cmd_DevUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 632, 0x0040, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "Cmd_DevUnlock")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-PT-95 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",              PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-95:P_Limit_HIHI")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 633, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HIHI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-95:P_Limit_HI")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 635, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-95:P_Limit_LO")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 637, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",              PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-95:P_Limit_LOLO")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 639, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LOLO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force pressure",          PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-95:P_ForceValue")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 641, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force pressure")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-PT-95:P_Faceplate_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 643, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-PT-95:P_BlockIcon_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 645, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-PT-95:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-PT-95:P_Limit_HIHI")
	field(LNK2, "Spk-000CDL:Cryo-PT-95:P_Limit_HI")
	field(LNK3, "Spk-000CDL:Cryo-PT-95:P_Limit_LO")
	field(LNK4, "Spk-000CDL:Cryo-PT-95:P_Limit_LOLO")
	field(LNK5, "Spk-000CDL:Cryo-PT-95:P_ForceValue")
	field(LNK6, "Spk-000CDL:Cryo-PT-95:P_Faceplate_LockID")
	field(LNK7, "Spk-000CDL:Cryo-PT-95:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Vac-VGC-071 ##########
##########
########## CommandWordsLength: 1
########## ParameterWordsLength: 14
########## StatusWordsLength: 25
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                             PT - Pressure Transmitter in mbar                            ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################         Version: 1.1             ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    12-06-2018
#Version: v1.1
#Changes:
#1. Modified Alarm Signal section to be compatible with new format.
############################ Version: 1.0             ########################################
#Author:  Miklos Boros
#Date:    25-01-2018
#Version: v1.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Vac-VGC-071 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Vac-VGC-071:OpMode_FreeRun")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2904 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "OpMode_FreeRun")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Vac-VGC-071:OpMode_Forced")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2904 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "OpMode_Forced")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",           PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Vac-VGC-071:Inhibit_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2904 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "Inhibit_Manual")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",            PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Vac-VGC-071:Inhibit_Force")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2904 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "Inhibit_Force")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",          PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Vac-VGC-071:Inhibit_Lock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2904 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "Inhibit_Lock")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Spk-000CDL:Vac-VGC-071:TransmitterColor")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2906 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "TransmitterColor")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Vac-VGC-071:EnableFreeRunBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2908 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "EnableFreeRunBtn")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Vac-VGC-071:EnableManualBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2908 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "EnableManualBtn")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Vac-VGC-071:EnableForcedBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2908 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "EnableForcedBtn")
}

#<<<--- add_analog("ScaleLOW",                 "REAL",                           PV_DESC="Scale LOW",               PV_EGU="mBar")
record(ai, "Spk-000CDL:Vac-VGC-071:ScaleLOW")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2910 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Scale LOW")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "ScaleLOW")
}

#<<<--- add_analog("ScaleHIGH",                "REAL",                           PV_DESC="Scale HIGH",              PV_EGU="mBar")
record(ai, "Spk-000CDL:Vac-VGC-071:ScaleHIGH")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2914 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Scale HIGH")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "ScaleHIGH")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",                           PV_DESC="Pressure Value",          PV_EGU="mBar")
record(ai, "Spk-000CDL:Vac-VGC-071:MeasValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2918 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Pressure Value")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "MeasValue")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Vac-VGC-071:DevLocked")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2922 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "DevLocked")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Vac-VGC-071:Faceplate_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2924 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "Faceplate_LockID")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Vac-VGC-071:BlockIcon_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2928 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "BlockIcon_LockID")
}


#Alarm signals
#<<<--- add_major_alarm("LatchAlarm",          "Latching of alarms",             PV_ZNAM="True")
record(bi, "Spk-000CDL:Vac-VGC-071:LatchAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2932 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Latching of alarms")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "LatchAlarm")
}

#<<<--- add_major_alarm("GroupAlarm",          "GroupAlarm",                     PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Vac-VGC-071:GroupAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2932 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "GroupAlarm")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "GroupAlarm")
}

#<<<--- add_major_alarm("Underrange",          "Pressure Underrange",            PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Vac-VGC-071:Underrange")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2932 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "Underrange")
}

#<<<--- add_major_alarm("Overrange",           "Pressure Overrange",             PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Vac-VGC-071:Overrange")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2932 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "Overrange")
}

#<<<--- add_major_alarm("HIHI",                "Pressure HIHI",                  PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Vac-VGC-071:HIHI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2932 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "HIHI")
}

#<<<--- add_minor_alarm("HI",                  "Pressure HI",                    PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Vac-VGC-071:HI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2932 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "HI")
}

#<<<--- add_minor_alarm("LO",                  "Pressure LO",                    PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Vac-VGC-071:LO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2932 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "LO")
}

#<<<--- add_major_alarm("LOLO",                "Pressure LOLO",                  PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Vac-VGC-071:LOLO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2932 T=UINT16 B=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "LOLO")
}

#<<<--- add_major_alarm("IO_Error",            "IO_Error",                       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Vac-VGC-071:IO_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2932 T=UINT16 B=8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "IO_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "IO_Error")
}

#<<<--- add_major_alarm("Module_Error",        "Module_Error",                   PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Vac-VGC-071:Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2932 T=UINT16 B=9")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "Module_Error")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Pressure", PV_EGU="mBar")
record(ai, "Spk-000CDL:Vac-VGC-071:FB_ForceValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2934 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Force Pressure")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "FB_ForceValue")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",     PV_EGU="mBar")
record(ai, "Spk-000CDL:Vac-VGC-071:FB_Limit_HIHI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2938 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "FB_Limit_HIHI")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",       PV_EGU="mBar")
record(ai, "Spk-000CDL:Vac-VGC-071:FB_Limit_HI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2942 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "FB_Limit_HI")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",       PV_EGU="mBar")
record(ai, "Spk-000CDL:Vac-VGC-071:FB_Limit_LO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2946 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "FB_Limit_LO")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",     PV_EGU="mBar")
record(ai, "Spk-000CDL:Vac-VGC-071:FB_Limit_LOLO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2950 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "FB_Limit_LOLO")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Vac-VGC-071 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Spk-000CDL:Vac-VGC-071:Cmd_FreeRun")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 647, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "Cmd_FreeRun")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Vac-VGC-071:Cmd_Force")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 647, 0x0002, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "Cmd_Force")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Spk-000CDL:Vac-VGC-071:Cmd_ForceVal")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 647, 0x0004, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "Cmd_ForceVal")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Vac-VGC-071:Cmd_AckAlarm")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 647, 0x0008, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "Cmd_AckAlarm")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Vac-VGC-071:Cmd_ForceUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 647, 0x0010, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Vac-VGC-071:Cmd_DevLock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 647, 0x0020, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "Cmd_DevLock")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Vac-VGC-071:Cmd_DevUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 647, 0x0040, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "Cmd_DevUnlock")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Vac-VGC-071 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",              PV_EGU="mBar")
record(ao, "Spk-000CDL:Vac-VGC-071:P_Limit_HIHI")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 648, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HIHI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                PV_EGU="mBar")
record(ao, "Spk-000CDL:Vac-VGC-071:P_Limit_HI")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 650, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                PV_EGU="mBar")
record(ao, "Spk-000CDL:Vac-VGC-071:P_Limit_LO")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 652, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",              PV_EGU="mBar")
record(ao, "Spk-000CDL:Vac-VGC-071:P_Limit_LOLO")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 654, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LOLO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force pressure",          PV_EGU="mBar")
record(ao, "Spk-000CDL:Vac-VGC-071:P_ForceValue")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 656, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force pressure")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Vac-VGC-071:P_Faceplate_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 658, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Vac-VGC-071:P_BlockIcon_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 660, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Vac-VGC-071:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Vac-VGC-071:P_Limit_HIHI")
	field(LNK2, "Spk-000CDL:Vac-VGC-071:P_Limit_HI")
	field(LNK3, "Spk-000CDL:Vac-VGC-071:P_Limit_LO")
	field(LNK4, "Spk-000CDL:Vac-VGC-071:P_Limit_LOLO")
	field(LNK5, "Spk-000CDL:Vac-VGC-071:P_ForceValue")
	field(LNK6, "Spk-000CDL:Vac-VGC-071:P_Faceplate_LockID")
	field(LNK7, "Spk-000CDL:Vac-VGC-071:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Vac-VGP-070 ##########
##########
########## CommandWordsLength: 1
########## ParameterWordsLength: 14
########## StatusWordsLength: 25
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                             PT - Pressure Transmitter in mbar                            ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################         Version: 1.1             ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    12-06-2018
#Version: v1.1
#Changes:
#1. Modified Alarm Signal section to be compatible with new format.
############################ Version: 1.0             ########################################
#Author:  Miklos Boros
#Date:    25-01-2018
#Version: v1.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Vac-VGP-070 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Vac-VGP-070:OpMode_FreeRun")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2954 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "OpMode_FreeRun")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Vac-VGP-070:OpMode_Forced")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2954 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "OpMode_Forced")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",           PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Vac-VGP-070:Inhibit_Manual")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2954 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "Inhibit_Manual")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",            PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Vac-VGP-070:Inhibit_Force")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2954 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "Inhibit_Force")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",          PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Vac-VGP-070:Inhibit_Lock")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2954 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "Inhibit_Lock")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Spk-000CDL:Vac-VGP-070:TransmitterColor")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2956 T=INT16")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "TransmitterColor")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Vac-VGP-070:EnableFreeRunBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2958 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "EnableFreeRunBtn")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Vac-VGP-070:EnableManualBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2958 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "EnableManualBtn")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Vac-VGP-070:EnableForcedBtn")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2958 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "EnableForcedBtn")
}

#<<<--- add_analog("ScaleLOW",                 "REAL",                           PV_DESC="Scale LOW",               PV_EGU="mBar")
record(ai, "Spk-000CDL:Vac-VGP-070:ScaleLOW")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2960 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Scale LOW")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "ScaleLOW")
}

#<<<--- add_analog("ScaleHIGH",                "REAL",                           PV_DESC="Scale HIGH",              PV_EGU="mBar")
record(ai, "Spk-000CDL:Vac-VGP-070:ScaleHIGH")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2964 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Scale HIGH")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "ScaleHIGH")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",                           PV_DESC="Pressure Value",          PV_EGU="mBar")
record(ai, "Spk-000CDL:Vac-VGP-070:MeasValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2968 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Pressure Value")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "MeasValue")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Vac-VGP-070:DevLocked")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2972 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "DevLocked")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Vac-VGP-070:Faceplate_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2974 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "Faceplate_LockID")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Vac-VGP-070:BlockIcon_LockID")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2978 T=INT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "BlockIcon_LockID")
}


#Alarm signals
#<<<--- add_major_alarm("LatchAlarm",          "Latching of alarms",             PV_ZNAM="True")
record(bi, "Spk-000CDL:Vac-VGP-070:LatchAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2982 T=UINT16 B=0")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Latching of alarms")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "LatchAlarm")
}

#<<<--- add_major_alarm("GroupAlarm",          "GroupAlarm",                     PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Vac-VGP-070:GroupAlarm")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2982 T=UINT16 B=1")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "GroupAlarm")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "GroupAlarm")
}

#<<<--- add_major_alarm("Underrange",          "Pressure Underrange",            PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Vac-VGP-070:Underrange")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2982 T=UINT16 B=2")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "Underrange")
}

#<<<--- add_major_alarm("Overrange",           "Pressure Overrange",             PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Vac-VGP-070:Overrange")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2982 T=UINT16 B=3")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "Overrange")
}

#<<<--- add_major_alarm("HIHI",                "Pressure HIHI",                  PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Vac-VGP-070:HIHI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2982 T=UINT16 B=4")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "HIHI")
}

#<<<--- add_minor_alarm("HI",                  "Pressure HI",                    PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Vac-VGP-070:HI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2982 T=UINT16 B=5")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "HI")
}

#<<<--- add_minor_alarm("LO",                  "Pressure LO",                    PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Vac-VGP-070:LO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2982 T=UINT16 B=6")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "LO")
}

#<<<--- add_major_alarm("LOLO",                "Pressure LOLO",                  PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Vac-VGP-070:LOLO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2982 T=UINT16 B=7")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "LOLO")
}

#<<<--- add_major_alarm("IO_Error",            "IO_Error",                       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Vac-VGP-070:IO_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2982 T=UINT16 B=8")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "IO_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "IO_Error")
}

#<<<--- add_major_alarm("Module_Error",        "Module_Error",                   PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Vac-VGP-070:Module_Error")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2982 T=UINT16 B=9")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "Module_Error")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Pressure", PV_EGU="mBar")
record(ai, "Spk-000CDL:Vac-VGP-070:FB_ForceValue")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2984 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Force Pressure")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "FB_ForceValue")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",     PV_EGU="mBar")
record(ai, "Spk-000CDL:Vac-VGP-070:FB_Limit_HIHI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2988 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "FB_Limit_HIHI")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",       PV_EGU="mBar")
record(ai, "Spk-000CDL:Vac-VGP-070:FB_Limit_HI")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2992 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "FB_Limit_HI")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",       PV_EGU="mBar")
record(ai, "Spk-000CDL:Vac-VGP-070:FB_Limit_LO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/2996 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "FB_Limit_LO")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",     PV_EGU="mBar")
record(ai, "Spk-000CDL:Vac-VGP-070:FB_Limit_LOLO")
{
	field(SCAN, "I/O Intr")
	field(DTYP, "S7plc")
	field(INP,  "@$(PLCNAME)/3000 T=FLOAT32")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "FB_Limit_LOLO")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Vac-VGP-070 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Spk-000CDL:Vac-VGP-070:Cmd_FreeRun")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 662, 0x0001, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "Cmd_FreeRun")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Vac-VGP-070:Cmd_Force")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 662, 0x0002, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "Cmd_Force")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Spk-000CDL:Vac-VGP-070:Cmd_ForceVal")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 662, 0x0004, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "Cmd_ForceVal")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Vac-VGP-070:Cmd_AckAlarm")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 662, 0x0008, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "Cmd_AckAlarm")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Vac-VGP-070:Cmd_ForceUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 662, 0x0010, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Vac-VGP-070:Cmd_DevLock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 662, 0x0020, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "Cmd_DevLock")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Vac-VGP-070:Cmd_DevUnlock")
{
	field(DTYP, "asynUInt32Digital")
	field(OUT,  "@asynMask($(PLCNAME)write, 662, 0x0040, 100)")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "Cmd_DevUnlock")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Vac-VGP-070 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",              PV_EGU="mBar")
record(ao, "Spk-000CDL:Vac-VGP-070:P_Limit_HIHI")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 663, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HIHI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                PV_EGU="mBar")
record(ao, "Spk-000CDL:Vac-VGP-070:P_Limit_HI")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 665, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                PV_EGU="mBar")
record(ao, "Spk-000CDL:Vac-VGP-070:P_Limit_LO")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 667, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",              PV_EGU="mBar")
record(ao, "Spk-000CDL:Vac-VGP-070:P_Limit_LOLO")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 669, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LOLO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force pressure",          PV_EGU="mBar")
record(ao, "Spk-000CDL:Vac-VGP-070:P_ForceValue")
{
	field(DTYP, "asynFloat64")
	field(OUT,  "@asyn($(PLCNAME)write, 671, 100)FLOAT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force pressure")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Vac-VGP-070:P_Faceplate_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 673, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Vac-VGP-070:P_BlockIcon_LockID")
{
	field(DTYP, "asynInt32")
	field(OUT,  "@asyn($(PLCNAME)write, 675, 100)INT32_BE")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	field(FLNK, "Spk-000CDL:Cryo-PLC-010:#plcfDoneUploadStat")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Vac-VGP-070:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Vac-VGP-070:P_Limit_HIHI")
	field(LNK2, "Spk-000CDL:Vac-VGP-070:P_Limit_HI")
	field(LNK3, "Spk-000CDL:Vac-VGP-070:P_Limit_LO")
	field(LNK4, "Spk-000CDL:Vac-VGP-070:P_Limit_LOLO")
	field(LNK5, "Spk-000CDL:Vac-VGP-070:P_ForceValue")
	field(LNK6, "Spk-000CDL:Vac-VGP-070:P_Faceplate_LockID")
	field(LNK7, "Spk-000CDL:Vac-VGP-070:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}



record(fanout, "Spk-000CDL:Cryo-PLC-010:UploadParametersCmd")
{
	alias("Spk-000CDL:Cryo-PLC-010:UploadParametersS")

	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:#plcfInitUploadStat")
	field(LNK1, "Spk-000CDL:SC-FSM-300:#plcfDUplParamsCmd")
	field(LNK2, "Spk-000CDL:Cryo-PID-91:#plcfDUplParamsCmd")
	field(LNK3, "Spk-000CDL:Cryo-PID-92:#plcfDUplParamsCmd")
	field(LNK4, "Spk-000CDL:Cryo-PID-93:#plcfDUplParamsCmd")
	field(LNK5, "Spk-000CDL:Cryo-PID-94:#plcfDUplParamsCmd")
	field(LNK6, "Spk-000CDL:Cryo-CV-91:#plcfDUplParamsCmd")
	field(LNK7, "Spk-000CDL:Cryo-CV-92:#plcfDUplParamsCmd")
	field(LNK8, "Spk-000CDL:Cryo-CV-93:#plcfDUplParamsCmd")
	field(LNK9, "Spk-000CDL:Cryo-CV-94:#plcfDUplParamsCmd")
	field(LNKA, "Spk-000CDL:Cryo-EH-91:#plcfDUplParamsCmd")
	field(LNKB, "Spk-000CDL:Cryo-EH-92:#plcfDUplParamsCmd")
	field(LNKC, "Spk-000CDL:Cryo-EH-93:#plcfDUplParamsCmd")
	field(LNKD, "Spk-000CDL:Cryo-EH-94:#plcfDUplParamsCmd")
	field(LNKE, "Spk-000CDL:Cryo-EH-95:#plcfDUplParamsCmd")
	field(LNKF, "Spk-000CDL:Cryo-EH-96:#plcfDUplParamsCmd")
	field(FLNK, "Spk-000CDL:Cryo-PLC-010:#plcfGUplParam01-FO")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}

record(fanout, "Spk-000CDL:Cryo-PLC-010:#plcfGUplParam01-FO")
{
	field(DESC, "Upload parameter values")
	field(LNK1, "Spk-000CDL:Cryo-HV-70:#plcfDUplParamsCmd")
	field(LNK2, "Spk-000CDL:Cryo-HV-73:#plcfDUplParamsCmd")
	field(LNK3, "Spk-000CDL:Cryo-TT-91:#plcfDUplParamsCmd")
	field(LNK4, "Spk-000CDL:Cryo-TT-92:#plcfDUplParamsCmd")
	field(LNK5, "Spk-000CDL:Cryo-TT-93:#plcfDUplParamsCmd")
	field(LNK6, "Spk-000CDL:Cryo-TT-94:#plcfDUplParamsCmd")
	field(LNK7, "Spk-000CDL:Cryo-TT-95:#plcfDUplParamsCmd")
	field(LNK8, "Spk-000CDL:Cryo-TT-96:#plcfDUplParamsCmd")
	field(LNK9, "Spk-000CDL:Cryo-TT-97:#plcfDUplParamsCmd")
	field(LNKA, "Spk-000CDL:Cryo-TT-98:#plcfDUplParamsCmd")
	field(LNKB, "Spk-000CDL:Cryo-LT-91:#plcfDUplParamsCmd")
	field(LNKC, "Spk-000CDL:Cryo-LT-92:#plcfDUplParamsCmd")
	field(LNKD, "Spk-000CDL:Cryo-PT-91:#plcfDUplParamsCmd")
	field(LNKE, "Spk-000CDL:Cryo-PT-92:#plcfDUplParamsCmd")
	field(LNKF, "Spk-000CDL:Cryo-PT-93:#plcfDUplParamsCmd")
	field(FLNK, "Spk-000CDL:Cryo-PLC-010:#plcfGUplParam02-FO")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}

record(fanout, "Spk-000CDL:Cryo-PLC-010:#plcfGUplParam02-FO")
{
	field(DESC, "Upload parameter values")
	field(LNK1, "Spk-000CDL:Cryo-PT-94:#plcfDUplParamsCmd")
	field(LNK2, "Spk-000CDL:Cryo-PT-95:#plcfDUplParamsCmd")
	field(LNK3, "Spk-000CDL:Vac-VGC-071:#plcfDUplParamsCmd")
	field(LNK4, "Spk-000CDL:Vac-VGP-070:#plcfDUplParamsCmd")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}

record(bo, "Spk-000CDL:Cryo-PLC-010:#plcfInitUploadStat")
{
	field(DESC, "Initialize parameter uploading status")
	field(DOL,  "Spk-000CDL:Cryo-PLC-010:#plcfC1")
	field(OMSL, "closed_loop")
	field(OUT,  "Spk-000CDL:Cryo-PLC-010:#plcfUploadStatToPLCS PP")
}

record(longout, "Spk-000CDL:Cryo-PLC-010:#plcfDoneUploadStat")
{
	field(DESC, "Done parameter uploading status")
	field(DOL,  "Spk-000CDL:Cryo-PLC-010:#plcfC2")
	field(OMSL, "closed_loop")
	field(OUT,  "Spk-000CDL:Cryo-PLC-010:#plcfUploadStatToPLCS PP")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:UploadStat-RB")
	field(DISV, "0")
}

#If PLC says we are uploading but #plcfInitUploadStat was never processed ==> reset upload status in the PLC
record(calcout, "Spk-000CDL:Cryo-PLC-010:#plcfAssertUplStat")
{
	field(DESC, "Assert validity of upload statistics")
	field(INPA, "Spk-000CDL:Cryo-PLC-010:UploadStat-RB CP")
	field(INPB, "Spk-000CDL:Cryo-PLC-010:#plcfInitUploadStat.UDF")
	field(CALC, "A == 1 && B == 1")
	field(OOPT, "When Non-zero")
	field(DOPT, "Use OCAL")
	field(OCAL, "0")
	field(OUT,  "Spk-000CDL:Cryo-PLC-010:#plcfUploadStatToPLCS PP")
}

