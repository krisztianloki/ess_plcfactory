
################################################################################
#
# This file was autogenerated by PLCFactory
# Please, DO NOT EDIT by hand!
#
#
# PLC-IOC Hash: 457744924
# Timestamp: 20220922093722
# Branch of PLCFactory: master
# Commit id of PLCFactory: fb3b582a9a66e37ff877560bc4f23ab7654f4230
# Status of PLCFactory working copy: Clean
# Command line:
#
# plcfactory.py --device Spk-000CDL:Cryo-PLC-010 --plc-siemens --ioc --ioc-git-commit-message=auto --plc-diag
#
################################################################################

#
# This shows the module version that was 'required'
#
record(stringin, "Spk-000CDL:Cryo-PLC-010:ModVersionR")
{
	field(DESC,	"Module version")
	field(DISP,	"1")
	field(VAL,	"$(MODVERSION=20220922093722)")
	field(PINI,	"YES")
}

#
# This can be used to get the branch of PLCFactory that was used to generate this file
#
record(stringin, "Spk-000CDL:Cryo-PLC-010:PLCFBranchR")
{
	field(DESC,	"Branch of PLCFactory")
	field(DISP,	"1")
#master
	field(VAL,	"master")
	field(PINI,	"YES")
	info("plcf_branch", "master")
}

#
# This can be used to get the exact same version of PLCFactory that was used to generate this file
#
record(stringin, "Spk-000CDL:Cryo-PLC-010:PLCFCommitR")
{
	field(DESC,	"Commit hash of PLCFactory")
	field(DISP,	"1")
#fb3b582a9a66e37ff877560bc4f23ab7654f4230
	field(VAL,	"fb3b582a9a66e37ff877560bc4f23ab7654f423")
	field(PINI,	"YES")
	info("plcf_commit", "fb3b582a9a66e37ff877560bc4f23ab7654f4230")
}

#
# This shows if the PLCFactory working copy was clean when this file was generated
#
record(bi, "Spk-000CDL:Cryo-PLC-010:PLCFStatusR")
{
	field(DESC,	"Status of PLCFactory")
	field(DISP,	"1")
	field(ZNAM,	"Dirty")
	field(ONAM,	"Clean")
	field(VAL,	"1")
	field(PINI,	"YES")
}

#
# This shows when PLCFactory was run to generate this file
#
record(stringin, "Spk-000CDL:Cryo-PLC-010:PLCFTimestampR")
{
	field(DESC,	"Timestamp when PLCFactory was run")
	field(DISP,	"1")
	field(VAL,	"20220922093722")
	field(PINI,	"YES")
	info("plcf_timestamp", "20220922093722")
}

#
# These are used in DOL links
#
record(bi, "Spk-000CDL:Cryo-PLC-010:#plcfC1")
{
	field(DESC,	"Constant 1")
	field(DISP,	"1")
	field(PINI,	"YES")
	field(VAL,	"1")
}

record(longin, "Spk-000CDL:Cryo-PLC-010:#plcfC2")
{
	field(DESC,	"Constant 2")
	field(DISP,	"1")
	field(PINI,	"YES")
	field(VAL,	"2")
}


#########################################################
########## EPICS <-> PLC connection management ##########
#########################################################
record(bi, "Spk-000CDL:Cryo-PLC-010:ModbusConnectedR")
{
	field(DESC,	"Shows if the MODBUS channel connected")
	field(ONAM,	"Connected")
	field(ZNAM,	"Disconnected")
	field(ZSV,      "MAJOR")
	field(VAL,	"1")
	field(PINI,	"YES")
	field(FLNK,	"Spk-000CDL:Cryo-PLC-010:CommsHashToPLCS")
}
record(bi, "Spk-000CDL:Cryo-PLC-010:S7ConnectedR")
{
	field(DESC,	"Shows if the S7 channel is connected")
	field(ONAM,	"Connected")
	field(ZNAM,	"Disconnected")
	field(ZSV,      "MAJOR")
	field(VAL,	"1")
	field(PINI,	"YES")
}
record(calcout, "Spk-000CDL:Cryo-PLC-010:#plcfCalcConn")
{
# Need to explicitly scan because using multiple CPs is not robust
	field(SCAN,	"1 second")
	field(INPA,	"Spk-000CDL:Cryo-PLC-010:S7ConnectedR CP")
	field(INPB,	"Spk-000CDL:Cryo-PLC-010:ModbusConnectedR CP")
	field(CALC,	"A && B")
	field(OUT,	"Spk-000CDL:Cryo-PLC-010:ConnectedR PP")
}
record(bi, "Spk-000CDL:Cryo-PLC-010:ConnectedR")
{
	field(DESC,	"Shows if the PLC is connected")
	field(ONAM,	"Connected")
	field(ZNAM,	"Disconnected")
	field(ZSV,      "MAJOR")
}
record(event, "Spk-000CDL:Cryo-PLC-010:#plcfEvent")
{
	field(DESC,	"Generate S7plc event")
	field(SCAN,	".2 second")
	field(VAL,	"S7plc")
	field(DISV,	"0")
	field(SDIS,	"Spk-000CDL:Cryo-PLC-010:S7ConnectedR")
}
record(bi, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
{
	field(DESC,	"Shows if the comms hash is correct")
	field(ONAM,	"Correct")
	field(ZNAM,	"Incorrect")
	field(ZSV,      "MAJOR")
}
record(bi, "Spk-000CDL:Cryo-PLC-010:AliveR")
{
	alias("Spk-000CDL:Cryo-PLC-010:CommsOK")
	field(DESC,	"Shows if the PLC is sending heartbeats")
	field(ONAM,	"Alive")
	field(ZNAM,	"Not responding")
	field(ZSV,      "MAJOR")
}
record(calcout, "Spk-000CDL:Cryo-PLC-010:#plcfCheckHash")
{
	field(INPA,	"Spk-000CDL:Cryo-PLC-010:CommsHashToPLC")
	field(INPB,	"Spk-000CDL:Cryo-PLC-010:CommsHashFromPLCR")
	field(INPC,	"Spk-000CDL:Cryo-PLC-010:CommsHashFromPLCR.STAT")
	field(CALC,	"A == B && C == 0")
	field(OOPT,	"On Change")
	field(OUT,	"Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR PP")
}
record(bo, "Spk-000CDL:Cryo-PLC-010:#plcfGotHeartbeat")
{
	field(DESC,	"Update AliveR")
	field(DOL,	"Spk-000CDL:Cryo-PLC-010:#plcfC1")
	field(OMSL,	"closed_loop")
	field(OUT,	"Spk-000CDL:Cryo-PLC-010:#plcfKickAlive PP")
}
record(bo, "Spk-000CDL:Cryo-PLC-010:#plcfKickAlive")
{
	field(DESC,	"Set AliveR to true for 2 seconds")
	field(HIGH,	"2")
	field(OUT,	"Spk-000CDL:Cryo-PLC-010:AliveR PP")
}
record(longin, "Spk-000CDL:Cryo-PLC-010:UploadStat-RB")
{
	field(DESC,	"Parameter upload status from the PLC")
	field(DISS,	"INVALID")
	field(DISV,	"0")
	field(SDIS,	"Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR CP")
	info(autosaveFields_pass0, "VAL")
}

########################################################
########## EPICS -> PLC comms management data ##########
########################################################
record(ao, "Spk-000CDL:Cryo-PLC-010:CommsHashToPLC")
{
# Maintain compatibility with existing OPIs
	alias("Spk-000CDL:Cryo-PLC-010:iCommsHashToPLC")
	field(DISP,	"1")
	field(PINI,	"YES")
	field(VAL,	"457744924")
}
record(ao, "Spk-000CDL:Cryo-PLC-010:CommsHashToPLCS")
{
	field(DESC,	"Sends comms hash to PLC")
	field(OMSL,	"closed_loop")
	field(DOL,	"Spk-000CDL:Cryo-PLC-010:CommsHashToPLC")
	field(DISV,	"0")
	field(SDIS,	"Spk-000CDL:Cryo-PLC-010:ConnectedR")
}
record(calc, "Spk-000CDL:Cryo-PLC-010:#plcfCalcHeartbeatToPLC")
{
	field(SCAN,	"1 second")
	field(INPA,	"Spk-000CDL:Cryo-PLC-010:#plcfCalcHeartbeatToPLC.VAL")
	field(CALC,	"(A >= 32000)? 0 : A + 1")
	field(FLNK,	"Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(DISV,	"0")
	field(SDIS,	"Spk-000CDL:Cryo-PLC-010:ConnectedR")
}
record(ao, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
{
	field(DESC,	"Sends heartbeat to PLC")
	field(OMSL,	"closed_loop")
	field(DOL,	"Spk-000CDL:Cryo-PLC-010:#plcfCalcHeartbeatToPLC.VAL")
	field(OIF,	"Full")
	field(DRVL,	"0")
	field(DRVH,	"32000")
}
record(longout, "Spk-000CDL:Cryo-PLC-010:#plcfUploadStatToPLCS")
{
	field(DESC,	"Parameter upload status to the PLC")
	field(OUT,	"Spk-000CDL:Cryo-PLC-010:UploadStat-RB PP")
	field(DISV,	"0")
	field(SDIS,	"Spk-000CDL:Cryo-PLC-010:ConnectedR")
}

########################################################
########## PLC -> EPICS comms management data ##########
########################################################
record(ai, "Spk-000CDL:Cryo-PLC-010:CommsHashFromPLCR")
{
	field(DESC,	"Comms hash from PLC")
	field(SCAN,	"1 second")
	field(PINI,	"YES")
	field(VAL,	"457744924")
	field(FLNK,	"Spk-000CDL:Cryo-PLC-010:#plcfCheckHash")
}
record(ai, "Spk-000CDL:Cryo-PLC-010:HeartbeatFromPLCR")
{
	field(DESC,	"Heartbeat from PLC")
	field(INP,	"Spk-000CDL:Cryo-PLC-010:#plcfCalcHeartbeatToPLC.VAL CP")
	field(FLNK,	"Spk-000CDL:Cryo-PLC-010:#plcfGotHeartbeat")
}

########################################################
################# Test management data #################
########################################################
record(ao, "Spk-000CDL:Cryo-PLC-010:FixHashS")
{
	field(DESC,	"Make HASH correct")
	field(OMSL,	"closed_loop")
	field(DOL,	"Spk-000CDL:Cryo-PLC-010:CommsHashToPLC")
	field(OUT,	"Spk-000CDL:Cryo-PLC-010:CommsHashFromPLCR PP")
}

record(bo, "Spk-000CDL:Cryo-PLC-010:RuinHashS")
{
	field(DESC,	"Make HASH incorrect")
	field(FLNK,	"Spk-000CDL:Cryo-PLC-010:#plcfRuinHash")
}
record(calcout, "Spk-000CDL:Cryo-PLC-010:#plcfRuinHash")
{
	field(DESC,	"Make HASH incorrect")
	field(INPA,	"Spk-000CDL:Cryo-PLC-010:CommsHashToPLC")
	field(CALC,	"A * -1")
	field(OUT,	"Spk-000CDL:Cryo-PLC-010:CommsHashFromPLCR PP")
}

##########
########## Spk-000CDL:SC-FSM-300 ##########
##########
##########

##############################################################################################

#CONFIGURATION INTERFACE FOR

##############################################################################################
#Author:   ZMa
#Date:	    14-01-2020
#Version:  v1.1
#Note:
##############################################################################################
#Author:   EAsensi
#Date:	    26-01-2021
#Version:  v1.2
#Note: Shortened names for EPICS
##############################################################################################

############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:SC-FSM-300 PLC   -> EPICS status   ##########
##########

#<<<--- add_analog("Controlled_Device",		"INT",  			PV_DESC="Controlled Device")
record(ai, "Spk-000CDL:SC-FSM-300:Controlled_Device")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Controlled Device")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "Controlled_Device")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_string("Controlled_Dev_Msg",	39,             	PV_NAME="Controlled_Dev_Msg",   	PV_DESC="Controlled Device Message")
record(stringin, "Spk-000CDL:SC-FSM-300:Controlled_Dev_Msg")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Controlled Device Message")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "Controlled_Dev_Msg")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("OpMode",				"INT",          	PV_DESC="Operation Mode")
record(ai, "Spk-000CDL:SC-FSM-300:OpMode")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "OpMode")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_string("OpMode_Msg",			39,             	PV_NAME="OpMode_Msg",   			PV_DESC="Operation Mode Message")
record(stringin, "Spk-000CDL:SC-FSM-300:OpMode_Msg")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Message")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "OpMode_Msg")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("SS_ON",									PV_DESC="StandBy Setpoint On",   	 		PV_ONAM="True",	PV_ZNAM="False")
record(bi, "Spk-000CDL:SC-FSM-300:SS_ON")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "StandBy Setpoint On")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "SS_ON")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("SS_Setpoint",			"REAL",     		PV_DESC="SS Setpoint",						PV_EGU="%")
record(ai, "Spk-000CDL:SC-FSM-300:SS_Setpoint")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "SS Setpoint")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "SS_Setpoint")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_analog("Measuring_Device", 		"INT",  			PV_DESC="Measuring Dev Index")
record(ai, "Spk-000CDL:SC-FSM-300:Measuring_Device")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Measuring Dev Index")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "Measuring_Device")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_string("Measuring_Dev_Msg",		39,             	PV_NAME="Measuring_Dev_Msg",   	PV_DESC="Measuring Device Message")
record(stringin, "Spk-000CDL:SC-FSM-300:Measuring_Dev_Msg")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Measuring Device Message")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "Measuring_Dev_Msg")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("INT_Setpoint",			"REAL",     		PV_DESC="INT Setpoint")
record(ai, "Spk-000CDL:SC-FSM-300:INT_Setpoint")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "INT Setpoint")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "INT_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("LowLimit",				"REAL",     		PV_DESC="Low Limit for control")
record(ai, "Spk-000CDL:SC-FSM-300:LowLimit")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Low Limit for control")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "LowLimit")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("HighLimit",				"REAL",     		PV_DESC="High Limit for Control")
record(ai, "Spk-000CDL:SC-FSM-300:HighLimit")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "High Limit for Control")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "HighLimit")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Config_Fault",							PV_DESC="Faulty Set in Configuration",   	PV_ONAM="True",	PV_ZNAM="False")
record(bi, "Spk-000CDL:SC-FSM-300:Config_Fault")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Faulty Set in Configuration")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "Config_Fault")
	info(autosaveFields_pass0, "VAL")
}





############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:SC-FSM-300 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Get_Data",             			PV_DESC="CMD: Get Data")
record(bo, "Spk-000CDL:SC-FSM-300:Cmd_Get_Data")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Get Data")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "Cmd_Get_Data")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Set_Data",		                    PV_DESC="CMD: Set Data")
record(bo, "Spk-000CDL:SC-FSM-300:Cmd_Set_Data")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Set Data")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "Cmd_Set_Data")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Enable_AutoConf",                          PV_DESC="CMD: Enable Auto Mode Configuration")
record(bo, "Spk-000CDL:SC-FSM-300:Cmd_Enable_AutoConf")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Enable Auto Mode Configuration")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "Cmd_Enable_AutoConf")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Disable_AutoConf",                          PV_DESC="CMD: Disable Auto Mode Configuration")
record(bo, "Spk-000CDL:SC-FSM-300:Cmd_Disable_AutoConf")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Disable Auto Mode Configuration")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "Cmd_Disable_AutoConf")
	info(autosaveFields_pass0, "VAL")
}





############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:SC-FSM-300 EPICS -> PLC parameters ##########
##########

#<<<--- add_analog("P_Ctrld_Dev_Index",	"INT",  		PV_DESC="Controlled Device")
record(ao, "Spk-000CDL:SC-FSM-300:P_Ctrld_Dev_Index")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Controlled Device")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "P_Ctrld_Dev_Index")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_string("P_Ctrld_Dev_Name",	39,             PV_NAME="P_Controled_Dev_Name",   	PV_DESC="Controlled Device Name")
record(stringout, "Spk-000CDL:SC-FSM-300:P_Controled_Dev_Name")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Controlled Device Name")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "P_Ctrld_Dev_Name")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_OpMode_Index",		"INT",          	PV_DESC="Operation Mode")
record(ao, "Spk-000CDL:SC-FSM-300:P_OpMode_Index")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "P_OpMode_Index")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_string("P_OpMode_Name",		39,             PV_NAME="P_OpMode_Name",   	PV_DESC="Operation Mode Param")
record(stringout, "Spk-000CDL:SC-FSM-300:P_OpMode_Name")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Param")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "P_OpMode_Name")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("P_SS_ON",						PV_DESC="StandBy Setpoint On",   	 		PV_ONAM="True",	PV_ZNAM="False")
record(bo, "Spk-000CDL:SC-FSM-300:P_SS_ON")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "StandBy Setpoint On")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "P_SS_ON")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_SS_Setpoint",		"REAL",     		PV_DESC="SS Setpoint",						PV_EGU="%")
record(ao, "Spk-000CDL:SC-FSM-300:P_SS_Setpoint")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "SS Setpoint")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "P_SS_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Meas_Dev_Index", 	"INT",  		PV_DESC="Measuring Device_Index")
record(ao, "Spk-000CDL:SC-FSM-300:P_Meas_Dev_Index")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Measuring Device_Index")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "P_Meas_Dev_Index")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_string("P_Meas_Dev_Name",	39,             PV_NAME="P_Measuring_Dev_Name",   	PV_DESC="Measuring Device Param")
record(stringout, "Spk-000CDL:SC-FSM-300:P_Measuring_Dev_Name")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Measuring Device Param")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "P_Meas_Dev_Name")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_INT_Setpoint",		"REAL",     		PV_DESC="INT Setpoint")
record(ao, "Spk-000CDL:SC-FSM-300:P_INT_Setpoint")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "INT Setpoint")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "P_INT_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_LowLimit",		"REAL",     		PV_DESC="Low Limit for control")
record(ao, "Spk-000CDL:SC-FSM-300:P_LowLimit")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Low Limit for control")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "P_LowLimit")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_HighLimit",		"REAL",     		PV_DESC="High Limit for Control")
record(ao, "Spk-000CDL:SC-FSM-300:P_HighLimit")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "High Limit for Control")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-300_iDB")
	info("plc_variable", "P_HighLimit")
	info(autosaveFields_pass0, "VAL")
}




record(fanout, "Spk-000CDL:SC-FSM-300:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:SC-FSM-300:P_Ctrld_Dev_Index")
	field(LNK2, "Spk-000CDL:SC-FSM-300:P_Controled_Dev_Name")
	field(LNK3, "Spk-000CDL:SC-FSM-300:P_OpMode_Index")
	field(LNK4, "Spk-000CDL:SC-FSM-300:P_OpMode_Name")
	field(LNK5, "Spk-000CDL:SC-FSM-300:P_SS_ON")
	field(LNK6, "Spk-000CDL:SC-FSM-300:P_SS_Setpoint")
	field(LNK7, "Spk-000CDL:SC-FSM-300:P_Meas_Dev_Index")
	field(LNK8, "Spk-000CDL:SC-FSM-300:P_Measuring_Dev_Name")
	field(LNK9, "Spk-000CDL:SC-FSM-300:P_INT_Setpoint")
	field(LNKA, "Spk-000CDL:SC-FSM-300:P_LowLimit")
	field(LNKB, "Spk-000CDL:SC-FSM-300:P_HighLimit")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:SC-FSM-400 ##########
##########
##########

##############################################################################
#Type:     Cryo Systems
#Project:  C3S
#DevType:  C3S-:CRYO: DIAG - Diganostics
#Author:	Madi Zoltan
#Date:		05-10-2019
#Version:  v3.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:SC-FSM-400 PLC   -> EPICS status   ##########
##########

#Local modules connection state
#<<<--- add_digital("PS_Connected",                          PV_DESC="LM Siemens PS connected",      PV_ONAM="Connected",        PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:PS_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens PS connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "PS_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CPU_Connected",                         PV_DESC="LM Siemens CPU connected",      PV_ONAM="Connected",        PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CPU_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens CPU connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CPU_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("KF2_Connected",                         PV_DESC="LM Siemens KF3 connected",      PV_ONAM="Connected",        PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:KF2_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF3 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF2_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("KF3_Connected",                         PV_DESC="LM Siemens KF3 connected",      PV_ONAM="Connected",        PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:KF3_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF3 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF3_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("KF4_Connected",                         PV_DESC="LM Siemens KF4 connected",      PV_ONAM="Connected",        PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:KF4_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF4 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF4_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("KF5_Connected",                         PV_DESC="LM Siemens KF5 connected",      PV_ONAM="Connected",        PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:KF5_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF5 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF5_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("KF6_Connected",                         PV_DESC="LM Siemens KF6 connected",      PV_ONAM="Connected",        PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:KF6_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF6 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF6_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("KF7_Connected",                         PV_DESC="LM Siemens KF7 connected",      PV_ONAM="Connected",        PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:KF7_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF7 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF7_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("KF8_Connected",                         PV_DESC="LM Siemens KF8 connected",      PV_ONAM="Connected",        PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:KF8_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF8 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF8_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("KF9_Connected",                         PV_DESC="LM Siemens KF9 connected",      PV_ONAM="Connected",        PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:KF9_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF9 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF9_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("KF10_Connected",                        PV_DESC="LM Siemens KF10 connected",     PV_ONAM="Connected",        PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:KF10_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF10 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF10_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("KF11_Connected",                        PV_DESC="LM Siemens KF11 connected",     PV_ONAM="Connected",        PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:KF11_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF11 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF11_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("KF12_Connected",                        PV_DESC="LM Siemens KF12 connected",     PV_ONAM="Connected",        PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:KF12_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF12 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF12_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("KF13_Connected",                        PV_DESC="LM Siemens KF12 connected",     PV_ONAM="Connected",        PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:KF13_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF12 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF13_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("KF14_Connected",                        PV_DESC="LM Siemens KF12 connected",     PV_ONAM="Connected",        PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:KF14_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF12 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF14_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("KF15_Connected",                        PV_DESC="LM Siemens KF12 connected",     PV_ONAM="Connected",        PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:KF15_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF12 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF15_Connected")
	info(autosaveFields_pass0, "VAL")
}


#RIO1 connection state
#<<<--- add_digital("RIO1_Connected",                           PV_DESC="RIO1 connected",                    PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("RIO1_KF2_Connected",                       PV_DESC="RIO1 KF2 connected",                PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF2_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF2 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF2_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("RIO1_KF3_Connected",                       PV_DESC="RIO1 KF3 connected",                PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF3_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF3 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF3_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("RIO1_KF4_Connected",                       PV_DESC="RIO1 KF4 connected",                PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF4_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF4 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF4_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("RIO1_KF5_Connected",                       PV_DESC="RIO1 KF5 connected",                PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF5_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF5 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF5_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("RIO1_KF6_Connected",                       PV_DESC="RIO1 KF6 connected",                PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF6_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF6 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF6_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("RIO1_KF7_Connected",                       PV_DESC="RIO1 KF7 connected",                PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF7_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF7 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF7_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("RIO1_KF8_Connected",                       PV_DESC="RIO1 KF8 connected",                PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF8_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF8 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF8_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("RIO1_KF9_Connected",                       PV_DESC="RIO1 KF9 connected",                PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF9_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF9 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF9_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("RIO1_KF10_Connected",                      PV_DESC="RIO1 KF10 connected",               PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF10_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF10 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF10_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("RIO1_KF11_Connected",                      PV_DESC="RIO1 KF11 connected",               PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF11_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF11 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF11_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("RIO1_KF12_Connected",                      PV_DESC="RIO1 KF12 connected",               PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF12_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF12 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF12_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("RIO1_KF13_Connected",                      PV_DESC="RIO1 KF13 connected",               PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF13_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF13 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF13_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("RIO1_KF14_Connected",                      PV_DESC="RIO1 KF14 connected",               PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF14_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF14 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF14_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("RIO1_KF15_Connected",                      PV_DESC="RIO1 KF15 connected",               PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF15_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF15 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF15_Connected")
	info(autosaveFields_pass0, "VAL")
}


#Lakeshore connection state
#<<<--- add_digital("LKSR01_Connected",						 PV_DESC="Lakeshore 01 connected",               PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:LKSR01_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Lakeshore 01 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "LKSR01_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("LKSR02_Connected",						 PV_DESC="Lakeshore 02 connected",               PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:LKSR02_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Lakeshore 02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "LKSR02_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("LKSR03_Connected",						 PV_DESC="Lakeshore 03 connected",               PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:LKSR03_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Lakeshore 03 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "LKSR03_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("LKSR04_Connected",						 PV_DESC="Lakeshore 04 connected",               PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:LKSR04_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Lakeshore 04 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "LKSR04_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("LKSR05_Connected",						 PV_DESC="Lakeshore 05 connected",               PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:LKSR05_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Lakeshore 05 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "LKSR05_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("LKSR06_Connected",						 PV_DESC="Lakeshore 06 connected",               PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:LKSR06_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Lakeshore 06 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "LKSR06_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("LKSR07_Connected",						 PV_DESC="Lakeshore 07 connected",               PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:LKSR07_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Lakeshore 07 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "LKSR07_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("LKSR08_Connected",						 PV_DESC="Lakeshore 08 connected",               PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:LKSR08_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Lakeshore 08 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "LKSR08_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("LKSR09_Connected",						 PV_DESC="Lakeshore 09 connected",               PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:LKSR09_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Lakeshore 09 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "LKSR09_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("LKSR10_Connected",						 PV_DESC="Lakeshore 10 connected",               PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:LKSR10_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Lakeshore 10 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "LKSR10_Connected")
	info(autosaveFields_pass0, "VAL")
}


#CV connection state
#<<<--- add_digital("CV01_Connected",                            PV_DESC="CV01 connected",                    PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV01_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV01 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV01_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV02_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV02_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV02_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV03_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV03_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV03_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV04_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV04_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV04_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV05_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV05_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV05_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV06_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV06_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV06_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV11_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV11_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV11_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV12_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV12_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV12_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV21_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV21_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV21_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV22_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV22_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV22_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV32_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV32_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV32_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV42_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV42_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV42_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV60_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV60_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV60_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV61_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV61_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV61_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV62_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV62_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV62_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV63_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV63_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV63_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV71_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV71_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV71_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV80_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV80_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV80_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV81_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV81_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV81_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV91_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV91_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV91_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV92_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV92_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV92_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV93_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV93_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV93_Connected")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV94_Connected",							 PV_DESC="CV02 connected",					  PV_ONAM="Connected",               PV_ZNAM="Disconnected")
record(bi, "Spk-000CDL:SC-FSM-400:CV94_Connected")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 connected")
	field(ONAM, "Connected")
	field(ZNAM, "Disconnected")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV94_Connected")
	info(autosaveFields_pass0, "VAL")
}


#ErrorStatus

#Local modules error state
#<<<--- add_digital("PS_Status",                          PV_DESC="LM Siemens PS state",       PV_ONAM="OK",        PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:PS_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens PS state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "PS_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CPU_Status",                         PV_DESC="LM Siemens CPU state",      PV_ONAM="OK",        PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CPU_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens CPU state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CPU_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("KF2_Status",                         PV_DESC="LM Siemens KF3 state",      PV_ONAM="OK",        PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:KF2_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF3 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF2_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("KF3_Status",                         PV_DESC="LM Siemens KF3 state",      PV_ONAM="OK",        PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:KF3_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF3 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF3_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("KF4_Status",                         PV_DESC="LM Siemens KF4 state",      PV_ONAM="OK",        PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:KF4_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF4 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF4_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("KF5_Status",                         PV_DESC="LM Siemens KF5 state",      PV_ONAM="OK",        PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:KF5_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF5 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF5_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("KF6_Status",                         PV_DESC="LM Siemens KF6 state",      PV_ONAM="OK",        PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:KF6_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF6 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF6_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("KF7_Status",                         PV_DESC="LM Siemens KF7 state",      PV_ONAM="OK",        PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:KF7_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF7 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF7_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("KF8_Status",                         PV_DESC="LM Siemens KF8 state",      PV_ONAM="OK",        PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:KF8_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF8 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF8_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("KF9_Status",                         PV_DESC="LM Siemens KF9 state",      PV_ONAM="OK",        PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:KF9_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF9 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF9_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("KF10_Status",                        PV_DESC="LM Siemens KF10 state",     PV_ONAM="OK",        PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:KF10_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF10 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF10_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("KF11_Status",                        PV_DESC="LM Siemens KF11 state",     PV_ONAM="OK",        PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:KF11_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF11 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF11_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("KF12_Status",                        PV_DESC="LM Siemens KF12 state",     PV_ONAM="OK",        PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:KF12_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF12 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF12_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("KF13_Status",                        PV_DESC="LM Siemens KF12 state",     PV_ONAM="OK",        PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:KF13_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF12 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF13_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("KF14_Status",                        PV_DESC="LM Siemens KF12 state",     PV_ONAM="OK",        PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:KF14_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF12 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF14_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("KF15_Status",                        PV_DESC="LM Siemens KF12 state",     PV_ONAM="OK",        PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:KF15_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "LM Siemens KF12 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "KF15_Status")
	info(autosaveFields_pass0, "VAL")
}


#RIO1 error state
#<<<--- add_digital("RIO1_Status",                           PV_DESC="RIO1 state",                    PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("RIO1_KF2_Status",                       PV_DESC="RIO1 KF2 state",                PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF2_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF2 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF2_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("RIO1_KF3_Status",                       PV_DESC="RIO1 KF3 state",                PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF3_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF3 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF3_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("RIO1_KF4_Status",                       PV_DESC="RIO1 KF4 state",                PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF4_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF4 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF4_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("RIO1_KF5_Status",                       PV_DESC="RIO1 KF5 state",                PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF5_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF5 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF5_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("RIO1_KF6_Status",                       PV_DESC="RIO1 KF6 state",                PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF6_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF6 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF6_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("RIO1_KF7_Status",                       PV_DESC="RIO1 KF7 state",                PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF7_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF7 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF7_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("RIO1_KF8_Status",                       PV_DESC="RIO1 KF8 state",                PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF8_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF8 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF8_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("RIO1_KF9_Status",                       PV_DESC="RIO1 KF9 state",                PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF9_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF9 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF9_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("RIO1_KF10_Status",                      PV_DESC="RIO1 KF10 state",               PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF10_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF10 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF10_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("RIO1_KF11_Status",                      PV_DESC="RIO1 KF11 state",               PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF11_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF11 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF11_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("RIO1_KF12_Status",                      PV_DESC="RIO1 KF12 state",               PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF12_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF12 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF12_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("RIO1_KF13_Status",                      PV_DESC="RIO1 KF13 state",               PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF13_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF13 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF13_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("RIO1_KF14_Status",                      PV_DESC="RIO1 KF14 state",               PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF14_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF14 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF14_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("RIO1_KF15_Status",                      PV_DESC="RIO1 KF15 state",               PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:RIO1_KF15_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RIO1 KF15 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "RIO1_KF15_Status")
	info(autosaveFields_pass0, "VAL")
}


#Lakeshore error state
#<<<--- add_digital("LKSR01_Status",						 PV_DESC="Lakeshore 01 state",               PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:LKSR01_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Lakeshore 01 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "LKSR01_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("LKSR02_Status",						 PV_DESC="Lakeshore 02 state",               PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:LKSR02_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Lakeshore 02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "LKSR02_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("LKSR03_Status",						 PV_DESC="Lakeshore 03 state",               PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:LKSR03_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Lakeshore 03 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "LKSR03_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("LKSR04_Status",						 PV_DESC="Lakeshore 04 state",               PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:LKSR04_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Lakeshore 04 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "LKSR04_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("LKSR05_Status",						 PV_DESC="Lakeshore 05 state",               PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:LKSR05_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Lakeshore 05 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "LKSR05_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("LKSR06_Status",						 PV_DESC="Lakeshore 06 state",               PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:LKSR06_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Lakeshore 06 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "LKSR06_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("LKSR07_Status",						 PV_DESC="Lakeshore 07 state",               PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:LKSR07_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Lakeshore 07 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "LKSR07_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("LKSR08_Status",						 PV_DESC="Lakeshore 08 state",               PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:LKSR08_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Lakeshore 08 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "LKSR08_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("LKSR09_Status",						 PV_DESC="Lakeshore 09 state",               PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:LKSR09_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Lakeshore 09 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "LKSR09_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("LKSR10_Status",						 PV_DESC="Lakeshore 10 state",               PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:LKSR10_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Lakeshore 10 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "LKSR10_Status")
	info(autosaveFields_pass0, "VAL")
}


#CV error state
#<<<--- add_digital("CV01_Status",                           PV_DESC="CV01 state",                    PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV01_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV01 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV01_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV02_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV02_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV02_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV03_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV03_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV03_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV04_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV04_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV04_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV05_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV05_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV05_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV06_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV06_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV06_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV11_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV11_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV11_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV12_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV12_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV12_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV21_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV21_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV21_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV22_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV22_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV22_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV32_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV32_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV32_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV42_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV42_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV42_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV60_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV60_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV60_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV61_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV61_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV61_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV62_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV62_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV62_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV63_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV63_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV63_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV71_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV71_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV71_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV80_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV80_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV80_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV81_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV81_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV81_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV91_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV91_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV91_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV92_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV92_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV92_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV93_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV93_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV93_Status")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("CV94_Status",							 PV_DESC="CV02 state",					  PV_ONAM="OK",               PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-400:CV94_Status")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CV02 state")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "CV94_Status")
	info(autosaveFields_pass0, "VAL")
}


############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:SC-FSM-400 EPICS -> PLC commands   ##########
##########

#<<<--- add_digital("Cmd_AckAlarm",                          PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:SC-FSM-400:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-400_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}






##########
########## Spk-000CDL:SC-FSM-500 ##########
##########
##########

##############################################################################
#Type:     Cryo Systems
#Project:  C3S
#DevType:  C3S-:CRYO: INTLCK - Interlocks
#Author:	Fenyvesi Gabor
#Date:		18-11-2019
#Version:  v1.0


############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:SC-FSM-500 PLC   -> EPICS status   ##########
##########

#Vacuum
#<<<--- add_digital("BeamVacuumOK",							PV_DESC="Beam Vacuum status",				PV_ONAM="OK",			PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-500:BeamVacuumOK")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Beam Vacuum status")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-500_iDB")
	info("plc_variable", "BeamVacuumOK")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("InsulationVacuumOK",					PV_DESC="Insulation Vacuum status",			PV_ONAM="OK",			PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-500:InsulationVacuumOK")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Insulation Vacuum status")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-500_iDB")
	info("plc_variable", "InsulationVacuumOK")
	info(autosaveFields_pass0, "VAL")
}


#PSS
#<<<--- add_digital("PressureHeGuardOK",					PV_DESC="Pressure of He-Guard status",		PV_ONAM="OK",			PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-500:PressureHeGuardOK")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Pressure of He-Guard status")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-500_iDB")
	info("plc_variable", "PressureHeGuardOK")
	info(autosaveFields_pass0, "VAL")
}


#RF
#<<<--- add_digital("RFON",									PV_DESC="RF state",							PV_ONAM="ON",			PV_ZNAM="OFF")
record(bi, "Spk-000CDL:SC-FSM-500:RFON")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RF state")
	field(ONAM, "ON")
	field(ZNAM, "OFF")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-500_iDB")
	info("plc_variable", "RFON")
	info(autosaveFields_pass0, "VAL")
}


#Water
#<<<--- add_digital("WaterOK",								PV_DESC="Water status",						PV_ONAM="OK",			PV_ZNAM="NOK")
record(bi, "Spk-000CDL:SC-FSM-500:WaterOK")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Water status")
	field(ONAM, "OK")
	field(ZNAM, "NOK")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-500_iDB")
	info("plc_variable", "WaterOK")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:SC-FSM-500 EPICS -> PLC commands   ##########
##########

#<<<--- add_digital("cmd_RFEnable",							PV_DESC="CMD: Enable RF")
record(bo, "Spk-000CDL:SC-FSM-500:cmd_RFEnable")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Enable RF")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-500_iDB")
	info("plc_variable", "cmd_RFEnable")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("cmd_RFDisable",						PV_DESC="CMD: Enable RF")
record(bo, "Spk-000CDL:SC-FSM-500:cmd_RFDisable")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Enable RF")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-500_iDB")
	info("plc_variable", "cmd_RFDisable")
	info(autosaveFields_pass0, "VAL")
}




##########
########## Spk-000CDL:SC-FSM-600 ##########
##########
##########

##############################################################################################

#MODE SELECTION INTERFACE

##############################################################################################
#Author:   ZMa
#Date:	    14-01-2020
#Version:  v1.1
#Note:
##############################################################################################
#Author:   EAsensi
#Date:	    26-01-2021
#Version:  v1.2
#Note: Shortened names for EPICS
##############################################################################################

############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:SC-FSM-600 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OM_Undefined",				PV_DESC="Operation Mode Undefined",   	 		PV_ONAM="True",	PV_ZNAM="False")
record(bi, "Spk-000CDL:SC-FSM-600:OM_Undefined")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Undefined")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "OM_Undefined")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OM_Stopped", 	            PV_DESC="Operation Mode Stopped",	    		PV_ONAM="True",	PV_ZNAM="False")
record(bi, "Spk-000CDL:SC-FSM-600:OM_Stopped")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Stopped")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "OM_Stopped")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OM_Purging",             	PV_DESC="Operation Mode Purging",      			PV_ONAM="True",	PV_ZNAM="False")
record(bi, "Spk-000CDL:SC-FSM-600:OM_Purging")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Purging")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "OM_Purging")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OM_Ready",             	PV_DESC="Operation Mode Ready",      			PV_ONAM="True",	PV_ZNAM="False")
record(bi, "Spk-000CDL:SC-FSM-600:OM_Ready")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Ready")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "OM_Ready")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OM_CoolDownTo4K",         	PV_DESC="Operation Mode Cool Down To 4K",   	PV_ONAM="True",	PV_ZNAM="False")
record(bi, "Spk-000CDL:SC-FSM-600:OM_CoolDownTo4K")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Cool Down To 4K")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "OM_CoolDownTo4K")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OM_StandBy4K",            	PV_DESC="Operation Mode Stand By 4K",      		PV_ONAM="True",	PV_ZNAM="False")
record(bi, "Spk-000CDL:SC-FSM-600:OM_StandBy4K")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Stand By 4K")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "OM_StandBy4K")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OM_CoolDownTo2K",        	PV_DESC="Operation Mode Cool Down To 2K",   	PV_ONAM="True",	PV_ZNAM="False")
record(bi, "Spk-000CDL:SC-FSM-600:OM_CoolDownTo2K")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Cool Down To 2K")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "OM_CoolDownTo2K")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OM_StandBy2K",            	PV_DESC="Operation Mode Stand By 2K",      		PV_ONAM="True",	PV_ZNAM="False")
record(bi, "Spk-000CDL:SC-FSM-600:OM_StandBy2K")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Stand By 2K")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "OM_StandBy2K")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OM_Nominal2K_RF",        	PV_DESC="Operation Mode Nominal 2K + RF",   	PV_ONAM="True",	PV_ZNAM="False")
record(bi, "Spk-000CDL:SC-FSM-600:OM_Nominal2K_RF")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Nominal 2K + RF")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "OM_Nominal2K_RF")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OM_WarmUpTo4K",          	PV_DESC="Operation Mode Warm Up To 4K",     	PV_ONAM="True",	PV_ZNAM="False")
record(bi, "Spk-000CDL:SC-FSM-600:OM_WarmUpTo4K")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Warm Up To 4K")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "OM_WarmUpTo4K")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OM_WarmUpTo300K",        	PV_DESC="Operation Mode Warm Up To 300K",   	PV_ONAM="True",	PV_ZNAM="False")
record(bi, "Spk-000CDL:SC-FSM-600:OM_WarmUpTo300K")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Warm Up To 300K")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "OM_WarmUpTo300K")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OM_WarmUpTo80K",         	PV_DESC="Operation Mode Warm Up To 80K",    	PV_ONAM="True",	PV_ZNAM="False")
record(bi, "Spk-000CDL:SC-FSM-600:OM_WarmUpTo80K")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Warm Up To 80K")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "OM_WarmUpTo80K")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OM_StandBy80K",          	PV_DESC="Operation Mode Stand By 80K",      	PV_ONAM="True",	PV_ZNAM="False")
record(bi, "Spk-000CDL:SC-FSM-600:OM_StandBy80K")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Stand By 80K")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "OM_StandBy80K")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OM_CoolDown80KTo4K",     	PV_DESC="Operation Mode Cool Down 80K To 4K",   PV_ONAM="True",	PV_ZNAM="False")
record(bi, "Spk-000CDL:SC-FSM-600:OM_CoolDown80KTo4K")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Cool Down 80K To 4K")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "OM_CoolDown80KTo4K")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OM_WarmUp80KTo300K",     	PV_DESC="Operation Mode Warm Up 80K To 300K",   PV_ONAM="True",	PV_ZNAM="False")
record(bi, "Spk-000CDL:SC-FSM-600:OM_WarmUp80KTo300K")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Warm Up 80K To 300K")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "OM_WarmUp80KTo300K")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OM_CMWarmUpTo300K",      	PV_DESC="Operation Mode CM Warm Up To 300K",    PV_ONAM="True",	PV_ZNAM="False")
record(bi, "Spk-000CDL:SC-FSM-600:OM_CMWarmUpTo300K")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode CM Warm Up To 300K")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "OM_CMWarmUpTo300K")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OM_CMCoolDownTo4K",      	PV_DESC="Operation Mode CM Cool Down To 4K",    PV_ONAM="True",	PV_ZNAM="False")
record(bi, "Spk-000CDL:SC-FSM-600:OM_CMCoolDownTo4K")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode CM Cool Down To 4K")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "OM_CMCoolDownTo4K")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OM_Starting",      		PV_DESC="Operation Mode CM Cool Down To 4K",    PV_ONAM="True",	PV_ZNAM="False")
record(bi, "Spk-000CDL:SC-FSM-600:OM_Starting")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode CM Cool Down To 4K")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "OM_Starting")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_analog("OM_State",	"INT",          PV_DESC="State of Operation")
record(ai, "Spk-000CDL:SC-FSM-600:OM_State")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "State of Operation")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "OM_State")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_string("OM_Msg",	39,             PV_NAME="OM_Msg",   PV_DESC="Operation Mode Message")
record(stringin, "Spk-000CDL:SC-FSM-600:OM_Msg")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Message")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "OM_Msg")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_time("TimeInCurrentMode",                                PV_DESC="TimeInCurrentMode")
record(ai, "Spk-000CDL:SC-FSM-600:TimeInCurrentMode")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "TimeInCurrentMode")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "TimeInCurrentMode")
	info(autosaveFields_pass0, "VAL")
}




############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:SC-FSM-600 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Stop_system",             			PV_DESC="CMD: Stop System")
record(bo, "Spk-000CDL:SC-FSM-600:Cmd_Stop_system")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Stop System")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "Cmd_Stop_system")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Start_system",                     PV_DESC="CMD: Start System")
record(bo, "Spk-000CDL:SC-FSM-600:Cmd_Start_system")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Start System")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "Cmd_Start_system")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Stand_by_4K",                      PV_DESC="CMD: Stand By 4K")
record(bo, "Spk-000CDL:SC-FSM-600:Cmd_Stand_by_4K")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Stand By 4K")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "Cmd_Stand_by_4K")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Stand_by_2K", 						PV_DESC="CMD: Stand By 2K")
record(bo, "Spk-000CDL:SC-FSM-600:Cmd_Stand_by_2K")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Stand By 2K")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "Cmd_Stand_by_2K")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Nominal_2K_RF", 					PV_DESC="CMD: Nominal 2K + RF")
record(bo, "Spk-000CDL:SC-FSM-600:Cmd_Nominal_2K_RF")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Nominal 2K + RF")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "Cmd_Nominal_2K_RF")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Stand_by_300K", 					PV_DESC="CMD: Stand By 300K")
record(bo, "Spk-000CDL:SC-FSM-600:Cmd_Stand_by_300K")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Stand By 300K")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "Cmd_Stand_by_300K")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Stand_by_80K", 					PV_DESC="CMD: Stand By 80K")
record(bo, "Spk-000CDL:SC-FSM-600:Cmd_Stand_by_80K")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Stand By 80K")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "Cmd_Stand_by_80K")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Reset",							PV_DESC="CMD: Reset")
record(bo, "Spk-000CDL:SC-FSM-600:Cmd_Reset")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Reset")
	info("plc_datablock", "DEV_Spk-000CDL:SC-FSM-600_iDB")
	info("plc_variable", "Cmd_Reset")
	info(autosaveFields_pass0, "VAL")
}




############################
#PARAMETER BLOCK
############################
#az most nincs



##########
########## Spk-000CDL:Cryo-PID-91 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                                 PID - PID Control                                        ##
##                                                                                          ##
##                                                                                          ##
############################           Version: 1.2           ################################
#Author:	Zoltan Madi
#Date:		13-12-2019
#Version:  v1.2
#Changes:  Added "MeasValue_Msg"
############################           Version: 1.1           ################################
#Author:	Johannes Kazantzidis
#Date:		13-12-2019
#Version:  v1.1
#Changes:  Added alarm signal "Discrepancy_Error"
############################           Version: 1.0           ################################
#Author:	Miklos Boros
#Date:		01-09-2019
#Version:  v1.0
#Changes:  First release and alarm signal "Discrepancy_Error"
##############################################################################################


############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-PID-91 PLC   -> EPICS status   ##########
##########


#Operation modes
#<<<--- add_digital("OpMode_Auto",             PV_DESC="Operation Mode Auto",       PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-91:OpMode_Auto")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "OpMode_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Manual",           PV_DESC="Operation Mode Manual",     PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-91:OpMode_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "OpMode_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",     PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-91:OpMode_Forced")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("PID_Color",                "INT",                               PV_DESC="BlockIcon color")
record(ai, "Spk-000CDL:Cryo-PID-91:PID_Color")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "BlockIcon color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "PID_Color")
	info(autosaveFields_pass0, "VAL")
}



#PID states
#<<<--- add_analog("LMN",                      "REAL",                              PV_DESC="Manipulated Value",             PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-91:LMN")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated Value")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "LMN")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("LMN_P",                    "REAL",                              PV_DESC="Manipulated Value P-Action")
record(ai, "Spk-000CDL:Cryo-PID-91:LMN_P")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated Value P-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "LMN_P")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("LMN_I",                    "REAL",                              PV_DESC="Manipulated Value I-Action")
record(ai, "Spk-000CDL:Cryo-PID-91:LMN_I")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated Value I-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "LMN_I")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("LMN_D",                    "REAL",                              PV_DESC="Manipulated Value D-Action")
record(ai, "Spk-000CDL:Cryo-PID-91:LMN_D")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated Value D-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "LMN_D")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("PID_DIF",                  "REAL",                              PV_DESC="Actual PID Error/Difference")
record(ai, "Spk-000CDL:Cryo-PID-91:PID_DIF")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Actual PID Error/Difference")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "PID_DIF")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("PV",                       "REAL",                              PV_DESC="PID Process Value",             PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-91:PV")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Process Value")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "PV")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("MAN_SP",                   "REAL",                              PV_DESC="PID Setpoint Value",            PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-91:MAN_SP")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Setpoint Value")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "MAN_SP")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("PID_Cycle",                "INT",                               PV_DESC="PID cycle time",                PV_EGU="ms")
record(ai, "Spk-000CDL:Cryo-PID-91:PID_Cycle")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID cycle time")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "PID_Cycle")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_string("ProcValueName", 39,         PV_NAME="ProcValueName",            PV_DESC="PV Name of the Process Value")
record(stringin, "Spk-000CDL:Cryo-PID-91:ProcValueName")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PV Name of the Process Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "ProcValueName")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_string("ProcValueEGU", 6,           PV_NAME="ProcValueEGU",             PV_DESC="EGU of the Process Value")
record(stringin, "Spk-000CDL:Cryo-PID-91:ProcValueEGU")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "EGU of the Process Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "ProcValueEGU")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",       PV_ONAM="InhibitManual",                 PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-PID-91:Inhibit_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",        PV_ONAM="InhibitForce",                  PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-PID-91:Inhibit_Force")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",           PV_ONAM="InhibitLocking",                PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-PID-91:Inhibit_Lock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}


#Interlock signals
#<<<--- add_digital("MoveInterlock",           PV_DESC="Move Interlock",            PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-91:MoveInterlock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Move Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "MoveInterlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("GroupInterlock",          PV_DESC="Group Interlock",           PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-91:GroupInterlock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "GroupInterlock")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableAutoBtn",           PV_DESC="Enable Auto Button",        PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-91:EnableAutoBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Auto Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "EnableAutoBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",      PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-91:EnableManualBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",       PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-91:EnableForcedBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnablePIDConf",           PV_DESC="Enable PID Configuration",  PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-91:EnablePIDConf")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable PID Configuration")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "EnablePIDConf")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("LatchAlarm",              PV_DESC="Enable Alarm Latching",     PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-91:LatchAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Alarm Latching")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("GroupAlarm",              PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-PID-91:GroupAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}


#Block Icon controls
#<<<--- add_digital("EnableBlkCtrl",           PV_DESC="Enable Block SP Button",     PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-91:EnableBlkCtrl")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Block SP Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "EnableBlkCtrl")
	info(autosaveFields_pass0, "VAL")
}

#Forcing
#<<<--- add_digital("EnableForceValBtn",       PV_DESC="Enable Force Value Button", PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-91:EnableForceValBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Value Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "EnableForceValBtn")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device locked",             PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-91:DevLocked")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                              PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-PID-91:Faceplate_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                              PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-PID-91:BlockIcon_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}



#Alarm signals
#<<<--- add_major_alarm("LMN_HLIM",            "LMN_HLIM",                          PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-PID-91:LMN_HLIM")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "LMN_HLIM")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "LMN_HLIM")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("LMN_LLIM",            "LMN_LLIM",                          PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-PID-91:LMN_LLIM")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "LMN_LLIM")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "LMN_LLIM")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "HW IO Error",                       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PID-91:IO_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Input_Module_Error",  "HW Input Module Error",             PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PID-91:Input_Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Input Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Input_Module_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Output_Module_Error", "HW Output Module Error",            PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PID-91:Output_Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Output Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Output_Module_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Discrepancy_Error",   "Discrepancy_Error",                 PV_ZNAM="NominalState",                  PV_ONAM="Timeout")
record(bi, "Spk-000CDL:Cryo-PID-91:Discrepancy_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Timeout")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Discrepancy_Error")
	info(autosaveFields_pass0, "VAL")
}


#Warning signals
#<<<--- add_minor_alarm("ContDeviceInMan",     "ContDeviceInMan",                   PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-PID-91:ContDeviceInMan")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "ContDeviceInMan")
	field(OSV,  "MINOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "ContDeviceInMan")
	info(autosaveFields_pass0, "VAL")
}


#Feedbacks
#PID
#<<<--- add_analog("FB_Gain",                  "REAL" ,                             PV_DESC="FB Proportional gain")
record(ai, "Spk-000CDL:Cryo-PID-91:FB_Gain")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Proportional gain")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "FB_Gain")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_TI",                    "DINT" ,                             PV_DESC="FB Integration time",           PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-PID-91:FB_TI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Integration time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "FB_TI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_TD",                    "DINT" ,                             PV_DESC="FB Derivative action time",     PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-PID-91:FB_TD")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Derivative action time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "FB_TD")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_analog("FB_DEADB",                 "REAL" ,                             PV_DESC="FB Deadband")
record(ai, "Spk-000CDL:Cryo-PID-91:FB_DEADB")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Deadband")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "FB_DEADB")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_LMN_HLIM",              "REAL" ,                             PV_DESC="FB High limit for MV")
record(ai, "Spk-000CDL:Cryo-PID-91:FB_LMN_HLIM")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB High limit for MV")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "FB_LMN_HLIM")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_LMN_LLIM",              "REAL" ,                             PV_DESC="FB Low limit for MV")
record(ai, "Spk-000CDL:Cryo-PID-91:FB_LMN_LLIM")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Low limit for MV")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "FB_LMN_LLIM")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_ForcePosition",         "REAL" ,                             PV_DESC="FB Force Valve Position (AI)",  PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-91:FB_ForcePosition")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Force Valve Position (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "FB_ForcePosition")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Setpoint",              "REAL" ,                             PV_DESC="FB Setpoint from HMI (SP)",     PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-91:FB_Setpoint")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "FB_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Step",                  "REAL" ,                             PV_DESC="FB Step value for Open/Close",  PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-91:FB_Step")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Step value for Open/Close")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "FB_Step")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Manipulated",           "REAL" ,                             PV_DESC="Force Manipulated value (AO)",  PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-91:FB_Manipulated")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Manipulated value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "FB_Manipulated")
	info(autosaveFields_pass0, "VAL")
}



#<<<--- add_digital("FB_P_ActionState",        PV_DESC="Proportional Action State")
record(bi, "Spk-000CDL:Cryo-PID-91:FB_P_ActionState")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Proportional Action State")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "FB_P_ActionState")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("FB_I_ActionState",        PV_DESC="Integral Action State")
record(bi, "Spk-000CDL:Cryo-PID-91:FB_I_ActionState")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Integral Action State")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "FB_I_ActionState")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("FB_D_ActionState",        PV_DESC="Differential Action State")
record(bi, "Spk-000CDL:Cryo-PID-91:FB_D_ActionState")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Differential Action State")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "FB_D_ActionState")
	info(autosaveFields_pass0, "VAL")
}


#Standby Synchroniztaion
#<<<--- add_digital("FB_SS_State",             PV_DESC="Standby Synchroniztaion State")
record(bi, "Spk-000CDL:Cryo-PID-91:FB_SS_State")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Standby Synchroniztaion State")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "FB_SS_State")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_SS_Value",              "REAL" ,                             PV_DESC="Standby Synchroniztaion Value", PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-91:FB_SS_Value")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Standby Synchroniztaion Value")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "FB_SS_Value")
	info(autosaveFields_pass0, "VAL")
}


#MeasValue Message
#<<<--- add_string("MeasValue_Msg",				39,             	PV_NAME="Measured_Value_Msg",   	PV_DESC="Measured Value Message")
record(stringin, "Spk-000CDL:Cryo-PID-91:Measured_Value_Msg")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Measured Value Message")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "MeasValue_Msg")
	info(autosaveFields_pass0, "VAL")
}


############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-PID-91 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Auto",                PV_DESC="CMD: Auto Mode")
record(bo, "Spk-000CDL:Cryo-PID-91:Cmd_Auto")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Cmd_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Manual",              PV_DESC="CMD: Manual Mode")
record(bo, "Spk-000CDL:Cryo-PID-91:Cmd_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Cmd_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-PID-91:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_EnablePID_Conf",      PV_DESC="CMD: Enable PID configuration from OPI")
record(bo, "Spk-000CDL:Cryo-PID-91:Cmd_EnablePID_Conf")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Enable PID configuration from OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Cmd_EnablePID_Conf")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DisablePID_Conf",     PV_DESC="CMD: Disable PID configuration from OPI")
record(bo, "Spk-000CDL:Cryo-PID-91:Cmd_DisablePID_Conf")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Disable PID configuration from OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Cmd_DisablePID_Conf")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_P_ON",                PV_DESC="CMD: Enable P-Action")
record(bo, "Spk-000CDL:Cryo-PID-91:Cmd_P_ON")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Enable P-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Cmd_P_ON")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_P_OFF",               PV_DESC="CMD: Disable P-Action")
record(bo, "Spk-000CDL:Cryo-PID-91:Cmd_P_OFF")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Disable P-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Cmd_P_OFF")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_I_ON",                PV_DESC="CMD: Enable I-Action")
record(bo, "Spk-000CDL:Cryo-PID-91:Cmd_I_ON")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Enable I-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Cmd_I_ON")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_I_OFF",               PV_DESC="CMD: Disable I-Action")
record(bo, "Spk-000CDL:Cryo-PID-91:Cmd_I_OFF")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Disable I-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Cmd_I_OFF")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_D_ON",                PV_DESC="CMD: Enable D-Action")
record(bo, "Spk-000CDL:Cryo-PID-91:Cmd_D_ON")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Enable D-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Cmd_D_ON")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_D_OFF",               PV_DESC="CMD: Disable D-Action")
record(bo, "Spk-000CDL:Cryo-PID-91:Cmd_D_OFF")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Disable D-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Cmd_D_OFF")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-PID-91:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceValInp",         PV_DESC="CMD: Force Valve PLC Input")
record(bo, "Spk-000CDL:Cryo-PID-91:Cmd_ForceValInp")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Valve PLC Input")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Cmd_ForceValInp")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceValOut",         PV_DESC="CMD: Force Valve PLC Output")
record(bo, "Spk-000CDL:Cryo-PID-91:Cmd_ForceValOut")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Valve PLC Output")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Cmd_ForceValOut")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-PID-91:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-PID-91:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-PID-91:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}



############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-PID-91 EPICS -> PLC parameters ##########
##########
#PID
#<<<--- add_analog("P_Gain",                   "REAL" ,                             PV_DESC="PID Proportional gain")
record(ao, "Spk-000CDL:Cryo-PID-91:P_Gain")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Proportional gain")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "P_Gain")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_TI",                     "DINT" ,                             PV_DESC="PID Integration time",          PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-PID-91:P_TI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Integration time")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(EGU,  "sec")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "P_TI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_TD",                     "DINT" ,                             PV_DESC="PID Derivative action time",    PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-PID-91:P_TD")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Derivative action time")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(EGU,  "sec")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "P_TD")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_analog("P_DEADB",                  "REAL" ,                             PV_DESC="PID Deadband")
record(ao, "Spk-000CDL:Cryo-PID-91:P_DEADB")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Deadband")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "P_DEADB")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_LMN_HLIM",               "REAL" ,                             PV_DESC="PID High limit for MV")
record(ao, "Spk-000CDL:Cryo-PID-91:P_LMN_HLIM")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID High limit for MV")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "P_LMN_HLIM")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_LMN_LLIM",               "REAL" ,                             PV_DESC="PID Low limit for MV")
record(ao, "Spk-000CDL:Cryo-PID-91:P_LMN_LLIM")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Low limit for MV")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "P_LMN_LLIM")
	info(autosaveFields_pass0, "VAL")
}


#Setpoint and Manipulated value from HMI
#<<<--- add_analog("P_ForcePosition",          "REAL" ,                             PV_DESC="Force Valve position (AI)",     PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-PID-91:P_ForcePosition")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Valve position (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "P_ForcePosition")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Setpoint",               "REAL" ,                             PV_DESC="Setpoint from HMI (SP)",        PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-PID-91:P_Setpoint")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "P_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Manipulated",            "REAL" ,                             PV_DESC="Force Manipulated value (AO)",  PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-PID-91:P_Manipulated")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Manipulated value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "P_Manipulated")
	info(autosaveFields_pass0, "VAL")
}


#Step value when pressing Cmd_Open1Step or Cmd_Close1Step
#<<<--- add_analog("P_Step",                   "REAL" ,                             PV_DESC="Step value for open close",     PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-PID-91:P_Step")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Step value for open close")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "P_Step")
	info(autosaveFields_pass0, "VAL")
}



#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                              PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-PID-91:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                              PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-PID-91:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-91_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-PID-91:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-PID-91:P_Gain")
	field(LNK2, "Spk-000CDL:Cryo-PID-91:P_TI")
	field(LNK3, "Spk-000CDL:Cryo-PID-91:P_TD")
	field(LNK4, "Spk-000CDL:Cryo-PID-91:P_DEADB")
	field(LNK5, "Spk-000CDL:Cryo-PID-91:P_LMN_HLIM")
	field(LNK6, "Spk-000CDL:Cryo-PID-91:P_LMN_LLIM")
	field(LNK7, "Spk-000CDL:Cryo-PID-91:P_ForcePosition")
	field(LNK8, "Spk-000CDL:Cryo-PID-91:P_Setpoint")
	field(LNK9, "Spk-000CDL:Cryo-PID-91:P_Manipulated")
	field(LNKA, "Spk-000CDL:Cryo-PID-91:P_Step")
	field(LNKB, "Spk-000CDL:Cryo-PID-91:P_Faceplate_LockID")
	field(LNKC, "Spk-000CDL:Cryo-PID-91:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-PID-92 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                                 PID - PID Control                                        ##
##                                                                                          ##
##                                                                                          ##
############################           Version: 1.2           ################################
#Author:	Zoltan Madi
#Date:		13-12-2019
#Version:  v1.2
#Changes:  Added "MeasValue_Msg"
############################           Version: 1.1           ################################
#Author:	Johannes Kazantzidis
#Date:		13-12-2019
#Version:  v1.1
#Changes:  Added alarm signal "Discrepancy_Error"
############################           Version: 1.0           ################################
#Author:	Miklos Boros
#Date:		01-09-2019
#Version:  v1.0
#Changes:  First release and alarm signal "Discrepancy_Error"
##############################################################################################


############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-PID-92 PLC   -> EPICS status   ##########
##########


#Operation modes
#<<<--- add_digital("OpMode_Auto",             PV_DESC="Operation Mode Auto",       PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-92:OpMode_Auto")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "OpMode_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Manual",           PV_DESC="Operation Mode Manual",     PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-92:OpMode_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "OpMode_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",     PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-92:OpMode_Forced")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("PID_Color",                "INT",                               PV_DESC="BlockIcon color")
record(ai, "Spk-000CDL:Cryo-PID-92:PID_Color")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "BlockIcon color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "PID_Color")
	info(autosaveFields_pass0, "VAL")
}



#PID states
#<<<--- add_analog("LMN",                      "REAL",                              PV_DESC="Manipulated Value",             PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-92:LMN")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated Value")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "LMN")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("LMN_P",                    "REAL",                              PV_DESC="Manipulated Value P-Action")
record(ai, "Spk-000CDL:Cryo-PID-92:LMN_P")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated Value P-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "LMN_P")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("LMN_I",                    "REAL",                              PV_DESC="Manipulated Value I-Action")
record(ai, "Spk-000CDL:Cryo-PID-92:LMN_I")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated Value I-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "LMN_I")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("LMN_D",                    "REAL",                              PV_DESC="Manipulated Value D-Action")
record(ai, "Spk-000CDL:Cryo-PID-92:LMN_D")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated Value D-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "LMN_D")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("PID_DIF",                  "REAL",                              PV_DESC="Actual PID Error/Difference")
record(ai, "Spk-000CDL:Cryo-PID-92:PID_DIF")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Actual PID Error/Difference")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "PID_DIF")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("PV",                       "REAL",                              PV_DESC="PID Process Value",             PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-92:PV")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Process Value")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "PV")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("MAN_SP",                   "REAL",                              PV_DESC="PID Setpoint Value",            PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-92:MAN_SP")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Setpoint Value")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "MAN_SP")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("PID_Cycle",                "INT",                               PV_DESC="PID cycle time",                PV_EGU="ms")
record(ai, "Spk-000CDL:Cryo-PID-92:PID_Cycle")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID cycle time")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "PID_Cycle")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_string("ProcValueName", 39,         PV_NAME="ProcValueName",            PV_DESC="PV Name of the Process Value")
record(stringin, "Spk-000CDL:Cryo-PID-92:ProcValueName")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PV Name of the Process Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "ProcValueName")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_string("ProcValueEGU", 6,           PV_NAME="ProcValueEGU",             PV_DESC="EGU of the Process Value")
record(stringin, "Spk-000CDL:Cryo-PID-92:ProcValueEGU")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "EGU of the Process Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "ProcValueEGU")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",       PV_ONAM="InhibitManual",                 PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-PID-92:Inhibit_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",        PV_ONAM="InhibitForce",                  PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-PID-92:Inhibit_Force")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",           PV_ONAM="InhibitLocking",                PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-PID-92:Inhibit_Lock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}


#Interlock signals
#<<<--- add_digital("MoveInterlock",           PV_DESC="Move Interlock",            PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-92:MoveInterlock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Move Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "MoveInterlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("GroupInterlock",          PV_DESC="Group Interlock",           PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-92:GroupInterlock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "GroupInterlock")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableAutoBtn",           PV_DESC="Enable Auto Button",        PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-92:EnableAutoBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Auto Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "EnableAutoBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",      PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-92:EnableManualBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",       PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-92:EnableForcedBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnablePIDConf",           PV_DESC="Enable PID Configuration",  PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-92:EnablePIDConf")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable PID Configuration")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "EnablePIDConf")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("LatchAlarm",              PV_DESC="Enable Alarm Latching",     PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-92:LatchAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Alarm Latching")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("GroupAlarm",              PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-PID-92:GroupAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}


#Block Icon controls
#<<<--- add_digital("EnableBlkCtrl",           PV_DESC="Enable Block SP Button",     PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-92:EnableBlkCtrl")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Block SP Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "EnableBlkCtrl")
	info(autosaveFields_pass0, "VAL")
}

#Forcing
#<<<--- add_digital("EnableForceValBtn",       PV_DESC="Enable Force Value Button", PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-92:EnableForceValBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Value Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "EnableForceValBtn")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device locked",             PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-92:DevLocked")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                              PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-PID-92:Faceplate_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                              PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-PID-92:BlockIcon_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}



#Alarm signals
#<<<--- add_major_alarm("LMN_HLIM",            "LMN_HLIM",                          PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-PID-92:LMN_HLIM")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "LMN_HLIM")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "LMN_HLIM")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("LMN_LLIM",            "LMN_LLIM",                          PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-PID-92:LMN_LLIM")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "LMN_LLIM")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "LMN_LLIM")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "HW IO Error",                       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PID-92:IO_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Input_Module_Error",  "HW Input Module Error",             PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PID-92:Input_Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Input Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Input_Module_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Output_Module_Error", "HW Output Module Error",            PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PID-92:Output_Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Output Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Output_Module_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Discrepancy_Error",   "Discrepancy_Error",                 PV_ZNAM="NominalState",                  PV_ONAM="Timeout")
record(bi, "Spk-000CDL:Cryo-PID-92:Discrepancy_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Timeout")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Discrepancy_Error")
	info(autosaveFields_pass0, "VAL")
}


#Warning signals
#<<<--- add_minor_alarm("ContDeviceInMan",     "ContDeviceInMan",                   PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-PID-92:ContDeviceInMan")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "ContDeviceInMan")
	field(OSV,  "MINOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "ContDeviceInMan")
	info(autosaveFields_pass0, "VAL")
}


#Feedbacks
#PID
#<<<--- add_analog("FB_Gain",                  "REAL" ,                             PV_DESC="FB Proportional gain")
record(ai, "Spk-000CDL:Cryo-PID-92:FB_Gain")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Proportional gain")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "FB_Gain")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_TI",                    "DINT" ,                             PV_DESC="FB Integration time",           PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-PID-92:FB_TI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Integration time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "FB_TI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_TD",                    "DINT" ,                             PV_DESC="FB Derivative action time",     PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-PID-92:FB_TD")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Derivative action time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "FB_TD")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_analog("FB_DEADB",                 "REAL" ,                             PV_DESC="FB Deadband")
record(ai, "Spk-000CDL:Cryo-PID-92:FB_DEADB")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Deadband")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "FB_DEADB")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_LMN_HLIM",              "REAL" ,                             PV_DESC="FB High limit for MV")
record(ai, "Spk-000CDL:Cryo-PID-92:FB_LMN_HLIM")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB High limit for MV")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "FB_LMN_HLIM")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_LMN_LLIM",              "REAL" ,                             PV_DESC="FB Low limit for MV")
record(ai, "Spk-000CDL:Cryo-PID-92:FB_LMN_LLIM")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Low limit for MV")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "FB_LMN_LLIM")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_ForcePosition",         "REAL" ,                             PV_DESC="FB Force Valve Position (AI)",  PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-92:FB_ForcePosition")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Force Valve Position (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "FB_ForcePosition")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Setpoint",              "REAL" ,                             PV_DESC="FB Setpoint from HMI (SP)",     PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-92:FB_Setpoint")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "FB_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Step",                  "REAL" ,                             PV_DESC="FB Step value for Open/Close",  PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-92:FB_Step")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Step value for Open/Close")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "FB_Step")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Manipulated",           "REAL" ,                             PV_DESC="Force Manipulated value (AO)",  PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-92:FB_Manipulated")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Manipulated value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "FB_Manipulated")
	info(autosaveFields_pass0, "VAL")
}



#<<<--- add_digital("FB_P_ActionState",        PV_DESC="Proportional Action State")
record(bi, "Spk-000CDL:Cryo-PID-92:FB_P_ActionState")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Proportional Action State")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "FB_P_ActionState")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("FB_I_ActionState",        PV_DESC="Integral Action State")
record(bi, "Spk-000CDL:Cryo-PID-92:FB_I_ActionState")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Integral Action State")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "FB_I_ActionState")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("FB_D_ActionState",        PV_DESC="Differential Action State")
record(bi, "Spk-000CDL:Cryo-PID-92:FB_D_ActionState")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Differential Action State")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "FB_D_ActionState")
	info(autosaveFields_pass0, "VAL")
}


#Standby Synchroniztaion
#<<<--- add_digital("FB_SS_State",             PV_DESC="Standby Synchroniztaion State")
record(bi, "Spk-000CDL:Cryo-PID-92:FB_SS_State")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Standby Synchroniztaion State")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "FB_SS_State")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_SS_Value",              "REAL" ,                             PV_DESC="Standby Synchroniztaion Value", PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-92:FB_SS_Value")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Standby Synchroniztaion Value")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "FB_SS_Value")
	info(autosaveFields_pass0, "VAL")
}


#MeasValue Message
#<<<--- add_string("MeasValue_Msg",				39,             	PV_NAME="Measured_Value_Msg",   	PV_DESC="Measured Value Message")
record(stringin, "Spk-000CDL:Cryo-PID-92:Measured_Value_Msg")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Measured Value Message")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "MeasValue_Msg")
	info(autosaveFields_pass0, "VAL")
}


############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-PID-92 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Auto",                PV_DESC="CMD: Auto Mode")
record(bo, "Spk-000CDL:Cryo-PID-92:Cmd_Auto")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Cmd_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Manual",              PV_DESC="CMD: Manual Mode")
record(bo, "Spk-000CDL:Cryo-PID-92:Cmd_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Cmd_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-PID-92:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_EnablePID_Conf",      PV_DESC="CMD: Enable PID configuration from OPI")
record(bo, "Spk-000CDL:Cryo-PID-92:Cmd_EnablePID_Conf")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Enable PID configuration from OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Cmd_EnablePID_Conf")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DisablePID_Conf",     PV_DESC="CMD: Disable PID configuration from OPI")
record(bo, "Spk-000CDL:Cryo-PID-92:Cmd_DisablePID_Conf")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Disable PID configuration from OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Cmd_DisablePID_Conf")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_P_ON",                PV_DESC="CMD: Enable P-Action")
record(bo, "Spk-000CDL:Cryo-PID-92:Cmd_P_ON")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Enable P-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Cmd_P_ON")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_P_OFF",               PV_DESC="CMD: Disable P-Action")
record(bo, "Spk-000CDL:Cryo-PID-92:Cmd_P_OFF")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Disable P-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Cmd_P_OFF")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_I_ON",                PV_DESC="CMD: Enable I-Action")
record(bo, "Spk-000CDL:Cryo-PID-92:Cmd_I_ON")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Enable I-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Cmd_I_ON")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_I_OFF",               PV_DESC="CMD: Disable I-Action")
record(bo, "Spk-000CDL:Cryo-PID-92:Cmd_I_OFF")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Disable I-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Cmd_I_OFF")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_D_ON",                PV_DESC="CMD: Enable D-Action")
record(bo, "Spk-000CDL:Cryo-PID-92:Cmd_D_ON")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Enable D-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Cmd_D_ON")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_D_OFF",               PV_DESC="CMD: Disable D-Action")
record(bo, "Spk-000CDL:Cryo-PID-92:Cmd_D_OFF")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Disable D-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Cmd_D_OFF")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-PID-92:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceValInp",         PV_DESC="CMD: Force Valve PLC Input")
record(bo, "Spk-000CDL:Cryo-PID-92:Cmd_ForceValInp")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Valve PLC Input")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Cmd_ForceValInp")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceValOut",         PV_DESC="CMD: Force Valve PLC Output")
record(bo, "Spk-000CDL:Cryo-PID-92:Cmd_ForceValOut")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Valve PLC Output")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Cmd_ForceValOut")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-PID-92:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-PID-92:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-PID-92:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}



############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-PID-92 EPICS -> PLC parameters ##########
##########
#PID
#<<<--- add_analog("P_Gain",                   "REAL" ,                             PV_DESC="PID Proportional gain")
record(ao, "Spk-000CDL:Cryo-PID-92:P_Gain")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Proportional gain")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "P_Gain")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_TI",                     "DINT" ,                             PV_DESC="PID Integration time",          PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-PID-92:P_TI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Integration time")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(EGU,  "sec")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "P_TI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_TD",                     "DINT" ,                             PV_DESC="PID Derivative action time",    PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-PID-92:P_TD")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Derivative action time")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(EGU,  "sec")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "P_TD")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_analog("P_DEADB",                  "REAL" ,                             PV_DESC="PID Deadband")
record(ao, "Spk-000CDL:Cryo-PID-92:P_DEADB")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Deadband")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "P_DEADB")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_LMN_HLIM",               "REAL" ,                             PV_DESC="PID High limit for MV")
record(ao, "Spk-000CDL:Cryo-PID-92:P_LMN_HLIM")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID High limit for MV")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "P_LMN_HLIM")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_LMN_LLIM",               "REAL" ,                             PV_DESC="PID Low limit for MV")
record(ao, "Spk-000CDL:Cryo-PID-92:P_LMN_LLIM")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Low limit for MV")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "P_LMN_LLIM")
	info(autosaveFields_pass0, "VAL")
}


#Setpoint and Manipulated value from HMI
#<<<--- add_analog("P_ForcePosition",          "REAL" ,                             PV_DESC="Force Valve position (AI)",     PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-PID-92:P_ForcePosition")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Valve position (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "P_ForcePosition")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Setpoint",               "REAL" ,                             PV_DESC="Setpoint from HMI (SP)",        PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-PID-92:P_Setpoint")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "P_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Manipulated",            "REAL" ,                             PV_DESC="Force Manipulated value (AO)",  PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-PID-92:P_Manipulated")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Manipulated value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "P_Manipulated")
	info(autosaveFields_pass0, "VAL")
}


#Step value when pressing Cmd_Open1Step or Cmd_Close1Step
#<<<--- add_analog("P_Step",                   "REAL" ,                             PV_DESC="Step value for open close",     PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-PID-92:P_Step")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Step value for open close")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "P_Step")
	info(autosaveFields_pass0, "VAL")
}



#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                              PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-PID-92:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                              PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-PID-92:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-92_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-PID-92:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-PID-92:P_Gain")
	field(LNK2, "Spk-000CDL:Cryo-PID-92:P_TI")
	field(LNK3, "Spk-000CDL:Cryo-PID-92:P_TD")
	field(LNK4, "Spk-000CDL:Cryo-PID-92:P_DEADB")
	field(LNK5, "Spk-000CDL:Cryo-PID-92:P_LMN_HLIM")
	field(LNK6, "Spk-000CDL:Cryo-PID-92:P_LMN_LLIM")
	field(LNK7, "Spk-000CDL:Cryo-PID-92:P_ForcePosition")
	field(LNK8, "Spk-000CDL:Cryo-PID-92:P_Setpoint")
	field(LNK9, "Spk-000CDL:Cryo-PID-92:P_Manipulated")
	field(LNKA, "Spk-000CDL:Cryo-PID-92:P_Step")
	field(LNKB, "Spk-000CDL:Cryo-PID-92:P_Faceplate_LockID")
	field(LNKC, "Spk-000CDL:Cryo-PID-92:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-PID-93 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                                 PID - PID Control                                        ##
##                                                                                          ##
##                                                                                          ##
############################           Version: 1.2           ################################
#Author:	Zoltan Madi
#Date:		13-12-2019
#Version:  v1.2
#Changes:  Added "MeasValue_Msg"
############################           Version: 1.1           ################################
#Author:	Johannes Kazantzidis
#Date:		13-12-2019
#Version:  v1.1
#Changes:  Added alarm signal "Discrepancy_Error"
############################           Version: 1.0           ################################
#Author:	Miklos Boros
#Date:		01-09-2019
#Version:  v1.0
#Changes:  First release and alarm signal "Discrepancy_Error"
##############################################################################################


############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-PID-93 PLC   -> EPICS status   ##########
##########


#Operation modes
#<<<--- add_digital("OpMode_Auto",             PV_DESC="Operation Mode Auto",       PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-93:OpMode_Auto")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "OpMode_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Manual",           PV_DESC="Operation Mode Manual",     PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-93:OpMode_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "OpMode_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",     PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-93:OpMode_Forced")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("PID_Color",                "INT",                               PV_DESC="BlockIcon color")
record(ai, "Spk-000CDL:Cryo-PID-93:PID_Color")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "BlockIcon color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "PID_Color")
	info(autosaveFields_pass0, "VAL")
}



#PID states
#<<<--- add_analog("LMN",                      "REAL",                              PV_DESC="Manipulated Value",             PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-93:LMN")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated Value")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "LMN")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("LMN_P",                    "REAL",                              PV_DESC="Manipulated Value P-Action")
record(ai, "Spk-000CDL:Cryo-PID-93:LMN_P")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated Value P-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "LMN_P")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("LMN_I",                    "REAL",                              PV_DESC="Manipulated Value I-Action")
record(ai, "Spk-000CDL:Cryo-PID-93:LMN_I")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated Value I-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "LMN_I")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("LMN_D",                    "REAL",                              PV_DESC="Manipulated Value D-Action")
record(ai, "Spk-000CDL:Cryo-PID-93:LMN_D")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated Value D-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "LMN_D")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("PID_DIF",                  "REAL",                              PV_DESC="Actual PID Error/Difference")
record(ai, "Spk-000CDL:Cryo-PID-93:PID_DIF")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Actual PID Error/Difference")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "PID_DIF")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("PV",                       "REAL",                              PV_DESC="PID Process Value",             PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-93:PV")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Process Value")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "PV")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("MAN_SP",                   "REAL",                              PV_DESC="PID Setpoint Value",            PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-93:MAN_SP")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Setpoint Value")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "MAN_SP")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("PID_Cycle",                "INT",                               PV_DESC="PID cycle time",                PV_EGU="ms")
record(ai, "Spk-000CDL:Cryo-PID-93:PID_Cycle")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID cycle time")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "PID_Cycle")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_string("ProcValueName", 39,         PV_NAME="ProcValueName",            PV_DESC="PV Name of the Process Value")
record(stringin, "Spk-000CDL:Cryo-PID-93:ProcValueName")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PV Name of the Process Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "ProcValueName")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_string("ProcValueEGU", 6,           PV_NAME="ProcValueEGU",             PV_DESC="EGU of the Process Value")
record(stringin, "Spk-000CDL:Cryo-PID-93:ProcValueEGU")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "EGU of the Process Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "ProcValueEGU")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",       PV_ONAM="InhibitManual",                 PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-PID-93:Inhibit_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",        PV_ONAM="InhibitForce",                  PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-PID-93:Inhibit_Force")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",           PV_ONAM="InhibitLocking",                PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-PID-93:Inhibit_Lock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}


#Interlock signals
#<<<--- add_digital("MoveInterlock",           PV_DESC="Move Interlock",            PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-93:MoveInterlock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Move Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "MoveInterlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("GroupInterlock",          PV_DESC="Group Interlock",           PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-93:GroupInterlock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "GroupInterlock")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableAutoBtn",           PV_DESC="Enable Auto Button",        PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-93:EnableAutoBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Auto Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "EnableAutoBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",      PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-93:EnableManualBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",       PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-93:EnableForcedBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnablePIDConf",           PV_DESC="Enable PID Configuration",  PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-93:EnablePIDConf")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable PID Configuration")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "EnablePIDConf")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("LatchAlarm",              PV_DESC="Enable Alarm Latching",     PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-93:LatchAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Alarm Latching")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("GroupAlarm",              PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-PID-93:GroupAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}


#Block Icon controls
#<<<--- add_digital("EnableBlkCtrl",           PV_DESC="Enable Block SP Button",     PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-93:EnableBlkCtrl")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Block SP Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "EnableBlkCtrl")
	info(autosaveFields_pass0, "VAL")
}

#Forcing
#<<<--- add_digital("EnableForceValBtn",       PV_DESC="Enable Force Value Button", PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-93:EnableForceValBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Value Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "EnableForceValBtn")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device locked",             PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-93:DevLocked")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                              PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-PID-93:Faceplate_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                              PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-PID-93:BlockIcon_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}



#Alarm signals
#<<<--- add_major_alarm("LMN_HLIM",            "LMN_HLIM",                          PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-PID-93:LMN_HLIM")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "LMN_HLIM")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "LMN_HLIM")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("LMN_LLIM",            "LMN_LLIM",                          PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-PID-93:LMN_LLIM")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "LMN_LLIM")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "LMN_LLIM")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "HW IO Error",                       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PID-93:IO_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Input_Module_Error",  "HW Input Module Error",             PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PID-93:Input_Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Input Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Input_Module_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Output_Module_Error", "HW Output Module Error",            PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PID-93:Output_Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Output Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Output_Module_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Discrepancy_Error",   "Discrepancy_Error",                 PV_ZNAM="NominalState",                  PV_ONAM="Timeout")
record(bi, "Spk-000CDL:Cryo-PID-93:Discrepancy_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Timeout")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Discrepancy_Error")
	info(autosaveFields_pass0, "VAL")
}


#Warning signals
#<<<--- add_minor_alarm("ContDeviceInMan",     "ContDeviceInMan",                   PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-PID-93:ContDeviceInMan")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "ContDeviceInMan")
	field(OSV,  "MINOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "ContDeviceInMan")
	info(autosaveFields_pass0, "VAL")
}


#Feedbacks
#PID
#<<<--- add_analog("FB_Gain",                  "REAL" ,                             PV_DESC="FB Proportional gain")
record(ai, "Spk-000CDL:Cryo-PID-93:FB_Gain")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Proportional gain")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "FB_Gain")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_TI",                    "DINT" ,                             PV_DESC="FB Integration time",           PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-PID-93:FB_TI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Integration time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "FB_TI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_TD",                    "DINT" ,                             PV_DESC="FB Derivative action time",     PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-PID-93:FB_TD")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Derivative action time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "FB_TD")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_analog("FB_DEADB",                 "REAL" ,                             PV_DESC="FB Deadband")
record(ai, "Spk-000CDL:Cryo-PID-93:FB_DEADB")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Deadband")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "FB_DEADB")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_LMN_HLIM",              "REAL" ,                             PV_DESC="FB High limit for MV")
record(ai, "Spk-000CDL:Cryo-PID-93:FB_LMN_HLIM")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB High limit for MV")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "FB_LMN_HLIM")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_LMN_LLIM",              "REAL" ,                             PV_DESC="FB Low limit for MV")
record(ai, "Spk-000CDL:Cryo-PID-93:FB_LMN_LLIM")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Low limit for MV")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "FB_LMN_LLIM")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_ForcePosition",         "REAL" ,                             PV_DESC="FB Force Valve Position (AI)",  PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-93:FB_ForcePosition")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Force Valve Position (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "FB_ForcePosition")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Setpoint",              "REAL" ,                             PV_DESC="FB Setpoint from HMI (SP)",     PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-93:FB_Setpoint")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "FB_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Step",                  "REAL" ,                             PV_DESC="FB Step value for Open/Close",  PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-93:FB_Step")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Step value for Open/Close")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "FB_Step")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Manipulated",           "REAL" ,                             PV_DESC="Force Manipulated value (AO)",  PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-93:FB_Manipulated")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Manipulated value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "FB_Manipulated")
	info(autosaveFields_pass0, "VAL")
}



#<<<--- add_digital("FB_P_ActionState",        PV_DESC="Proportional Action State")
record(bi, "Spk-000CDL:Cryo-PID-93:FB_P_ActionState")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Proportional Action State")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "FB_P_ActionState")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("FB_I_ActionState",        PV_DESC="Integral Action State")
record(bi, "Spk-000CDL:Cryo-PID-93:FB_I_ActionState")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Integral Action State")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "FB_I_ActionState")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("FB_D_ActionState",        PV_DESC="Differential Action State")
record(bi, "Spk-000CDL:Cryo-PID-93:FB_D_ActionState")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Differential Action State")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "FB_D_ActionState")
	info(autosaveFields_pass0, "VAL")
}


#Standby Synchroniztaion
#<<<--- add_digital("FB_SS_State",             PV_DESC="Standby Synchroniztaion State")
record(bi, "Spk-000CDL:Cryo-PID-93:FB_SS_State")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Standby Synchroniztaion State")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "FB_SS_State")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_SS_Value",              "REAL" ,                             PV_DESC="Standby Synchroniztaion Value", PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-93:FB_SS_Value")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Standby Synchroniztaion Value")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "FB_SS_Value")
	info(autosaveFields_pass0, "VAL")
}


#MeasValue Message
#<<<--- add_string("MeasValue_Msg",				39,             	PV_NAME="Measured_Value_Msg",   	PV_DESC="Measured Value Message")
record(stringin, "Spk-000CDL:Cryo-PID-93:Measured_Value_Msg")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Measured Value Message")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "MeasValue_Msg")
	info(autosaveFields_pass0, "VAL")
}


############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-PID-93 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Auto",                PV_DESC="CMD: Auto Mode")
record(bo, "Spk-000CDL:Cryo-PID-93:Cmd_Auto")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Cmd_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Manual",              PV_DESC="CMD: Manual Mode")
record(bo, "Spk-000CDL:Cryo-PID-93:Cmd_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Cmd_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-PID-93:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_EnablePID_Conf",      PV_DESC="CMD: Enable PID configuration from OPI")
record(bo, "Spk-000CDL:Cryo-PID-93:Cmd_EnablePID_Conf")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Enable PID configuration from OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Cmd_EnablePID_Conf")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DisablePID_Conf",     PV_DESC="CMD: Disable PID configuration from OPI")
record(bo, "Spk-000CDL:Cryo-PID-93:Cmd_DisablePID_Conf")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Disable PID configuration from OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Cmd_DisablePID_Conf")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_P_ON",                PV_DESC="CMD: Enable P-Action")
record(bo, "Spk-000CDL:Cryo-PID-93:Cmd_P_ON")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Enable P-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Cmd_P_ON")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_P_OFF",               PV_DESC="CMD: Disable P-Action")
record(bo, "Spk-000CDL:Cryo-PID-93:Cmd_P_OFF")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Disable P-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Cmd_P_OFF")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_I_ON",                PV_DESC="CMD: Enable I-Action")
record(bo, "Spk-000CDL:Cryo-PID-93:Cmd_I_ON")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Enable I-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Cmd_I_ON")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_I_OFF",               PV_DESC="CMD: Disable I-Action")
record(bo, "Spk-000CDL:Cryo-PID-93:Cmd_I_OFF")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Disable I-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Cmd_I_OFF")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_D_ON",                PV_DESC="CMD: Enable D-Action")
record(bo, "Spk-000CDL:Cryo-PID-93:Cmd_D_ON")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Enable D-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Cmd_D_ON")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_D_OFF",               PV_DESC="CMD: Disable D-Action")
record(bo, "Spk-000CDL:Cryo-PID-93:Cmd_D_OFF")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Disable D-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Cmd_D_OFF")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-PID-93:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceValInp",         PV_DESC="CMD: Force Valve PLC Input")
record(bo, "Spk-000CDL:Cryo-PID-93:Cmd_ForceValInp")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Valve PLC Input")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Cmd_ForceValInp")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceValOut",         PV_DESC="CMD: Force Valve PLC Output")
record(bo, "Spk-000CDL:Cryo-PID-93:Cmd_ForceValOut")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Valve PLC Output")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Cmd_ForceValOut")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-PID-93:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-PID-93:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-PID-93:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}



############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-PID-93 EPICS -> PLC parameters ##########
##########
#PID
#<<<--- add_analog("P_Gain",                   "REAL" ,                             PV_DESC="PID Proportional gain")
record(ao, "Spk-000CDL:Cryo-PID-93:P_Gain")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Proportional gain")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "P_Gain")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_TI",                     "DINT" ,                             PV_DESC="PID Integration time",          PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-PID-93:P_TI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Integration time")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(EGU,  "sec")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "P_TI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_TD",                     "DINT" ,                             PV_DESC="PID Derivative action time",    PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-PID-93:P_TD")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Derivative action time")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(EGU,  "sec")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "P_TD")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_analog("P_DEADB",                  "REAL" ,                             PV_DESC="PID Deadband")
record(ao, "Spk-000CDL:Cryo-PID-93:P_DEADB")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Deadband")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "P_DEADB")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_LMN_HLIM",               "REAL" ,                             PV_DESC="PID High limit for MV")
record(ao, "Spk-000CDL:Cryo-PID-93:P_LMN_HLIM")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID High limit for MV")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "P_LMN_HLIM")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_LMN_LLIM",               "REAL" ,                             PV_DESC="PID Low limit for MV")
record(ao, "Spk-000CDL:Cryo-PID-93:P_LMN_LLIM")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Low limit for MV")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "P_LMN_LLIM")
	info(autosaveFields_pass0, "VAL")
}


#Setpoint and Manipulated value from HMI
#<<<--- add_analog("P_ForcePosition",          "REAL" ,                             PV_DESC="Force Valve position (AI)",     PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-PID-93:P_ForcePosition")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Valve position (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "P_ForcePosition")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Setpoint",               "REAL" ,                             PV_DESC="Setpoint from HMI (SP)",        PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-PID-93:P_Setpoint")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "P_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Manipulated",            "REAL" ,                             PV_DESC="Force Manipulated value (AO)",  PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-PID-93:P_Manipulated")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Manipulated value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "P_Manipulated")
	info(autosaveFields_pass0, "VAL")
}


#Step value when pressing Cmd_Open1Step or Cmd_Close1Step
#<<<--- add_analog("P_Step",                   "REAL" ,                             PV_DESC="Step value for open close",     PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-PID-93:P_Step")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Step value for open close")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "P_Step")
	info(autosaveFields_pass0, "VAL")
}



#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                              PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-PID-93:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                              PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-PID-93:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-93_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-PID-93:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-PID-93:P_Gain")
	field(LNK2, "Spk-000CDL:Cryo-PID-93:P_TI")
	field(LNK3, "Spk-000CDL:Cryo-PID-93:P_TD")
	field(LNK4, "Spk-000CDL:Cryo-PID-93:P_DEADB")
	field(LNK5, "Spk-000CDL:Cryo-PID-93:P_LMN_HLIM")
	field(LNK6, "Spk-000CDL:Cryo-PID-93:P_LMN_LLIM")
	field(LNK7, "Spk-000CDL:Cryo-PID-93:P_ForcePosition")
	field(LNK8, "Spk-000CDL:Cryo-PID-93:P_Setpoint")
	field(LNK9, "Spk-000CDL:Cryo-PID-93:P_Manipulated")
	field(LNKA, "Spk-000CDL:Cryo-PID-93:P_Step")
	field(LNKB, "Spk-000CDL:Cryo-PID-93:P_Faceplate_LockID")
	field(LNKC, "Spk-000CDL:Cryo-PID-93:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-PID-94 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                                 PID - PID Control                                        ##
##                                                                                          ##
##                                                                                          ##
############################           Version: 1.2           ################################
#Author:	Zoltan Madi
#Date:		13-12-2019
#Version:  v1.2
#Changes:  Added "MeasValue_Msg"
############################           Version: 1.1           ################################
#Author:	Johannes Kazantzidis
#Date:		13-12-2019
#Version:  v1.1
#Changes:  Added alarm signal "Discrepancy_Error"
############################           Version: 1.0           ################################
#Author:	Miklos Boros
#Date:		01-09-2019
#Version:  v1.0
#Changes:  First release and alarm signal "Discrepancy_Error"
##############################################################################################


############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-PID-94 PLC   -> EPICS status   ##########
##########


#Operation modes
#<<<--- add_digital("OpMode_Auto",             PV_DESC="Operation Mode Auto",       PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-94:OpMode_Auto")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "OpMode_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Manual",           PV_DESC="Operation Mode Manual",     PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-94:OpMode_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "OpMode_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",     PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-94:OpMode_Forced")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("PID_Color",                "INT",                               PV_DESC="BlockIcon color")
record(ai, "Spk-000CDL:Cryo-PID-94:PID_Color")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "BlockIcon color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "PID_Color")
	info(autosaveFields_pass0, "VAL")
}



#PID states
#<<<--- add_analog("LMN",                      "REAL",                              PV_DESC="Manipulated Value",             PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-94:LMN")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated Value")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "LMN")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("LMN_P",                    "REAL",                              PV_DESC="Manipulated Value P-Action")
record(ai, "Spk-000CDL:Cryo-PID-94:LMN_P")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated Value P-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "LMN_P")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("LMN_I",                    "REAL",                              PV_DESC="Manipulated Value I-Action")
record(ai, "Spk-000CDL:Cryo-PID-94:LMN_I")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated Value I-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "LMN_I")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("LMN_D",                    "REAL",                              PV_DESC="Manipulated Value D-Action")
record(ai, "Spk-000CDL:Cryo-PID-94:LMN_D")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated Value D-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "LMN_D")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("PID_DIF",                  "REAL",                              PV_DESC="Actual PID Error/Difference")
record(ai, "Spk-000CDL:Cryo-PID-94:PID_DIF")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Actual PID Error/Difference")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "PID_DIF")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("PV",                       "REAL",                              PV_DESC="PID Process Value",             PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-94:PV")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Process Value")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "PV")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("MAN_SP",                   "REAL",                              PV_DESC="PID Setpoint Value",            PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-94:MAN_SP")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Setpoint Value")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "MAN_SP")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("PID_Cycle",                "INT",                               PV_DESC="PID cycle time",                PV_EGU="ms")
record(ai, "Spk-000CDL:Cryo-PID-94:PID_Cycle")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID cycle time")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "PID_Cycle")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_string("ProcValueName", 39,         PV_NAME="ProcValueName",            PV_DESC="PV Name of the Process Value")
record(stringin, "Spk-000CDL:Cryo-PID-94:ProcValueName")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PV Name of the Process Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "ProcValueName")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_string("ProcValueEGU", 6,           PV_NAME="ProcValueEGU",             PV_DESC="EGU of the Process Value")
record(stringin, "Spk-000CDL:Cryo-PID-94:ProcValueEGU")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "EGU of the Process Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "ProcValueEGU")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",       PV_ONAM="InhibitManual",                 PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-PID-94:Inhibit_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",        PV_ONAM="InhibitForce",                  PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-PID-94:Inhibit_Force")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",           PV_ONAM="InhibitLocking",                PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-PID-94:Inhibit_Lock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}


#Interlock signals
#<<<--- add_digital("MoveInterlock",           PV_DESC="Move Interlock",            PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-94:MoveInterlock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Move Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "MoveInterlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("GroupInterlock",          PV_DESC="Group Interlock",           PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-94:GroupInterlock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "GroupInterlock")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableAutoBtn",           PV_DESC="Enable Auto Button",        PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-94:EnableAutoBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Auto Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "EnableAutoBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",      PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-94:EnableManualBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",       PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-94:EnableForcedBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnablePIDConf",           PV_DESC="Enable PID Configuration",  PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-94:EnablePIDConf")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable PID Configuration")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "EnablePIDConf")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("LatchAlarm",              PV_DESC="Enable Alarm Latching",     PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-94:LatchAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Alarm Latching")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("GroupAlarm",              PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-PID-94:GroupAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}


#Block Icon controls
#<<<--- add_digital("EnableBlkCtrl",           PV_DESC="Enable Block SP Button",     PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-94:EnableBlkCtrl")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Block SP Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "EnableBlkCtrl")
	info(autosaveFields_pass0, "VAL")
}

#Forcing
#<<<--- add_digital("EnableForceValBtn",       PV_DESC="Enable Force Value Button", PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-94:EnableForceValBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Value Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "EnableForceValBtn")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device locked",             PV_ONAM="True",                          PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PID-94:DevLocked")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                              PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-PID-94:Faceplate_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                              PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-PID-94:BlockIcon_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}



#Alarm signals
#<<<--- add_major_alarm("LMN_HLIM",            "LMN_HLIM",                          PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-PID-94:LMN_HLIM")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "LMN_HLIM")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "LMN_HLIM")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("LMN_LLIM",            "LMN_LLIM",                          PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-PID-94:LMN_LLIM")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "LMN_LLIM")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "LMN_LLIM")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "HW IO Error",                       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PID-94:IO_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Input_Module_Error",  "HW Input Module Error",             PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PID-94:Input_Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Input Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Input_Module_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Output_Module_Error", "HW Output Module Error",            PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PID-94:Output_Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Output Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Output_Module_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Discrepancy_Error",   "Discrepancy_Error",                 PV_ZNAM="NominalState",                  PV_ONAM="Timeout")
record(bi, "Spk-000CDL:Cryo-PID-94:Discrepancy_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Timeout")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Discrepancy_Error")
	info(autosaveFields_pass0, "VAL")
}


#Warning signals
#<<<--- add_minor_alarm("ContDeviceInMan",     "ContDeviceInMan",                   PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-PID-94:ContDeviceInMan")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "ContDeviceInMan")
	field(OSV,  "MINOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "ContDeviceInMan")
	info(autosaveFields_pass0, "VAL")
}


#Feedbacks
#PID
#<<<--- add_analog("FB_Gain",                  "REAL" ,                             PV_DESC="FB Proportional gain")
record(ai, "Spk-000CDL:Cryo-PID-94:FB_Gain")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Proportional gain")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "FB_Gain")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_TI",                    "DINT" ,                             PV_DESC="FB Integration time",           PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-PID-94:FB_TI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Integration time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "FB_TI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_TD",                    "DINT" ,                             PV_DESC="FB Derivative action time",     PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-PID-94:FB_TD")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Derivative action time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "FB_TD")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_analog("FB_DEADB",                 "REAL" ,                             PV_DESC="FB Deadband")
record(ai, "Spk-000CDL:Cryo-PID-94:FB_DEADB")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Deadband")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "FB_DEADB")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_LMN_HLIM",              "REAL" ,                             PV_DESC="FB High limit for MV")
record(ai, "Spk-000CDL:Cryo-PID-94:FB_LMN_HLIM")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB High limit for MV")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "FB_LMN_HLIM")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_LMN_LLIM",              "REAL" ,                             PV_DESC="FB Low limit for MV")
record(ai, "Spk-000CDL:Cryo-PID-94:FB_LMN_LLIM")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Low limit for MV")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "FB_LMN_LLIM")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_ForcePosition",         "REAL" ,                             PV_DESC="FB Force Valve Position (AI)",  PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-94:FB_ForcePosition")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Force Valve Position (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "FB_ForcePosition")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Setpoint",              "REAL" ,                             PV_DESC="FB Setpoint from HMI (SP)",     PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-94:FB_Setpoint")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "FB_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Step",                  "REAL" ,                             PV_DESC="FB Step value for Open/Close",  PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-94:FB_Step")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Step value for Open/Close")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "FB_Step")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Manipulated",           "REAL" ,                             PV_DESC="Force Manipulated value (AO)",  PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-94:FB_Manipulated")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Manipulated value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "FB_Manipulated")
	info(autosaveFields_pass0, "VAL")
}



#<<<--- add_digital("FB_P_ActionState",        PV_DESC="Proportional Action State")
record(bi, "Spk-000CDL:Cryo-PID-94:FB_P_ActionState")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Proportional Action State")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "FB_P_ActionState")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("FB_I_ActionState",        PV_DESC="Integral Action State")
record(bi, "Spk-000CDL:Cryo-PID-94:FB_I_ActionState")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Integral Action State")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "FB_I_ActionState")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("FB_D_ActionState",        PV_DESC="Differential Action State")
record(bi, "Spk-000CDL:Cryo-PID-94:FB_D_ActionState")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Differential Action State")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "FB_D_ActionState")
	info(autosaveFields_pass0, "VAL")
}


#Standby Synchroniztaion
#<<<--- add_digital("FB_SS_State",             PV_DESC="Standby Synchroniztaion State")
record(bi, "Spk-000CDL:Cryo-PID-94:FB_SS_State")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Standby Synchroniztaion State")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "FB_SS_State")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_SS_Value",              "REAL" ,                             PV_DESC="Standby Synchroniztaion Value", PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-PID-94:FB_SS_Value")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Standby Synchroniztaion Value")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "FB_SS_Value")
	info(autosaveFields_pass0, "VAL")
}


#MeasValue Message
#<<<--- add_string("MeasValue_Msg",				39,             	PV_NAME="Measured_Value_Msg",   	PV_DESC="Measured Value Message")
record(stringin, "Spk-000CDL:Cryo-PID-94:Measured_Value_Msg")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Measured Value Message")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "MeasValue_Msg")
	info(autosaveFields_pass0, "VAL")
}


############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-PID-94 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Auto",                PV_DESC="CMD: Auto Mode")
record(bo, "Spk-000CDL:Cryo-PID-94:Cmd_Auto")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Cmd_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Manual",              PV_DESC="CMD: Manual Mode")
record(bo, "Spk-000CDL:Cryo-PID-94:Cmd_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Cmd_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-PID-94:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_EnablePID_Conf",      PV_DESC="CMD: Enable PID configuration from OPI")
record(bo, "Spk-000CDL:Cryo-PID-94:Cmd_EnablePID_Conf")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Enable PID configuration from OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Cmd_EnablePID_Conf")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DisablePID_Conf",     PV_DESC="CMD: Disable PID configuration from OPI")
record(bo, "Spk-000CDL:Cryo-PID-94:Cmd_DisablePID_Conf")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Disable PID configuration from OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Cmd_DisablePID_Conf")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_P_ON",                PV_DESC="CMD: Enable P-Action")
record(bo, "Spk-000CDL:Cryo-PID-94:Cmd_P_ON")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Enable P-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Cmd_P_ON")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_P_OFF",               PV_DESC="CMD: Disable P-Action")
record(bo, "Spk-000CDL:Cryo-PID-94:Cmd_P_OFF")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Disable P-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Cmd_P_OFF")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_I_ON",                PV_DESC="CMD: Enable I-Action")
record(bo, "Spk-000CDL:Cryo-PID-94:Cmd_I_ON")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Enable I-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Cmd_I_ON")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_I_OFF",               PV_DESC="CMD: Disable I-Action")
record(bo, "Spk-000CDL:Cryo-PID-94:Cmd_I_OFF")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Disable I-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Cmd_I_OFF")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_D_ON",                PV_DESC="CMD: Enable D-Action")
record(bo, "Spk-000CDL:Cryo-PID-94:Cmd_D_ON")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Enable D-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Cmd_D_ON")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_D_OFF",               PV_DESC="CMD: Disable D-Action")
record(bo, "Spk-000CDL:Cryo-PID-94:Cmd_D_OFF")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Disable D-Action")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Cmd_D_OFF")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-PID-94:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceValInp",         PV_DESC="CMD: Force Valve PLC Input")
record(bo, "Spk-000CDL:Cryo-PID-94:Cmd_ForceValInp")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Valve PLC Input")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Cmd_ForceValInp")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceValOut",         PV_DESC="CMD: Force Valve PLC Output")
record(bo, "Spk-000CDL:Cryo-PID-94:Cmd_ForceValOut")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Valve PLC Output")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Cmd_ForceValOut")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-PID-94:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-PID-94:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-PID-94:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}



############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-PID-94 EPICS -> PLC parameters ##########
##########
#PID
#<<<--- add_analog("P_Gain",                   "REAL" ,                             PV_DESC="PID Proportional gain")
record(ao, "Spk-000CDL:Cryo-PID-94:P_Gain")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Proportional gain")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "P_Gain")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_TI",                     "DINT" ,                             PV_DESC="PID Integration time",          PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-PID-94:P_TI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Integration time")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(EGU,  "sec")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "P_TI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_TD",                     "DINT" ,                             PV_DESC="PID Derivative action time",    PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-PID-94:P_TD")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Derivative action time")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(EGU,  "sec")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "P_TD")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_analog("P_DEADB",                  "REAL" ,                             PV_DESC="PID Deadband")
record(ao, "Spk-000CDL:Cryo-PID-94:P_DEADB")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Deadband")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "P_DEADB")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_LMN_HLIM",               "REAL" ,                             PV_DESC="PID High limit for MV")
record(ao, "Spk-000CDL:Cryo-PID-94:P_LMN_HLIM")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID High limit for MV")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "P_LMN_HLIM")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_LMN_LLIM",               "REAL" ,                             PV_DESC="PID Low limit for MV")
record(ao, "Spk-000CDL:Cryo-PID-94:P_LMN_LLIM")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "PID Low limit for MV")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "P_LMN_LLIM")
	info(autosaveFields_pass0, "VAL")
}


#Setpoint and Manipulated value from HMI
#<<<--- add_analog("P_ForcePosition",          "REAL" ,                             PV_DESC="Force Valve position (AI)",     PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-PID-94:P_ForcePosition")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Valve position (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "P_ForcePosition")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Setpoint",               "REAL" ,                             PV_DESC="Setpoint from HMI (SP)",        PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-PID-94:P_Setpoint")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "P_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Manipulated",            "REAL" ,                             PV_DESC="Force Manipulated value (AO)",  PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-PID-94:P_Manipulated")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Manipulated value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "P_Manipulated")
	info(autosaveFields_pass0, "VAL")
}


#Step value when pressing Cmd_Open1Step or Cmd_Close1Step
#<<<--- add_analog("P_Step",                   "REAL" ,                             PV_DESC="Step value for open close",     PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-PID-94:P_Step")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Step value for open close")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "P_Step")
	info(autosaveFields_pass0, "VAL")
}



#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                              PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-PID-94:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                              PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-PID-94:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PID-94_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-PID-94:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-PID-94:P_Gain")
	field(LNK2, "Spk-000CDL:Cryo-PID-94:P_TI")
	field(LNK3, "Spk-000CDL:Cryo-PID-94:P_TD")
	field(LNK4, "Spk-000CDL:Cryo-PID-94:P_DEADB")
	field(LNK5, "Spk-000CDL:Cryo-PID-94:P_LMN_HLIM")
	field(LNK6, "Spk-000CDL:Cryo-PID-94:P_LMN_LLIM")
	field(LNK7, "Spk-000CDL:Cryo-PID-94:P_ForcePosition")
	field(LNK8, "Spk-000CDL:Cryo-PID-94:P_Setpoint")
	field(LNK9, "Spk-000CDL:Cryo-PID-94:P_Manipulated")
	field(LNKA, "Spk-000CDL:Cryo-PID-94:P_Step")
	field(LNKB, "Spk-000CDL:Cryo-PID-94:P_Faceplate_LockID")
	field(LNKC, "Spk-000CDL:Cryo-PID-94:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-CV-91 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_CV_PB_SIPART                                                           ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
#Siemens Sipart PS2 Valve Positioner
##                                                                                          ##
##
############################           Version: 1.7           ################################
#Author:	Emilio Asensi
#Date:		06-09-2022
#Version:  v1.7
#Changes:
#Added pvs for timer and filter
############################           Version: 1.6           ################################
#Author:	Emilio Asensi
#Date:		03-05-2021
#Version:  v1.6
#Changes:
#Added missing alarm signals                                                                                  ##
############################           Version: 1.5           ################################
#Author:	Peter Talas
#Date:		16-03-2021
#Version:  v1.5
#Changes:
#Archiving added
#rpm changed to % on the ramping parameters
#Interlock Message added
############################           Version: 1.4           ################################
#Author:	Miklos Boros
#Date:		27-05-2019
#Version:  v1.4
#Changes:
#Integration to CryoLibrary
#Variable name unification
############################           Version: 1.3           ################################
#Author:	Emilio Asensi
#Date:		24-01-2019
#Version:  v1.3
#Changes:
#Accommodate changes on CMS_CV
#1. Changed smoother ramping
#Sipart module information
#2. Removed Cascade operation
#3. Modified CheckBack diagnostic bytes
############################           Version: 1.2           ################################
#Author:	Emilio Asensi
#Date:		13-09-2018
#Version:  v1.2
#Changes:
#Accommodate the changes on CMS_CV
#1. Modified "For OPI visualisation" section: Added digital variable "FB_Keep_Setpoint".
#2. Modified "Parameter Block" section: Added digital variable "P_Keep_Setpoint".
#3. Modified Alarm Signal section to be compatible with new format.
############################           Version: 1.0           ################################
#Author:   Miklos Boros, Emilio Asensi
#Date:	    17-05-2018
#Version:  v1.0
#Note:     Based on CMS_CV.def
##############################################################################################


############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-CV-91 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_Auto",                           PV_DESC="Operation Mode Auto",        PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-91:OpMode_Auto")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "OpMode_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Manual",                         PV_DESC="Operation Mode Manual",      PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-91:OpMode_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "OpMode_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",                         PV_DESC="Operation Mode Forced",      PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-91:OpMode_Forced")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ValveColor","INT",                       PV_DESC="BlockIcon valve color")
record(ai, "Spk-000CDL:Cryo-CV-91:ValveColor")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "BlockIcon valve color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "ValveColor")
	info(autosaveFields_pass0, "VAL")
}


#Valve states
#<<<--- add_analog("ValvePosition","REAL",  ARCHIVE=True,    PV_DESC="Valve Position AI",          PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-91:ValvePosition")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Position AI")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "ValvePosition")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ValveSP","REAL",  ARCHIVE=True,          PV_DESC="Valve Setpoint",             PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-91:ValveSP")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Setpoint")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "ValveSP")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ValveMV","REAL",  ARCHIVE=True,          PV_DESC="Valve Control AO",           PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-91:ValveMV")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Control AO")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "ValveMV")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Opening",                               PV_DESC="Valve opening",              PV_ONAM="Opening",          PV_ZNAM="NotMoving")
record(bi, "Spk-000CDL:Cryo-CV-91:Opening")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve opening")
	field(ONAM, "Opening")
	field(ZNAM, "NotMoving")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Opening")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Closing",                               PV_DESC="Valve closing",              PV_ONAM="Closing",          PV_ZNAM="NotMoving")
record(bi, "Spk-000CDL:Cryo-CV-91:Closing")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve closing")
	field(ONAM, "Closing")
	field(ZNAM, "NotMoving")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Closing")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("StatusRB","BYTE" ,                       PV_DESC="Valve ReadBack Status")
record(ai, "Spk-000CDL:Cryo-CV-91:StatusRB")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve ReadBack Status")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "StatusRB")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("DiscretePosition","INT" ,                PV_DESC="Valve Discrete Position (0-3)")
record(ai, "Spk-000CDL:Cryo-CV-91:DiscretePosition")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Discrete Position (0-3)")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "DiscretePosition")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("DiscreteStatus","BYTE" ,                 PV_DESC="Valve Discrete Status")
record(ai, "Spk-000CDL:Cryo-CV-91:DiscreteStatus")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Discrete Status")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "DiscreteStatus")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("DiagnosticsCB01","BYTE" ,                PV_DESC="CheckBack byte 01")
record(ai, "Spk-000CDL:Cryo-CV-91:DiagnosticsCB01")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CheckBack byte 01")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "DiagnosticsCB01")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("DiagnosticsCB02","BYTE" ,                PV_DESC="CheckBack byte 02")
record(ai, "Spk-000CDL:Cryo-CV-91:DiagnosticsCB02")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CheckBack byte 02")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "DiagnosticsCB02")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("DiagnosticsCB03","BYTE" ,                PV_DESC="CheckBack byte 03")
record(ai, "Spk-000CDL:Cryo-CV-91:DiagnosticsCB03")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CheckBack byte 03")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "DiagnosticsCB03")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",                        PV_DESC="Inhibit Manual Mode",        PV_ONAM="InhibitManual",    PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-CV-91:Inhibit_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",                         PV_DESC="Inhibit Force Mode",         PV_ONAM="InhibitForce",     PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-CV-91:Inhibit_Force")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",                          PV_DESC="Inhibit Locking",            PV_ONAM="InhibitLocking",   PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-CV-91:Inhibit_Lock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}


#Interlock signals
#<<<--- add_digital("GroupInterlock",                        PV_DESC="Group Interlock",            PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-91:GroupInterlock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "GroupInterlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_string("InterlockMsg", 39,                       PV_NAME="InterlockMsg",               PV_DESC="Interlock Message")
record(stringin, "Spk-000CDL:Cryo-CV-91:InterlockMsg")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Interlock Message")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "InterlockMsg")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("MoveInterlock",  ARCHIVE=True,          PV_DESC="Move Interlock",             PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-91:MoveInterlock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Move Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "MoveInterlock")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableAutoBtn",                         PV_DESC="Enable Auto Button",         PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-91:EnableAutoBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Auto Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "EnableAutoBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",                       PV_DESC="Enable Manual Button",       PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-91:EnableManualBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",                       PV_DESC="Enable Force Button",        PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-91:EnableForcedBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}


#Block Icon controls
#<<<--- add_digital("EnableBlkCtrl",                         PV_DESC="Enable Block SP Button",     PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-91:EnableBlkCtrl")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Block SP Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "EnableBlkCtrl")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_digital("EnableForceValBtn",                     PV_DESC="Enable Force Value Button",  PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-91:EnableForceValBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Value Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "EnableForceValBtn")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",                             PV_DESC="Device locked",              PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-91:DevLocked")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID","DINT",                PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-CV-91:Faceplate_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID","DINT",                PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-CV-91:BlockIcon_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("LatchAlarm",                            PV_DESC="Latching of the alarms")
record(bi, "Spk-000CDL:Cryo-CV-91:LatchAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("GroupAlarm",                            PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-CV-91:GroupAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("Position_Discrep","Position Discrepancy",           PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-91:Position_Discrep")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Position Discrepancy")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Position_Discrep")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error","HW IO Error",                            PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-91:IO_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Module_Error","HW Output Module Error",             PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-91:Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Output Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Module_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Input_Module_Error","HW Input Module Error",        PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-91:Input_Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Input Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Input_Module_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Output_Module_Error","HW Output Module Error",      PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-91:Output_Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Output Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Output_Module_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("SPLimitActive","SPLimitActive",                     PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-91:SPLimitActive")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "SPLimitActive")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "SPLimitActive")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("SSTriggered","SSTriggered",                         PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-91:SSTriggered")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "SSTriggered")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "SSTriggered")
	info(autosaveFields_pass0, "VAL")
}


#Discrepancy
#<<<--- add_analog("DiscrPerc","REAL" ,                      PV_DESC="Discrepancy In Percent",                     PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-91:DiscrPerc")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Discrepancy In Percent")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "DiscrPerc")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_time("DiscrTime",                                PV_DESC="Discrepancy Time Interval")
record(ai, "Spk-000CDL:Cryo-CV-91:DiscrTime")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Discrepancy Time Interval")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "DiscrTime")
	info(autosaveFields_pass0, "VAL")
}


#Ramping
#<<<--- add_analog("MaxRampUPSpd","REAL",                    PV_DESC="Maximum Ramping UP Speed",                 PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-CV-91:MaxRampUPSpd")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum Ramping UP Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "MaxRampUPSpd")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("MaxRampDNSpd","REAL",                    PV_DESC="Maximum Ramping DOWN Speed",               PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-CV-91:MaxRampDNSpd")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum Ramping DOWN Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "MaxRampDNSpd")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ActRampSpeed","REAL",                    PV_DESC="Actual Ramping Speed",                     PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-CV-91:ActRampSpeed")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Actual Ramping Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "ActRampSpeed")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Ramping",                               PV_DESC="Ramping Indicator",                        PV_ONAM="True",                                     PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-91:Ramping")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Indicator")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Ramping")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("RampSettingOK",                         PV_DESC="Ramping can be enabled",                   PV_ONAM="True",                                     PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-91:RampSettingOK")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping can be enabled")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "RampSettingOK")
	info(autosaveFields_pass0, "VAL")
}


#Feedbacks
#<<<--- add_analog("FB_RampUPTIME","INT",                    PV_DESC="Ramping UP time",                          PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-CV-91:FB_RampUPTIME")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "FB_RampUPTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampUPRANGE","REAL",                  PV_DESC="Ramping UP range",                         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-91:FB_RampUPRANGE")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "FB_RampUPRANGE")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampDNTIME","INT",                    PV_DESC="Ramping DOWN time",                        PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-CV-91:FB_RampDNTIME")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "FB_RampDNTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampDNRANGE","REAL",                  PV_DESC="Ramping DOWN range",                       PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-91:FB_RampDNRANGE")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "FB_RampDNRANGE")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_ForcePosition","REAL" ,               PV_DESC="FB Force Valve Position (AI)",             PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-91:FB_ForcePosition")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Force Valve Position (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "FB_ForcePosition")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Setpoint","REAL" ,                    PV_DESC="FB Setpoint from HMI (SP)",                PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-91:FB_Setpoint")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "FB_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Manipulated","REAL" ,                 PV_DESC="FB Manipulated Value (AO)",                PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-91:FB_Manipulated")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Manipulated Value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "FB_Manipulated")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Step","REAL" ,                        PV_DESC="FB Step value for Open/Close",             PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-91:FB_Step")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Step value for Open/Close")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "FB_Step")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampTIME","INT" ,                     PV_DESC="Ramping Time",                             PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-CV-91:FB_RampTIME")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "FB_RampTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampRANGE","REAL" ,                   PV_DESC="Ramping Range",                            PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-91:FB_RampRANGE")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "FB_RampRANGE")
	info(autosaveFields_pass0, "VAL")
}


#Checkback
#add_analog("CB_ValvePosition","REAL",                PV_DESC="CB Valve Position",          PV_EGU="%")
#add_analog("CB_ValveStatus","REAL",                  PV_DESC="CB Valve Status")
#add_analog("CB_ValvePOSD","REAL",                    PV_DESC="CB Valve discrete Position")
#add_analog("CB_ValveStatusD","REAL",                 PV_DESC="CB Valve discrete Status")
#add_analog("CB_ValveDIAG","REAL",                    PV_DESC="CB Valve Diagnostics")

#Timers and Filters
#<<<--- add_digital("Timer_enabled")
record(bi, "Spk-000CDL:Cryo-CV-91:Timer_enabled")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Timer_enabled")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("T_triggered")
record(bi, "Spk-000CDL:Cryo-CV-91:T_triggered")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "T_triggered")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("T_running", "INT")
record(ai, "Spk-000CDL:Cryo-CV-91:T_running")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "T_running")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("F_enabled")
record(bi, "Spk-000CDL:Cryo-CV-91:F_enabled")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "F_enabled")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FiltedValue", "REAL")
record(ai, "Spk-000CDL:Cryo-CV-91:FiltedValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "FiltedValue")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-CV-91 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Auto",                              PV_DESC="CMD: Auto Mode")
record(bo, "Spk-000CDL:Cryo-CV-91:Cmd_Auto")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Cmd_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Manual",                            PV_DESC="CMD: Manual Mode")
record(bo, "Spk-000CDL:Cryo-CV-91:Cmd_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Cmd_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",                             PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-CV-91:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_RampON",                            PV_DESC="Turn Ramping ON")
record(bo, "Spk-000CDL:Cryo-CV-91:Cmd_RampON")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Turn Ramping ON")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Cmd_RampON")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_RampOFF",                           PV_DESC="Turn Ramping OFF")
record(bo, "Spk-000CDL:Cryo-CV-91:Cmd_RampOFF")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Turn Ramping OFF")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Cmd_RampOFF")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",                          PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-CV-91:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceValInp",                       PV_DESC="CMD: Force Valve PLC Input")
record(bo, "Spk-000CDL:Cryo-CV-91:Cmd_ForceValInp")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Valve PLC Input")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Cmd_ForceValInp")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceValOut",                       PV_DESC="CMD: Force Valve PLC Output")
record(bo, "Spk-000CDL:Cryo-CV-91:Cmd_ForceValOut")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Valve PLC Output")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Cmd_ForceValOut")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",                       PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-CV-91:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",                           PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-CV-91:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",                         PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-CV-91:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}



############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-CV-91 EPICS -> PLC parameters ##########
##########

#Setpoint and Manipulated value from HMI
#<<<--- add_analog("P_ForcePosition","REAL" ,                PV_DESC="Force Valve position (AI)",             PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-91:P_ForcePosition")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Valve position (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "P_ForcePosition")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Setpoint","REAL" ,                     PV_DESC="Setpoint from HMI (SP)",                PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-91:P_Setpoint")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "P_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Manipulated","REAL" ,                  PV_DESC="Manipulated value (AO)",                PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-91:P_Manipulated")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "P_Manipulated")
	info(autosaveFields_pass0, "VAL")
}


#Step value when pressing Cmd_Open1Step or Cmd_Close1Step
#<<<--- add_analog("P_Step","REAL" ,                         PV_DESC="Step value for open close",             PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-91:P_Step")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Step value for open close")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "P_Step")
	info(autosaveFields_pass0, "VAL")
}


#Ramping speed from the HMI
#<<<--- add_analog("P_RampUPTIME","INT",                     PV_DESC="Ramping UP Time",                          PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-CV-91:P_RampUPTIME")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Time")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(EGU,  "sec")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "P_RampUPTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampUPRANGE","REAL",                   PV_DESC="Ramping UP Range",                         PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-91:P_RampUPRANGE")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "P_RampUPRANGE")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNTIME","INT",                     PV_DESC="Ramping DOWN Time",                        PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-CV-91:P_RampDNTIME")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Time")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(EGU,  "sec")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "P_RampDNTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNRANGE","REAL",                   PV_DESC="Ramping DOWN Range",                       PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-91:P_RampDNRANGE")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "P_RampDNRANGE")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID","DINT",              PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-CV-91:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID","DINT",              PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-CV-91:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Timers and Filters
#<<<--- add_analog("T_period", "INT")
record(ao, "Spk-000CDL:Cryo-CV-91:T_period")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "T_period")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("F_interval", "INT")
record(ao, "Spk-000CDL:Cryo-CV-91:F_interval")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "F_interval")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("F_buffer", "INT")
record(ao, "Spk-000CDL:Cryo-CV-91:F_buffer")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "F_buffer")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("F_Enable")
record(bo, "Spk-000CDL:Cryo-CV-91:F_Enable")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-91_iDB")
	info("plc_variable", "F_Enable")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-CV-91:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-CV-91:P_ForcePosition")
	field(LNK2, "Spk-000CDL:Cryo-CV-91:P_Setpoint")
	field(LNK3, "Spk-000CDL:Cryo-CV-91:P_Manipulated")
	field(LNK4, "Spk-000CDL:Cryo-CV-91:P_Step")
	field(LNK5, "Spk-000CDL:Cryo-CV-91:P_RampUPTIME")
	field(LNK6, "Spk-000CDL:Cryo-CV-91:P_RampUPRANGE")
	field(LNK7, "Spk-000CDL:Cryo-CV-91:P_RampDNTIME")
	field(LNK8, "Spk-000CDL:Cryo-CV-91:P_RampDNRANGE")
	field(LNK9, "Spk-000CDL:Cryo-CV-91:P_Faceplate_LockID")
	field(LNKA, "Spk-000CDL:Cryo-CV-91:P_BlockIcon_LockID")
	field(LNKB, "Spk-000CDL:Cryo-CV-91:T_period")
	field(LNKC, "Spk-000CDL:Cryo-CV-91:F_interval")
	field(LNKD, "Spk-000CDL:Cryo-CV-91:F_buffer")
	field(LNKE, "Spk-000CDL:Cryo-CV-91:F_Enable")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-CV-92 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_CV_PB_SIPART                                                           ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
#Siemens Sipart PS2 Valve Positioner
##                                                                                          ##
##
############################           Version: 1.7           ################################
#Author:	Emilio Asensi
#Date:		06-09-2022
#Version:  v1.7
#Changes:
#Added pvs for timer and filter
############################           Version: 1.6           ################################
#Author:	Emilio Asensi
#Date:		03-05-2021
#Version:  v1.6
#Changes:
#Added missing alarm signals                                                                                  ##
############################           Version: 1.5           ################################
#Author:	Peter Talas
#Date:		16-03-2021
#Version:  v1.5
#Changes:
#Archiving added
#rpm changed to % on the ramping parameters
#Interlock Message added
############################           Version: 1.4           ################################
#Author:	Miklos Boros
#Date:		27-05-2019
#Version:  v1.4
#Changes:
#Integration to CryoLibrary
#Variable name unification
############################           Version: 1.3           ################################
#Author:	Emilio Asensi
#Date:		24-01-2019
#Version:  v1.3
#Changes:
#Accommodate changes on CMS_CV
#1. Changed smoother ramping
#Sipart module information
#2. Removed Cascade operation
#3. Modified CheckBack diagnostic bytes
############################           Version: 1.2           ################################
#Author:	Emilio Asensi
#Date:		13-09-2018
#Version:  v1.2
#Changes:
#Accommodate the changes on CMS_CV
#1. Modified "For OPI visualisation" section: Added digital variable "FB_Keep_Setpoint".
#2. Modified "Parameter Block" section: Added digital variable "P_Keep_Setpoint".
#3. Modified Alarm Signal section to be compatible with new format.
############################           Version: 1.0           ################################
#Author:   Miklos Boros, Emilio Asensi
#Date:	    17-05-2018
#Version:  v1.0
#Note:     Based on CMS_CV.def
##############################################################################################


############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-CV-92 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_Auto",                           PV_DESC="Operation Mode Auto",        PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-92:OpMode_Auto")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "OpMode_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Manual",                         PV_DESC="Operation Mode Manual",      PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-92:OpMode_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "OpMode_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",                         PV_DESC="Operation Mode Forced",      PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-92:OpMode_Forced")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ValveColor","INT",                       PV_DESC="BlockIcon valve color")
record(ai, "Spk-000CDL:Cryo-CV-92:ValveColor")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "BlockIcon valve color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "ValveColor")
	info(autosaveFields_pass0, "VAL")
}


#Valve states
#<<<--- add_analog("ValvePosition","REAL",  ARCHIVE=True,    PV_DESC="Valve Position AI",          PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-92:ValvePosition")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Position AI")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "ValvePosition")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ValveSP","REAL",  ARCHIVE=True,          PV_DESC="Valve Setpoint",             PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-92:ValveSP")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Setpoint")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "ValveSP")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ValveMV","REAL",  ARCHIVE=True,          PV_DESC="Valve Control AO",           PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-92:ValveMV")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Control AO")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "ValveMV")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Opening",                               PV_DESC="Valve opening",              PV_ONAM="Opening",          PV_ZNAM="NotMoving")
record(bi, "Spk-000CDL:Cryo-CV-92:Opening")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve opening")
	field(ONAM, "Opening")
	field(ZNAM, "NotMoving")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Opening")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Closing",                               PV_DESC="Valve closing",              PV_ONAM="Closing",          PV_ZNAM="NotMoving")
record(bi, "Spk-000CDL:Cryo-CV-92:Closing")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve closing")
	field(ONAM, "Closing")
	field(ZNAM, "NotMoving")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Closing")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("StatusRB","BYTE" ,                       PV_DESC="Valve ReadBack Status")
record(ai, "Spk-000CDL:Cryo-CV-92:StatusRB")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve ReadBack Status")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "StatusRB")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("DiscretePosition","INT" ,                PV_DESC="Valve Discrete Position (0-3)")
record(ai, "Spk-000CDL:Cryo-CV-92:DiscretePosition")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Discrete Position (0-3)")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "DiscretePosition")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("DiscreteStatus","BYTE" ,                 PV_DESC="Valve Discrete Status")
record(ai, "Spk-000CDL:Cryo-CV-92:DiscreteStatus")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Discrete Status")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "DiscreteStatus")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("DiagnosticsCB01","BYTE" ,                PV_DESC="CheckBack byte 01")
record(ai, "Spk-000CDL:Cryo-CV-92:DiagnosticsCB01")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CheckBack byte 01")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "DiagnosticsCB01")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("DiagnosticsCB02","BYTE" ,                PV_DESC="CheckBack byte 02")
record(ai, "Spk-000CDL:Cryo-CV-92:DiagnosticsCB02")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CheckBack byte 02")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "DiagnosticsCB02")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("DiagnosticsCB03","BYTE" ,                PV_DESC="CheckBack byte 03")
record(ai, "Spk-000CDL:Cryo-CV-92:DiagnosticsCB03")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CheckBack byte 03")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "DiagnosticsCB03")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",                        PV_DESC="Inhibit Manual Mode",        PV_ONAM="InhibitManual",    PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-CV-92:Inhibit_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",                         PV_DESC="Inhibit Force Mode",         PV_ONAM="InhibitForce",     PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-CV-92:Inhibit_Force")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",                          PV_DESC="Inhibit Locking",            PV_ONAM="InhibitLocking",   PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-CV-92:Inhibit_Lock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}


#Interlock signals
#<<<--- add_digital("GroupInterlock",                        PV_DESC="Group Interlock",            PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-92:GroupInterlock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "GroupInterlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_string("InterlockMsg", 39,                       PV_NAME="InterlockMsg",               PV_DESC="Interlock Message")
record(stringin, "Spk-000CDL:Cryo-CV-92:InterlockMsg")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Interlock Message")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "InterlockMsg")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("MoveInterlock",  ARCHIVE=True,          PV_DESC="Move Interlock",             PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-92:MoveInterlock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Move Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "MoveInterlock")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableAutoBtn",                         PV_DESC="Enable Auto Button",         PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-92:EnableAutoBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Auto Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "EnableAutoBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",                       PV_DESC="Enable Manual Button",       PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-92:EnableManualBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",                       PV_DESC="Enable Force Button",        PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-92:EnableForcedBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}


#Block Icon controls
#<<<--- add_digital("EnableBlkCtrl",                         PV_DESC="Enable Block SP Button",     PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-92:EnableBlkCtrl")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Block SP Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "EnableBlkCtrl")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_digital("EnableForceValBtn",                     PV_DESC="Enable Force Value Button",  PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-92:EnableForceValBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Value Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "EnableForceValBtn")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",                             PV_DESC="Device locked",              PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-92:DevLocked")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID","DINT",                PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-CV-92:Faceplate_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID","DINT",                PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-CV-92:BlockIcon_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("LatchAlarm",                            PV_DESC="Latching of the alarms")
record(bi, "Spk-000CDL:Cryo-CV-92:LatchAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("GroupAlarm",                            PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-CV-92:GroupAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("Position_Discrep","Position Discrepancy",           PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-92:Position_Discrep")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Position Discrepancy")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Position_Discrep")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error","HW IO Error",                            PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-92:IO_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Module_Error","HW Output Module Error",             PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-92:Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Output Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Module_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Input_Module_Error","HW Input Module Error",        PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-92:Input_Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Input Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Input_Module_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Output_Module_Error","HW Output Module Error",      PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-92:Output_Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Output Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Output_Module_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("SPLimitActive","SPLimitActive",                     PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-92:SPLimitActive")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "SPLimitActive")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "SPLimitActive")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("SSTriggered","SSTriggered",                         PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-92:SSTriggered")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "SSTriggered")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "SSTriggered")
	info(autosaveFields_pass0, "VAL")
}


#Discrepancy
#<<<--- add_analog("DiscrPerc","REAL" ,                      PV_DESC="Discrepancy In Percent",                     PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-92:DiscrPerc")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Discrepancy In Percent")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "DiscrPerc")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_time("DiscrTime",                                PV_DESC="Discrepancy Time Interval")
record(ai, "Spk-000CDL:Cryo-CV-92:DiscrTime")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Discrepancy Time Interval")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "DiscrTime")
	info(autosaveFields_pass0, "VAL")
}


#Ramping
#<<<--- add_analog("MaxRampUPSpd","REAL",                    PV_DESC="Maximum Ramping UP Speed",                 PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-CV-92:MaxRampUPSpd")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum Ramping UP Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "MaxRampUPSpd")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("MaxRampDNSpd","REAL",                    PV_DESC="Maximum Ramping DOWN Speed",               PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-CV-92:MaxRampDNSpd")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum Ramping DOWN Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "MaxRampDNSpd")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ActRampSpeed","REAL",                    PV_DESC="Actual Ramping Speed",                     PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-CV-92:ActRampSpeed")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Actual Ramping Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "ActRampSpeed")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Ramping",                               PV_DESC="Ramping Indicator",                        PV_ONAM="True",                                     PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-92:Ramping")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Indicator")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Ramping")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("RampSettingOK",                         PV_DESC="Ramping can be enabled",                   PV_ONAM="True",                                     PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-92:RampSettingOK")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping can be enabled")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "RampSettingOK")
	info(autosaveFields_pass0, "VAL")
}


#Feedbacks
#<<<--- add_analog("FB_RampUPTIME","INT",                    PV_DESC="Ramping UP time",                          PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-CV-92:FB_RampUPTIME")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "FB_RampUPTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampUPRANGE","REAL",                  PV_DESC="Ramping UP range",                         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-92:FB_RampUPRANGE")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "FB_RampUPRANGE")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampDNTIME","INT",                    PV_DESC="Ramping DOWN time",                        PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-CV-92:FB_RampDNTIME")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "FB_RampDNTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampDNRANGE","REAL",                  PV_DESC="Ramping DOWN range",                       PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-92:FB_RampDNRANGE")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "FB_RampDNRANGE")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_ForcePosition","REAL" ,               PV_DESC="FB Force Valve Position (AI)",             PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-92:FB_ForcePosition")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Force Valve Position (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "FB_ForcePosition")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Setpoint","REAL" ,                    PV_DESC="FB Setpoint from HMI (SP)",                PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-92:FB_Setpoint")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "FB_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Manipulated","REAL" ,                 PV_DESC="FB Manipulated Value (AO)",                PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-92:FB_Manipulated")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Manipulated Value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "FB_Manipulated")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Step","REAL" ,                        PV_DESC="FB Step value for Open/Close",             PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-92:FB_Step")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Step value for Open/Close")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "FB_Step")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampTIME","INT" ,                     PV_DESC="Ramping Time",                             PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-CV-92:FB_RampTIME")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "FB_RampTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampRANGE","REAL" ,                   PV_DESC="Ramping Range",                            PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-92:FB_RampRANGE")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "FB_RampRANGE")
	info(autosaveFields_pass0, "VAL")
}


#Checkback
#add_analog("CB_ValvePosition","REAL",                PV_DESC="CB Valve Position",          PV_EGU="%")
#add_analog("CB_ValveStatus","REAL",                  PV_DESC="CB Valve Status")
#add_analog("CB_ValvePOSD","REAL",                    PV_DESC="CB Valve discrete Position")
#add_analog("CB_ValveStatusD","REAL",                 PV_DESC="CB Valve discrete Status")
#add_analog("CB_ValveDIAG","REAL",                    PV_DESC="CB Valve Diagnostics")

#Timers and Filters
#<<<--- add_digital("Timer_enabled")
record(bi, "Spk-000CDL:Cryo-CV-92:Timer_enabled")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Timer_enabled")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("T_triggered")
record(bi, "Spk-000CDL:Cryo-CV-92:T_triggered")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "T_triggered")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("T_running", "INT")
record(ai, "Spk-000CDL:Cryo-CV-92:T_running")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "T_running")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("F_enabled")
record(bi, "Spk-000CDL:Cryo-CV-92:F_enabled")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "F_enabled")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FiltedValue", "REAL")
record(ai, "Spk-000CDL:Cryo-CV-92:FiltedValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "FiltedValue")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-CV-92 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Auto",                              PV_DESC="CMD: Auto Mode")
record(bo, "Spk-000CDL:Cryo-CV-92:Cmd_Auto")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Cmd_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Manual",                            PV_DESC="CMD: Manual Mode")
record(bo, "Spk-000CDL:Cryo-CV-92:Cmd_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Cmd_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",                             PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-CV-92:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_RampON",                            PV_DESC="Turn Ramping ON")
record(bo, "Spk-000CDL:Cryo-CV-92:Cmd_RampON")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Turn Ramping ON")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Cmd_RampON")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_RampOFF",                           PV_DESC="Turn Ramping OFF")
record(bo, "Spk-000CDL:Cryo-CV-92:Cmd_RampOFF")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Turn Ramping OFF")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Cmd_RampOFF")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",                          PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-CV-92:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceValInp",                       PV_DESC="CMD: Force Valve PLC Input")
record(bo, "Spk-000CDL:Cryo-CV-92:Cmd_ForceValInp")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Valve PLC Input")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Cmd_ForceValInp")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceValOut",                       PV_DESC="CMD: Force Valve PLC Output")
record(bo, "Spk-000CDL:Cryo-CV-92:Cmd_ForceValOut")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Valve PLC Output")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Cmd_ForceValOut")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",                       PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-CV-92:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",                           PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-CV-92:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",                         PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-CV-92:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}



############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-CV-92 EPICS -> PLC parameters ##########
##########

#Setpoint and Manipulated value from HMI
#<<<--- add_analog("P_ForcePosition","REAL" ,                PV_DESC="Force Valve position (AI)",             PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-92:P_ForcePosition")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Valve position (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "P_ForcePosition")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Setpoint","REAL" ,                     PV_DESC="Setpoint from HMI (SP)",                PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-92:P_Setpoint")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "P_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Manipulated","REAL" ,                  PV_DESC="Manipulated value (AO)",                PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-92:P_Manipulated")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "P_Manipulated")
	info(autosaveFields_pass0, "VAL")
}


#Step value when pressing Cmd_Open1Step or Cmd_Close1Step
#<<<--- add_analog("P_Step","REAL" ,                         PV_DESC="Step value for open close",             PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-92:P_Step")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Step value for open close")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "P_Step")
	info(autosaveFields_pass0, "VAL")
}


#Ramping speed from the HMI
#<<<--- add_analog("P_RampUPTIME","INT",                     PV_DESC="Ramping UP Time",                          PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-CV-92:P_RampUPTIME")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Time")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(EGU,  "sec")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "P_RampUPTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampUPRANGE","REAL",                   PV_DESC="Ramping UP Range",                         PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-92:P_RampUPRANGE")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "P_RampUPRANGE")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNTIME","INT",                     PV_DESC="Ramping DOWN Time",                        PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-CV-92:P_RampDNTIME")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Time")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(EGU,  "sec")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "P_RampDNTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNRANGE","REAL",                   PV_DESC="Ramping DOWN Range",                       PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-92:P_RampDNRANGE")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "P_RampDNRANGE")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID","DINT",              PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-CV-92:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID","DINT",              PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-CV-92:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Timers and Filters
#<<<--- add_analog("T_period", "INT")
record(ao, "Spk-000CDL:Cryo-CV-92:T_period")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "T_period")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("F_interval", "INT")
record(ao, "Spk-000CDL:Cryo-CV-92:F_interval")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "F_interval")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("F_buffer", "INT")
record(ao, "Spk-000CDL:Cryo-CV-92:F_buffer")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "F_buffer")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("F_Enable")
record(bo, "Spk-000CDL:Cryo-CV-92:F_Enable")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-92_iDB")
	info("plc_variable", "F_Enable")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-CV-92:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-CV-92:P_ForcePosition")
	field(LNK2, "Spk-000CDL:Cryo-CV-92:P_Setpoint")
	field(LNK3, "Spk-000CDL:Cryo-CV-92:P_Manipulated")
	field(LNK4, "Spk-000CDL:Cryo-CV-92:P_Step")
	field(LNK5, "Spk-000CDL:Cryo-CV-92:P_RampUPTIME")
	field(LNK6, "Spk-000CDL:Cryo-CV-92:P_RampUPRANGE")
	field(LNK7, "Spk-000CDL:Cryo-CV-92:P_RampDNTIME")
	field(LNK8, "Spk-000CDL:Cryo-CV-92:P_RampDNRANGE")
	field(LNK9, "Spk-000CDL:Cryo-CV-92:P_Faceplate_LockID")
	field(LNKA, "Spk-000CDL:Cryo-CV-92:P_BlockIcon_LockID")
	field(LNKB, "Spk-000CDL:Cryo-CV-92:T_period")
	field(LNKC, "Spk-000CDL:Cryo-CV-92:F_interval")
	field(LNKD, "Spk-000CDL:Cryo-CV-92:F_buffer")
	field(LNKE, "Spk-000CDL:Cryo-CV-92:F_Enable")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-CV-93 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_CV_PB_SIPART                                                           ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
#Siemens Sipart PS2 Valve Positioner
##                                                                                          ##
##
############################           Version: 1.7           ################################
#Author:	Emilio Asensi
#Date:		06-09-2022
#Version:  v1.7
#Changes:
#Added pvs for timer and filter
############################           Version: 1.6           ################################
#Author:	Emilio Asensi
#Date:		03-05-2021
#Version:  v1.6
#Changes:
#Added missing alarm signals                                                                                  ##
############################           Version: 1.5           ################################
#Author:	Peter Talas
#Date:		16-03-2021
#Version:  v1.5
#Changes:
#Archiving added
#rpm changed to % on the ramping parameters
#Interlock Message added
############################           Version: 1.4           ################################
#Author:	Miklos Boros
#Date:		27-05-2019
#Version:  v1.4
#Changes:
#Integration to CryoLibrary
#Variable name unification
############################           Version: 1.3           ################################
#Author:	Emilio Asensi
#Date:		24-01-2019
#Version:  v1.3
#Changes:
#Accommodate changes on CMS_CV
#1. Changed smoother ramping
#Sipart module information
#2. Removed Cascade operation
#3. Modified CheckBack diagnostic bytes
############################           Version: 1.2           ################################
#Author:	Emilio Asensi
#Date:		13-09-2018
#Version:  v1.2
#Changes:
#Accommodate the changes on CMS_CV
#1. Modified "For OPI visualisation" section: Added digital variable "FB_Keep_Setpoint".
#2. Modified "Parameter Block" section: Added digital variable "P_Keep_Setpoint".
#3. Modified Alarm Signal section to be compatible with new format.
############################           Version: 1.0           ################################
#Author:   Miklos Boros, Emilio Asensi
#Date:	    17-05-2018
#Version:  v1.0
#Note:     Based on CMS_CV.def
##############################################################################################


############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-CV-93 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_Auto",                           PV_DESC="Operation Mode Auto",        PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-93:OpMode_Auto")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "OpMode_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Manual",                         PV_DESC="Operation Mode Manual",      PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-93:OpMode_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "OpMode_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",                         PV_DESC="Operation Mode Forced",      PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-93:OpMode_Forced")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ValveColor","INT",                       PV_DESC="BlockIcon valve color")
record(ai, "Spk-000CDL:Cryo-CV-93:ValveColor")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "BlockIcon valve color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "ValveColor")
	info(autosaveFields_pass0, "VAL")
}


#Valve states
#<<<--- add_analog("ValvePosition","REAL",  ARCHIVE=True,    PV_DESC="Valve Position AI",          PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-93:ValvePosition")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Position AI")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "ValvePosition")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ValveSP","REAL",  ARCHIVE=True,          PV_DESC="Valve Setpoint",             PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-93:ValveSP")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Setpoint")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "ValveSP")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ValveMV","REAL",  ARCHIVE=True,          PV_DESC="Valve Control AO",           PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-93:ValveMV")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Control AO")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "ValveMV")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Opening",                               PV_DESC="Valve opening",              PV_ONAM="Opening",          PV_ZNAM="NotMoving")
record(bi, "Spk-000CDL:Cryo-CV-93:Opening")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve opening")
	field(ONAM, "Opening")
	field(ZNAM, "NotMoving")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Opening")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Closing",                               PV_DESC="Valve closing",              PV_ONAM="Closing",          PV_ZNAM="NotMoving")
record(bi, "Spk-000CDL:Cryo-CV-93:Closing")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve closing")
	field(ONAM, "Closing")
	field(ZNAM, "NotMoving")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Closing")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("StatusRB","BYTE" ,                       PV_DESC="Valve ReadBack Status")
record(ai, "Spk-000CDL:Cryo-CV-93:StatusRB")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve ReadBack Status")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "StatusRB")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("DiscretePosition","INT" ,                PV_DESC="Valve Discrete Position (0-3)")
record(ai, "Spk-000CDL:Cryo-CV-93:DiscretePosition")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Discrete Position (0-3)")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "DiscretePosition")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("DiscreteStatus","BYTE" ,                 PV_DESC="Valve Discrete Status")
record(ai, "Spk-000CDL:Cryo-CV-93:DiscreteStatus")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Discrete Status")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "DiscreteStatus")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("DiagnosticsCB01","BYTE" ,                PV_DESC="CheckBack byte 01")
record(ai, "Spk-000CDL:Cryo-CV-93:DiagnosticsCB01")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CheckBack byte 01")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "DiagnosticsCB01")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("DiagnosticsCB02","BYTE" ,                PV_DESC="CheckBack byte 02")
record(ai, "Spk-000CDL:Cryo-CV-93:DiagnosticsCB02")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CheckBack byte 02")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "DiagnosticsCB02")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("DiagnosticsCB03","BYTE" ,                PV_DESC="CheckBack byte 03")
record(ai, "Spk-000CDL:Cryo-CV-93:DiagnosticsCB03")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CheckBack byte 03")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "DiagnosticsCB03")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",                        PV_DESC="Inhibit Manual Mode",        PV_ONAM="InhibitManual",    PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-CV-93:Inhibit_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",                         PV_DESC="Inhibit Force Mode",         PV_ONAM="InhibitForce",     PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-CV-93:Inhibit_Force")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",                          PV_DESC="Inhibit Locking",            PV_ONAM="InhibitLocking",   PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-CV-93:Inhibit_Lock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}


#Interlock signals
#<<<--- add_digital("GroupInterlock",                        PV_DESC="Group Interlock",            PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-93:GroupInterlock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "GroupInterlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_string("InterlockMsg", 39,                       PV_NAME="InterlockMsg",               PV_DESC="Interlock Message")
record(stringin, "Spk-000CDL:Cryo-CV-93:InterlockMsg")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Interlock Message")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "InterlockMsg")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("MoveInterlock",  ARCHIVE=True,          PV_DESC="Move Interlock",             PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-93:MoveInterlock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Move Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "MoveInterlock")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableAutoBtn",                         PV_DESC="Enable Auto Button",         PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-93:EnableAutoBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Auto Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "EnableAutoBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",                       PV_DESC="Enable Manual Button",       PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-93:EnableManualBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",                       PV_DESC="Enable Force Button",        PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-93:EnableForcedBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}


#Block Icon controls
#<<<--- add_digital("EnableBlkCtrl",                         PV_DESC="Enable Block SP Button",     PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-93:EnableBlkCtrl")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Block SP Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "EnableBlkCtrl")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_digital("EnableForceValBtn",                     PV_DESC="Enable Force Value Button",  PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-93:EnableForceValBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Value Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "EnableForceValBtn")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",                             PV_DESC="Device locked",              PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-93:DevLocked")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID","DINT",                PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-CV-93:Faceplate_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID","DINT",                PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-CV-93:BlockIcon_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("LatchAlarm",                            PV_DESC="Latching of the alarms")
record(bi, "Spk-000CDL:Cryo-CV-93:LatchAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("GroupAlarm",                            PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-CV-93:GroupAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("Position_Discrep","Position Discrepancy",           PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-93:Position_Discrep")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Position Discrepancy")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Position_Discrep")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error","HW IO Error",                            PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-93:IO_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Module_Error","HW Output Module Error",             PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-93:Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Output Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Module_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Input_Module_Error","HW Input Module Error",        PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-93:Input_Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Input Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Input_Module_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Output_Module_Error","HW Output Module Error",      PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-93:Output_Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Output Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Output_Module_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("SPLimitActive","SPLimitActive",                     PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-93:SPLimitActive")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "SPLimitActive")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "SPLimitActive")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("SSTriggered","SSTriggered",                         PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-93:SSTriggered")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "SSTriggered")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "SSTriggered")
	info(autosaveFields_pass0, "VAL")
}


#Discrepancy
#<<<--- add_analog("DiscrPerc","REAL" ,                      PV_DESC="Discrepancy In Percent",                     PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-93:DiscrPerc")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Discrepancy In Percent")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "DiscrPerc")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_time("DiscrTime",                                PV_DESC="Discrepancy Time Interval")
record(ai, "Spk-000CDL:Cryo-CV-93:DiscrTime")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Discrepancy Time Interval")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "DiscrTime")
	info(autosaveFields_pass0, "VAL")
}


#Ramping
#<<<--- add_analog("MaxRampUPSpd","REAL",                    PV_DESC="Maximum Ramping UP Speed",                 PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-CV-93:MaxRampUPSpd")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum Ramping UP Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "MaxRampUPSpd")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("MaxRampDNSpd","REAL",                    PV_DESC="Maximum Ramping DOWN Speed",               PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-CV-93:MaxRampDNSpd")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum Ramping DOWN Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "MaxRampDNSpd")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ActRampSpeed","REAL",                    PV_DESC="Actual Ramping Speed",                     PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-CV-93:ActRampSpeed")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Actual Ramping Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "ActRampSpeed")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Ramping",                               PV_DESC="Ramping Indicator",                        PV_ONAM="True",                                     PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-93:Ramping")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Indicator")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Ramping")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("RampSettingOK",                         PV_DESC="Ramping can be enabled",                   PV_ONAM="True",                                     PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-93:RampSettingOK")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping can be enabled")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "RampSettingOK")
	info(autosaveFields_pass0, "VAL")
}


#Feedbacks
#<<<--- add_analog("FB_RampUPTIME","INT",                    PV_DESC="Ramping UP time",                          PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-CV-93:FB_RampUPTIME")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "FB_RampUPTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampUPRANGE","REAL",                  PV_DESC="Ramping UP range",                         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-93:FB_RampUPRANGE")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "FB_RampUPRANGE")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampDNTIME","INT",                    PV_DESC="Ramping DOWN time",                        PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-CV-93:FB_RampDNTIME")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "FB_RampDNTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampDNRANGE","REAL",                  PV_DESC="Ramping DOWN range",                       PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-93:FB_RampDNRANGE")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "FB_RampDNRANGE")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_ForcePosition","REAL" ,               PV_DESC="FB Force Valve Position (AI)",             PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-93:FB_ForcePosition")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Force Valve Position (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "FB_ForcePosition")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Setpoint","REAL" ,                    PV_DESC="FB Setpoint from HMI (SP)",                PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-93:FB_Setpoint")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "FB_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Manipulated","REAL" ,                 PV_DESC="FB Manipulated Value (AO)",                PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-93:FB_Manipulated")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Manipulated Value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "FB_Manipulated")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Step","REAL" ,                        PV_DESC="FB Step value for Open/Close",             PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-93:FB_Step")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Step value for Open/Close")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "FB_Step")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampTIME","INT" ,                     PV_DESC="Ramping Time",                             PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-CV-93:FB_RampTIME")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "FB_RampTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampRANGE","REAL" ,                   PV_DESC="Ramping Range",                            PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-93:FB_RampRANGE")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "FB_RampRANGE")
	info(autosaveFields_pass0, "VAL")
}


#Checkback
#add_analog("CB_ValvePosition","REAL",                PV_DESC="CB Valve Position",          PV_EGU="%")
#add_analog("CB_ValveStatus","REAL",                  PV_DESC="CB Valve Status")
#add_analog("CB_ValvePOSD","REAL",                    PV_DESC="CB Valve discrete Position")
#add_analog("CB_ValveStatusD","REAL",                 PV_DESC="CB Valve discrete Status")
#add_analog("CB_ValveDIAG","REAL",                    PV_DESC="CB Valve Diagnostics")

#Timers and Filters
#<<<--- add_digital("Timer_enabled")
record(bi, "Spk-000CDL:Cryo-CV-93:Timer_enabled")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Timer_enabled")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("T_triggered")
record(bi, "Spk-000CDL:Cryo-CV-93:T_triggered")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "T_triggered")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("T_running", "INT")
record(ai, "Spk-000CDL:Cryo-CV-93:T_running")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "T_running")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("F_enabled")
record(bi, "Spk-000CDL:Cryo-CV-93:F_enabled")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "F_enabled")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FiltedValue", "REAL")
record(ai, "Spk-000CDL:Cryo-CV-93:FiltedValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "FiltedValue")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-CV-93 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Auto",                              PV_DESC="CMD: Auto Mode")
record(bo, "Spk-000CDL:Cryo-CV-93:Cmd_Auto")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Cmd_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Manual",                            PV_DESC="CMD: Manual Mode")
record(bo, "Spk-000CDL:Cryo-CV-93:Cmd_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Cmd_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",                             PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-CV-93:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_RampON",                            PV_DESC="Turn Ramping ON")
record(bo, "Spk-000CDL:Cryo-CV-93:Cmd_RampON")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Turn Ramping ON")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Cmd_RampON")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_RampOFF",                           PV_DESC="Turn Ramping OFF")
record(bo, "Spk-000CDL:Cryo-CV-93:Cmd_RampOFF")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Turn Ramping OFF")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Cmd_RampOFF")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",                          PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-CV-93:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceValInp",                       PV_DESC="CMD: Force Valve PLC Input")
record(bo, "Spk-000CDL:Cryo-CV-93:Cmd_ForceValInp")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Valve PLC Input")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Cmd_ForceValInp")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceValOut",                       PV_DESC="CMD: Force Valve PLC Output")
record(bo, "Spk-000CDL:Cryo-CV-93:Cmd_ForceValOut")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Valve PLC Output")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Cmd_ForceValOut")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",                       PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-CV-93:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",                           PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-CV-93:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",                         PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-CV-93:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}



############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-CV-93 EPICS -> PLC parameters ##########
##########

#Setpoint and Manipulated value from HMI
#<<<--- add_analog("P_ForcePosition","REAL" ,                PV_DESC="Force Valve position (AI)",             PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-93:P_ForcePosition")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Valve position (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "P_ForcePosition")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Setpoint","REAL" ,                     PV_DESC="Setpoint from HMI (SP)",                PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-93:P_Setpoint")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "P_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Manipulated","REAL" ,                  PV_DESC="Manipulated value (AO)",                PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-93:P_Manipulated")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "P_Manipulated")
	info(autosaveFields_pass0, "VAL")
}


#Step value when pressing Cmd_Open1Step or Cmd_Close1Step
#<<<--- add_analog("P_Step","REAL" ,                         PV_DESC="Step value for open close",             PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-93:P_Step")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Step value for open close")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "P_Step")
	info(autosaveFields_pass0, "VAL")
}


#Ramping speed from the HMI
#<<<--- add_analog("P_RampUPTIME","INT",                     PV_DESC="Ramping UP Time",                          PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-CV-93:P_RampUPTIME")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Time")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(EGU,  "sec")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "P_RampUPTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampUPRANGE","REAL",                   PV_DESC="Ramping UP Range",                         PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-93:P_RampUPRANGE")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "P_RampUPRANGE")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNTIME","INT",                     PV_DESC="Ramping DOWN Time",                        PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-CV-93:P_RampDNTIME")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Time")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(EGU,  "sec")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "P_RampDNTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNRANGE","REAL",                   PV_DESC="Ramping DOWN Range",                       PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-93:P_RampDNRANGE")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "P_RampDNRANGE")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID","DINT",              PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-CV-93:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID","DINT",              PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-CV-93:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Timers and Filters
#<<<--- add_analog("T_period", "INT")
record(ao, "Spk-000CDL:Cryo-CV-93:T_period")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "T_period")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("F_interval", "INT")
record(ao, "Spk-000CDL:Cryo-CV-93:F_interval")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "F_interval")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("F_buffer", "INT")
record(ao, "Spk-000CDL:Cryo-CV-93:F_buffer")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "F_buffer")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("F_Enable")
record(bo, "Spk-000CDL:Cryo-CV-93:F_Enable")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-93_iDB")
	info("plc_variable", "F_Enable")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-CV-93:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-CV-93:P_ForcePosition")
	field(LNK2, "Spk-000CDL:Cryo-CV-93:P_Setpoint")
	field(LNK3, "Spk-000CDL:Cryo-CV-93:P_Manipulated")
	field(LNK4, "Spk-000CDL:Cryo-CV-93:P_Step")
	field(LNK5, "Spk-000CDL:Cryo-CV-93:P_RampUPTIME")
	field(LNK6, "Spk-000CDL:Cryo-CV-93:P_RampUPRANGE")
	field(LNK7, "Spk-000CDL:Cryo-CV-93:P_RampDNTIME")
	field(LNK8, "Spk-000CDL:Cryo-CV-93:P_RampDNRANGE")
	field(LNK9, "Spk-000CDL:Cryo-CV-93:P_Faceplate_LockID")
	field(LNKA, "Spk-000CDL:Cryo-CV-93:P_BlockIcon_LockID")
	field(LNKB, "Spk-000CDL:Cryo-CV-93:T_period")
	field(LNKC, "Spk-000CDL:Cryo-CV-93:F_interval")
	field(LNKD, "Spk-000CDL:Cryo-CV-93:F_buffer")
	field(LNKE, "Spk-000CDL:Cryo-CV-93:F_Enable")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-CV-94 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_CV_PB_SIPART                                                           ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
#Siemens Sipart PS2 Valve Positioner
##                                                                                          ##
##
############################           Version: 1.7           ################################
#Author:	Emilio Asensi
#Date:		06-09-2022
#Version:  v1.7
#Changes:
#Added pvs for timer and filter
############################           Version: 1.6           ################################
#Author:	Emilio Asensi
#Date:		03-05-2021
#Version:  v1.6
#Changes:
#Added missing alarm signals                                                                                  ##
############################           Version: 1.5           ################################
#Author:	Peter Talas
#Date:		16-03-2021
#Version:  v1.5
#Changes:
#Archiving added
#rpm changed to % on the ramping parameters
#Interlock Message added
############################           Version: 1.4           ################################
#Author:	Miklos Boros
#Date:		27-05-2019
#Version:  v1.4
#Changes:
#Integration to CryoLibrary
#Variable name unification
############################           Version: 1.3           ################################
#Author:	Emilio Asensi
#Date:		24-01-2019
#Version:  v1.3
#Changes:
#Accommodate changes on CMS_CV
#1. Changed smoother ramping
#Sipart module information
#2. Removed Cascade operation
#3. Modified CheckBack diagnostic bytes
############################           Version: 1.2           ################################
#Author:	Emilio Asensi
#Date:		13-09-2018
#Version:  v1.2
#Changes:
#Accommodate the changes on CMS_CV
#1. Modified "For OPI visualisation" section: Added digital variable "FB_Keep_Setpoint".
#2. Modified "Parameter Block" section: Added digital variable "P_Keep_Setpoint".
#3. Modified Alarm Signal section to be compatible with new format.
############################           Version: 1.0           ################################
#Author:   Miklos Boros, Emilio Asensi
#Date:	    17-05-2018
#Version:  v1.0
#Note:     Based on CMS_CV.def
##############################################################################################


############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-CV-94 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_Auto",                           PV_DESC="Operation Mode Auto",        PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-94:OpMode_Auto")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "OpMode_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Manual",                         PV_DESC="Operation Mode Manual",      PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-94:OpMode_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "OpMode_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",                         PV_DESC="Operation Mode Forced",      PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-94:OpMode_Forced")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ValveColor","INT",                       PV_DESC="BlockIcon valve color")
record(ai, "Spk-000CDL:Cryo-CV-94:ValveColor")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "BlockIcon valve color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "ValveColor")
	info(autosaveFields_pass0, "VAL")
}


#Valve states
#<<<--- add_analog("ValvePosition","REAL",  ARCHIVE=True,    PV_DESC="Valve Position AI",          PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-94:ValvePosition")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Position AI")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "ValvePosition")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ValveSP","REAL",  ARCHIVE=True,          PV_DESC="Valve Setpoint",             PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-94:ValveSP")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Setpoint")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "ValveSP")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ValveMV","REAL",  ARCHIVE=True,          PV_DESC="Valve Control AO",           PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-94:ValveMV")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Control AO")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "ValveMV")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Opening",                               PV_DESC="Valve opening",              PV_ONAM="Opening",          PV_ZNAM="NotMoving")
record(bi, "Spk-000CDL:Cryo-CV-94:Opening")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve opening")
	field(ONAM, "Opening")
	field(ZNAM, "NotMoving")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Opening")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Closing",                               PV_DESC="Valve closing",              PV_ONAM="Closing",          PV_ZNAM="NotMoving")
record(bi, "Spk-000CDL:Cryo-CV-94:Closing")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve closing")
	field(ONAM, "Closing")
	field(ZNAM, "NotMoving")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Closing")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("StatusRB","BYTE" ,                       PV_DESC="Valve ReadBack Status")
record(ai, "Spk-000CDL:Cryo-CV-94:StatusRB")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve ReadBack Status")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "StatusRB")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("DiscretePosition","INT" ,                PV_DESC="Valve Discrete Position (0-3)")
record(ai, "Spk-000CDL:Cryo-CV-94:DiscretePosition")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Discrete Position (0-3)")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "DiscretePosition")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("DiscreteStatus","BYTE" ,                 PV_DESC="Valve Discrete Status")
record(ai, "Spk-000CDL:Cryo-CV-94:DiscreteStatus")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Discrete Status")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "DiscreteStatus")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("DiagnosticsCB01","BYTE" ,                PV_DESC="CheckBack byte 01")
record(ai, "Spk-000CDL:Cryo-CV-94:DiagnosticsCB01")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CheckBack byte 01")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "DiagnosticsCB01")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("DiagnosticsCB02","BYTE" ,                PV_DESC="CheckBack byte 02")
record(ai, "Spk-000CDL:Cryo-CV-94:DiagnosticsCB02")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CheckBack byte 02")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "DiagnosticsCB02")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("DiagnosticsCB03","BYTE" ,                PV_DESC="CheckBack byte 03")
record(ai, "Spk-000CDL:Cryo-CV-94:DiagnosticsCB03")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CheckBack byte 03")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "DiagnosticsCB03")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",                        PV_DESC="Inhibit Manual Mode",        PV_ONAM="InhibitManual",    PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-CV-94:Inhibit_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",                         PV_DESC="Inhibit Force Mode",         PV_ONAM="InhibitForce",     PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-CV-94:Inhibit_Force")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",                          PV_DESC="Inhibit Locking",            PV_ONAM="InhibitLocking",   PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-CV-94:Inhibit_Lock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}


#Interlock signals
#<<<--- add_digital("GroupInterlock",                        PV_DESC="Group Interlock",            PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-94:GroupInterlock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "GroupInterlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_string("InterlockMsg", 39,                       PV_NAME="InterlockMsg",               PV_DESC="Interlock Message")
record(stringin, "Spk-000CDL:Cryo-CV-94:InterlockMsg")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Interlock Message")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "InterlockMsg")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("MoveInterlock",  ARCHIVE=True,          PV_DESC="Move Interlock",             PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-94:MoveInterlock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Move Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "MoveInterlock")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableAutoBtn",                         PV_DESC="Enable Auto Button",         PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-94:EnableAutoBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Auto Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "EnableAutoBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",                       PV_DESC="Enable Manual Button",       PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-94:EnableManualBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",                       PV_DESC="Enable Force Button",        PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-94:EnableForcedBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}


#Block Icon controls
#<<<--- add_digital("EnableBlkCtrl",                         PV_DESC="Enable Block SP Button",     PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-94:EnableBlkCtrl")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Block SP Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "EnableBlkCtrl")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_digital("EnableForceValBtn",                     PV_DESC="Enable Force Value Button",  PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-94:EnableForceValBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Value Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "EnableForceValBtn")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",                             PV_DESC="Device locked",              PV_ONAM="True",             PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-94:DevLocked")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID","DINT",                PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-CV-94:Faceplate_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID","DINT",                PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-CV-94:BlockIcon_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("LatchAlarm",                            PV_DESC="Latching of the alarms")
record(bi, "Spk-000CDL:Cryo-CV-94:LatchAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("GroupAlarm",                            PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-CV-94:GroupAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("Position_Discrep","Position Discrepancy",           PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-94:Position_Discrep")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Position Discrepancy")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Position_Discrep")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error","HW IO Error",                            PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-94:IO_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Module_Error","HW Output Module Error",             PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-94:Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Output Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Module_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Input_Module_Error","HW Input Module Error",        PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-94:Input_Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Input Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Input_Module_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Output_Module_Error","HW Output Module Error",      PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-94:Output_Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Output Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Output_Module_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("SPLimitActive","SPLimitActive",                     PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-94:SPLimitActive")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "SPLimitActive")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "SPLimitActive")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("SSTriggered","SSTriggered",                         PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-CV-94:SSTriggered")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "SSTriggered")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "SSTriggered")
	info(autosaveFields_pass0, "VAL")
}


#Discrepancy
#<<<--- add_analog("DiscrPerc","REAL" ,                      PV_DESC="Discrepancy In Percent",                     PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-94:DiscrPerc")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Discrepancy In Percent")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "DiscrPerc")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_time("DiscrTime",                                PV_DESC="Discrepancy Time Interval")
record(ai, "Spk-000CDL:Cryo-CV-94:DiscrTime")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Discrepancy Time Interval")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "DiscrTime")
	info(autosaveFields_pass0, "VAL")
}


#Ramping
#<<<--- add_analog("MaxRampUPSpd","REAL",                    PV_DESC="Maximum Ramping UP Speed",                 PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-CV-94:MaxRampUPSpd")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum Ramping UP Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "MaxRampUPSpd")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("MaxRampDNSpd","REAL",                    PV_DESC="Maximum Ramping DOWN Speed",               PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-CV-94:MaxRampDNSpd")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum Ramping DOWN Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "MaxRampDNSpd")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ActRampSpeed","REAL",                    PV_DESC="Actual Ramping Speed",                     PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-CV-94:ActRampSpeed")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Actual Ramping Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "ActRampSpeed")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Ramping",                               PV_DESC="Ramping Indicator",                        PV_ONAM="True",                                     PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-94:Ramping")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Indicator")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Ramping")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("RampSettingOK",                         PV_DESC="Ramping can be enabled",                   PV_ONAM="True",                                     PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-CV-94:RampSettingOK")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping can be enabled")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "RampSettingOK")
	info(autosaveFields_pass0, "VAL")
}


#Feedbacks
#<<<--- add_analog("FB_RampUPTIME","INT",                    PV_DESC="Ramping UP time",                          PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-CV-94:FB_RampUPTIME")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "FB_RampUPTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampUPRANGE","REAL",                  PV_DESC="Ramping UP range",                         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-94:FB_RampUPRANGE")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "FB_RampUPRANGE")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampDNTIME","INT",                    PV_DESC="Ramping DOWN time",                        PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-CV-94:FB_RampDNTIME")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "FB_RampDNTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampDNRANGE","REAL",                  PV_DESC="Ramping DOWN range",                       PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-94:FB_RampDNRANGE")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "FB_RampDNRANGE")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_ForcePosition","REAL" ,               PV_DESC="FB Force Valve Position (AI)",             PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-94:FB_ForcePosition")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Force Valve Position (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "FB_ForcePosition")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Setpoint","REAL" ,                    PV_DESC="FB Setpoint from HMI (SP)",                PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-94:FB_Setpoint")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "FB_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Manipulated","REAL" ,                 PV_DESC="FB Manipulated Value (AO)",                PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-94:FB_Manipulated")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Manipulated Value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "FB_Manipulated")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Step","REAL" ,                        PV_DESC="FB Step value for Open/Close",             PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-94:FB_Step")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Step value for Open/Close")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "FB_Step")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampTIME","INT" ,                     PV_DESC="Ramping Time",                             PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-CV-94:FB_RampTIME")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "FB_RampTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampRANGE","REAL" ,                   PV_DESC="Ramping Range",                            PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-CV-94:FB_RampRANGE")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "FB_RampRANGE")
	info(autosaveFields_pass0, "VAL")
}


#Checkback
#add_analog("CB_ValvePosition","REAL",                PV_DESC="CB Valve Position",          PV_EGU="%")
#add_analog("CB_ValveStatus","REAL",                  PV_DESC="CB Valve Status")
#add_analog("CB_ValvePOSD","REAL",                    PV_DESC="CB Valve discrete Position")
#add_analog("CB_ValveStatusD","REAL",                 PV_DESC="CB Valve discrete Status")
#add_analog("CB_ValveDIAG","REAL",                    PV_DESC="CB Valve Diagnostics")

#Timers and Filters
#<<<--- add_digital("Timer_enabled")
record(bi, "Spk-000CDL:Cryo-CV-94:Timer_enabled")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Timer_enabled")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("T_triggered")
record(bi, "Spk-000CDL:Cryo-CV-94:T_triggered")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "T_triggered")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("T_running", "INT")
record(ai, "Spk-000CDL:Cryo-CV-94:T_running")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "T_running")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("F_enabled")
record(bi, "Spk-000CDL:Cryo-CV-94:F_enabled")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "F_enabled")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FiltedValue", "REAL")
record(ai, "Spk-000CDL:Cryo-CV-94:FiltedValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "FiltedValue")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-CV-94 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Auto",                              PV_DESC="CMD: Auto Mode")
record(bo, "Spk-000CDL:Cryo-CV-94:Cmd_Auto")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Cmd_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Manual",                            PV_DESC="CMD: Manual Mode")
record(bo, "Spk-000CDL:Cryo-CV-94:Cmd_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Cmd_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",                             PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-CV-94:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_RampON",                            PV_DESC="Turn Ramping ON")
record(bo, "Spk-000CDL:Cryo-CV-94:Cmd_RampON")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Turn Ramping ON")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Cmd_RampON")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_RampOFF",                           PV_DESC="Turn Ramping OFF")
record(bo, "Spk-000CDL:Cryo-CV-94:Cmd_RampOFF")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Turn Ramping OFF")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Cmd_RampOFF")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",                          PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-CV-94:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceValInp",                       PV_DESC="CMD: Force Valve PLC Input")
record(bo, "Spk-000CDL:Cryo-CV-94:Cmd_ForceValInp")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Valve PLC Input")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Cmd_ForceValInp")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceValOut",                       PV_DESC="CMD: Force Valve PLC Output")
record(bo, "Spk-000CDL:Cryo-CV-94:Cmd_ForceValOut")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Valve PLC Output")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Cmd_ForceValOut")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",                       PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-CV-94:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",                           PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-CV-94:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",                         PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-CV-94:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}



############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-CV-94 EPICS -> PLC parameters ##########
##########

#Setpoint and Manipulated value from HMI
#<<<--- add_analog("P_ForcePosition","REAL" ,                PV_DESC="Force Valve position (AI)",             PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-94:P_ForcePosition")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Valve position (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "P_ForcePosition")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Setpoint","REAL" ,                     PV_DESC="Setpoint from HMI (SP)",                PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-94:P_Setpoint")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "P_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Manipulated","REAL" ,                  PV_DESC="Manipulated value (AO)",                PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-94:P_Manipulated")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "P_Manipulated")
	info(autosaveFields_pass0, "VAL")
}


#Step value when pressing Cmd_Open1Step or Cmd_Close1Step
#<<<--- add_analog("P_Step","REAL" ,                         PV_DESC="Step value for open close",             PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-94:P_Step")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Step value for open close")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "P_Step")
	info(autosaveFields_pass0, "VAL")
}


#Ramping speed from the HMI
#<<<--- add_analog("P_RampUPTIME","INT",                     PV_DESC="Ramping UP Time",                          PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-CV-94:P_RampUPTIME")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Time")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(EGU,  "sec")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "P_RampUPTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampUPRANGE","REAL",                   PV_DESC="Ramping UP Range",                         PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-94:P_RampUPRANGE")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "P_RampUPRANGE")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNTIME","INT",                     PV_DESC="Ramping DOWN Time",                        PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-CV-94:P_RampDNTIME")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Time")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(EGU,  "sec")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "P_RampDNTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNRANGE","REAL",                   PV_DESC="Ramping DOWN Range",                       PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-CV-94:P_RampDNRANGE")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "P_RampDNRANGE")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID","DINT",              PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-CV-94:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID","DINT",              PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-CV-94:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Timers and Filters
#<<<--- add_analog("T_period", "INT")
record(ao, "Spk-000CDL:Cryo-CV-94:T_period")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "T_period")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("F_interval", "INT")
record(ao, "Spk-000CDL:Cryo-CV-94:F_interval")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "F_interval")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("F_buffer", "INT")
record(ao, "Spk-000CDL:Cryo-CV-94:F_buffer")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "F_buffer")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("F_Enable")
record(bo, "Spk-000CDL:Cryo-CV-94:F_Enable")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-CV-94_iDB")
	info("plc_variable", "F_Enable")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-CV-94:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-CV-94:P_ForcePosition")
	field(LNK2, "Spk-000CDL:Cryo-CV-94:P_Setpoint")
	field(LNK3, "Spk-000CDL:Cryo-CV-94:P_Manipulated")
	field(LNK4, "Spk-000CDL:Cryo-CV-94:P_Step")
	field(LNK5, "Spk-000CDL:Cryo-CV-94:P_RampUPTIME")
	field(LNK6, "Spk-000CDL:Cryo-CV-94:P_RampUPRANGE")
	field(LNK7, "Spk-000CDL:Cryo-CV-94:P_RampDNTIME")
	field(LNK8, "Spk-000CDL:Cryo-CV-94:P_RampDNRANGE")
	field(LNK9, "Spk-000CDL:Cryo-CV-94:P_Faceplate_LockID")
	field(LNKA, "Spk-000CDL:Cryo-CV-94:P_BlockIcon_LockID")
	field(LNKB, "Spk-000CDL:Cryo-CV-94:T_period")
	field(LNKC, "Spk-000CDL:Cryo-CV-94:F_interval")
	field(LNKD, "Spk-000CDL:Cryo-CV-94:F_buffer")
	field(LNKE, "Spk-000CDL:Cryo-CV-94:F_Enable")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-EH-91 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                                     EH - Alalog Heater                                   ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable name unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################           Version: 1.1           ################################
#Author:  Marino Vojneski
#Date:    2018-07-09
#Version: v1.1
#Changes:
#1. Modified "For OPI visualisation" section: Added digital variable "FB_Keep_Setpoint".
#2. Modified "Parameter Block" section: Added digital variable "P_Keep_Setpoint".
############################           Version: 1.0           ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    2018-06-12
#Version: v1.0
##############################################################################################



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-EH-91 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_Auto",             PV_DESC="Operation Mode Auto",       PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-91:OpMode_Auto")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "OpMode_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Manual",           PV_DESC="Operation Mode Manual",     PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-91:OpMode_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "OpMode_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",     PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-91:OpMode_Forced")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Heater states
#<<<--- add_analog("HeaterCurrent",            "REAL",                              PV_DESC="Heater Current AI",                 PV_EGU="A")
record(ai, "Spk-000CDL:Cryo-EH-91:HeaterCurrent")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Current AI")
	field(EGU,  "A")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "HeaterCurrent")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("HeaterVoltage",            "REAL",                              PV_DESC="Heater Voltage AI",                 PV_EGU="V")
record(ai, "Spk-000CDL:Cryo-EH-91:HeaterVoltage")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Voltage AI")
	field(EGU,  "V")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "HeaterVoltage")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("HeaterPower",              "REAL",                              PV_DESC="Heater Power",                      PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-91:HeaterPower")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Power")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "HeaterPower")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("HeaterSP",                 "REAL",                              PV_DESC="Heater Setpoint",                   PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-91:HeaterSP")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Setpoint")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "HeaterSP")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("HeaterMV",                 "REAL",                              PV_DESC="Heater Control AO",                 PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-91:HeaterMV")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Control AO")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "HeaterMV")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("HeatingON",                PV_DESC="Heater operating",         PV_ONAM="Heating",                           PV_ZNAM="NotHeating")
record(bi, "Spk-000CDL:Cryo-EH-91:HeatingON")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater operating")
	field(ONAM, "Heating")
	field(ZNAM, "NotHeating")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "HeatingON")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",       PV_ONAM="InhibitManual",                     PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-EH-91:Inhibit_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",        PV_ONAM="InhibitForce",                      PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-EH-91:Inhibit_Force")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",           PV_ONAM="InhibitLocking",                    PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-EH-91:Inhibit_Lock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}


#Interlock signals
#<<<--- add_digital("GroupInterlock",          PV_DESC="Group Interlock",           PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-91:GroupInterlock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "GroupInterlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("HeatInterlock",           PV_DESC="Heat Interlock",            PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-91:HeatInterlock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heat Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "HeatInterlock")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableAutoBtn",           PV_DESC="Enable Auto Button",        PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-91:EnableAutoBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Auto Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "EnableAutoBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",      PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-91:EnableManualBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",       PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-91:EnableForcedBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_digital("EnableForceValBtn",       PV_DESC="Enable Force Value Button", PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-91:EnableForceValBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Value Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "EnableForceValBtn")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",             PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-91:DevLocked")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                              PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-EH-91:Faceplate_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                              PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-EH-91:BlockIcon_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("LatchAlarm",                                                   PV_DESC="Latching of the alarms")
record(bi, "Spk-000CDL:Cryo-EH-91:LatchAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("GroupAlarm",                                                   PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-EH-91:GroupAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("Power_Discrep",       "Heater Power Discrepancy",          PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-91:Power_Discrep")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Heater Power Discrepancy")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "Power_Discrep")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "HW IO Error",                       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-91:IO_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Input_Module_Error",  "Input_Module_Error",                PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-91:Input_Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Input_Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "Input_Module_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Output_Module_Error", "Output_Module_Error",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-91:Output_Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Output_Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "Output_Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#Discrepancy
#<<<--- add_analog("DiscrPerc",                "REAL" ,                             PV_DESC="Discrepancy In Percent",            PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-91:DiscrPerc")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Discrepancy In Percent")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "DiscrPerc")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_time("DiscrTime",                  PV_DESC="Discrepancy Time Interval")
record(ai, "Spk-000CDL:Cryo-EH-91:DiscrTime")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Discrepancy Time Interval")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "DiscrTime")
	info(autosaveFields_pass0, "VAL")
}



#Ramping
#<<<--- add_analog("MaxRampUPSpd","REAL",                    PV_DESC="Maximum Ramping UP Speed",                 PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-EH-91:MaxRampUPSpd")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum Ramping UP Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "MaxRampUPSpd")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("MaxRampDNSpd","REAL",                    PV_DESC="Maximum Ramping DOWN Speed",               PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-EH-91:MaxRampDNSpd")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum Ramping DOWN Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "MaxRampDNSpd")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ActRampSpeed","REAL",                    PV_DESC="Actual Ramping Speed",                     PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-EH-91:ActRampSpeed")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Actual Ramping Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "ActRampSpeed")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Ramping",                               PV_DESC="Ramping Indicator",                        PV_ONAM="True",                                     PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-91:Ramping")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Indicator")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "Ramping")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("RampSettingOK",                         PV_DESC="Ramping can be enabled",                   PV_ONAM="True",                                     PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-91:RampSettingOK")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping can be enabled")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "RampSettingOK")
	info(autosaveFields_pass0, "VAL")
}


#Feedbacks
#<<<--- add_analog("FB_RampUPTIME","INT",                    PV_DESC="Ramping UP time",                          PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-EH-91:FB_RampUPTIME")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "FB_RampUPTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampUPRANGE","REAL",                  PV_DESC="Ramping UP range",                         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-91:FB_RampUPRANGE")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "FB_RampUPRANGE")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampDNTIME","INT",                    PV_DESC="Ramping DOWN time",                        PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-EH-91:FB_RampDNTIME")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "FB_RampDNTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampDNRANGE","REAL",                  PV_DESC="Ramping DOWN range",                       PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-91:FB_RampDNRANGE")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "FB_RampDNRANGE")
	info(autosaveFields_pass0, "VAL")
}



#Feedbacks
#<<<--- add_analog("FB_ForcePower",            "REAL" ,                             PV_DESC="FB Force Heater Power (AI)",        PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-91:FB_ForcePower")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Force Heater Power (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "FB_ForcePower")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Setpoint",              "REAL" ,                             PV_DESC="FB Setpoint from HMI (SP)",         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-91:FB_Setpoint")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "FB_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Manipulated",           "REAL" ,                             PV_DESC="FB Manipulated Value (AO)",         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-91:FB_Manipulated")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Manipulated Value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "FB_Manipulated")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Step",                  "REAL" ,                             PV_DESC="FB Step Value for Heating/Cooling", PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-91:FB_Step")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Step Value for Heating/Cooling")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "FB_Step")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampTIME",              "INT" ,                              PV_DESC="Ramping Time",                      PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-EH-91:FB_RampTIME")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "FB_RampTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampRANGE",             "REAL" ,                             PV_DESC="Ramping Range",                     PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-91:FB_RampRANGE")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "FB_RampRANGE")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-EH-91 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Auto",                PV_DESC="CMD: Auto Mode")
record(bo, "Spk-000CDL:Cryo-EH-91:Cmd_Auto")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "Cmd_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Manual",              PV_DESC="CMD: Manual Mode")
record(bo, "Spk-000CDL:Cryo-EH-91:Cmd_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "Cmd_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-EH-91:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_RampON",              PV_DESC="Turn Ramping ON")
record(bo, "Spk-000CDL:Cryo-EH-91:Cmd_RampON")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Turn Ramping ON")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "Cmd_RampON")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_RampOFF",             PV_DESC="Turn Ramping OFF")
record(bo, "Spk-000CDL:Cryo-EH-91:Cmd_RampOFF")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Turn Ramping OFF")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "Cmd_RampOFF")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-EH-91:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceValInp",         PV_DESC="CMD: Force Heater PLC Input")
record(bo, "Spk-000CDL:Cryo-EH-91:Cmd_ForceValInp")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Heater PLC Input")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "Cmd_ForceValInp")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceValOut",         PV_DESC="CMD: Force Heater PLC Output")
record(bo, "Spk-000CDL:Cryo-EH-91:Cmd_ForceValOut")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Heater PLC Output")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "Cmd_ForceValOut")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-EH-91:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-EH-91:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-EH-91:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}



############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-EH-91 EPICS -> PLC parameters ##########
##########

#Setpoint and Manipulated value from HMI
#<<<--- add_analog("P_ForcePower",             "REAL" ,                             PV_DESC="Force heater power (AI)",           PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-91:P_ForcePower")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force heater power (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "P_ForcePower")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Setpoint",               "REAL" ,                             PV_DESC="Setpoint from HMI (SP)",            PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-91:P_Setpoint")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "P_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Manipulated",            "REAL" ,                             PV_DESC="Manipulated value (AO)",            PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-91:P_Manipulated")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "P_Manipulated")
	info(autosaveFields_pass0, "VAL")
}


#Step value when pressing Cmd_Open1Step or Cmd_Close1Step
#<<<--- add_analog("P_Step",                   "REAL" ,                             PV_DESC="Step value for Heating/Cooling",    PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-91:P_Step")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Step value for Heating/Cooling")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "P_Step")
	info(autosaveFields_pass0, "VAL")
}


#Ramping speed from the HMI
#<<<--- add_analog("P_RampUPTIME","INT",                     PV_DESC="Ramping UP Time",                          PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-EH-91:P_RampUPTIME")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Time")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(EGU,  "sec")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "P_RampUPTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampUPRANGE","REAL",                   PV_DESC="Ramping UP Range",                         PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-91:P_RampUPRANGE")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "P_RampUPRANGE")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNTIME","INT",                     PV_DESC="Ramping DOWN Time",                        PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-EH-91:P_RampDNTIME")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Time")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(EGU,  "sec")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "P_RampDNTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNRANGE","REAL",                   PV_DESC="Ramping DOWN Range",                       PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-91:P_RampDNRANGE")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "P_RampDNRANGE")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                              PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-EH-91:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                              PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-EH-91:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-91_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-EH-91:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-EH-91:P_ForcePower")
	field(LNK2, "Spk-000CDL:Cryo-EH-91:P_Setpoint")
	field(LNK3, "Spk-000CDL:Cryo-EH-91:P_Manipulated")
	field(LNK4, "Spk-000CDL:Cryo-EH-91:P_Step")
	field(LNK5, "Spk-000CDL:Cryo-EH-91:P_RampUPTIME")
	field(LNK6, "Spk-000CDL:Cryo-EH-91:P_RampUPRANGE")
	field(LNK7, "Spk-000CDL:Cryo-EH-91:P_RampDNTIME")
	field(LNK8, "Spk-000CDL:Cryo-EH-91:P_RampDNRANGE")
	field(LNK9, "Spk-000CDL:Cryo-EH-91:P_Faceplate_LockID")
	field(LNKA, "Spk-000CDL:Cryo-EH-91:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-EH-92 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                                     EH - Alalog Heater                                   ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable name unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################           Version: 1.1           ################################
#Author:  Marino Vojneski
#Date:    2018-07-09
#Version: v1.1
#Changes:
#1. Modified "For OPI visualisation" section: Added digital variable "FB_Keep_Setpoint".
#2. Modified "Parameter Block" section: Added digital variable "P_Keep_Setpoint".
############################           Version: 1.0           ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    2018-06-12
#Version: v1.0
##############################################################################################



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-EH-92 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_Auto",             PV_DESC="Operation Mode Auto",       PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-92:OpMode_Auto")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "OpMode_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Manual",           PV_DESC="Operation Mode Manual",     PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-92:OpMode_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "OpMode_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",     PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-92:OpMode_Forced")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Heater states
#<<<--- add_analog("HeaterCurrent",            "REAL",                              PV_DESC="Heater Current AI",                 PV_EGU="A")
record(ai, "Spk-000CDL:Cryo-EH-92:HeaterCurrent")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Current AI")
	field(EGU,  "A")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "HeaterCurrent")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("HeaterVoltage",            "REAL",                              PV_DESC="Heater Voltage AI",                 PV_EGU="V")
record(ai, "Spk-000CDL:Cryo-EH-92:HeaterVoltage")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Voltage AI")
	field(EGU,  "V")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "HeaterVoltage")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("HeaterPower",              "REAL",                              PV_DESC="Heater Power",                      PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-92:HeaterPower")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Power")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "HeaterPower")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("HeaterSP",                 "REAL",                              PV_DESC="Heater Setpoint",                   PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-92:HeaterSP")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Setpoint")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "HeaterSP")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("HeaterMV",                 "REAL",                              PV_DESC="Heater Control AO",                 PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-92:HeaterMV")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Control AO")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "HeaterMV")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("HeatingON",                PV_DESC="Heater operating",         PV_ONAM="Heating",                           PV_ZNAM="NotHeating")
record(bi, "Spk-000CDL:Cryo-EH-92:HeatingON")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater operating")
	field(ONAM, "Heating")
	field(ZNAM, "NotHeating")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "HeatingON")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",       PV_ONAM="InhibitManual",                     PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-EH-92:Inhibit_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",        PV_ONAM="InhibitForce",                      PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-EH-92:Inhibit_Force")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",           PV_ONAM="InhibitLocking",                    PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-EH-92:Inhibit_Lock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}


#Interlock signals
#<<<--- add_digital("GroupInterlock",          PV_DESC="Group Interlock",           PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-92:GroupInterlock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "GroupInterlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("HeatInterlock",           PV_DESC="Heat Interlock",            PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-92:HeatInterlock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heat Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "HeatInterlock")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableAutoBtn",           PV_DESC="Enable Auto Button",        PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-92:EnableAutoBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Auto Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "EnableAutoBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",      PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-92:EnableManualBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",       PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-92:EnableForcedBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_digital("EnableForceValBtn",       PV_DESC="Enable Force Value Button", PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-92:EnableForceValBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Value Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "EnableForceValBtn")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",             PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-92:DevLocked")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                              PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-EH-92:Faceplate_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                              PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-EH-92:BlockIcon_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("LatchAlarm",                                                   PV_DESC="Latching of the alarms")
record(bi, "Spk-000CDL:Cryo-EH-92:LatchAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("GroupAlarm",                                                   PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-EH-92:GroupAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("Power_Discrep",       "Heater Power Discrepancy",          PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-92:Power_Discrep")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Heater Power Discrepancy")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "Power_Discrep")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "HW IO Error",                       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-92:IO_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Input_Module_Error",  "Input_Module_Error",                PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-92:Input_Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Input_Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "Input_Module_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Output_Module_Error", "Output_Module_Error",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-92:Output_Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Output_Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "Output_Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#Discrepancy
#<<<--- add_analog("DiscrPerc",                "REAL" ,                             PV_DESC="Discrepancy In Percent",            PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-92:DiscrPerc")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Discrepancy In Percent")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "DiscrPerc")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_time("DiscrTime",                  PV_DESC="Discrepancy Time Interval")
record(ai, "Spk-000CDL:Cryo-EH-92:DiscrTime")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Discrepancy Time Interval")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "DiscrTime")
	info(autosaveFields_pass0, "VAL")
}



#Ramping
#<<<--- add_analog("MaxRampUPSpd","REAL",                    PV_DESC="Maximum Ramping UP Speed",                 PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-EH-92:MaxRampUPSpd")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum Ramping UP Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "MaxRampUPSpd")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("MaxRampDNSpd","REAL",                    PV_DESC="Maximum Ramping DOWN Speed",               PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-EH-92:MaxRampDNSpd")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum Ramping DOWN Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "MaxRampDNSpd")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ActRampSpeed","REAL",                    PV_DESC="Actual Ramping Speed",                     PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-EH-92:ActRampSpeed")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Actual Ramping Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "ActRampSpeed")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Ramping",                               PV_DESC="Ramping Indicator",                        PV_ONAM="True",                                     PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-92:Ramping")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Indicator")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "Ramping")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("RampSettingOK",                         PV_DESC="Ramping can be enabled",                   PV_ONAM="True",                                     PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-92:RampSettingOK")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping can be enabled")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "RampSettingOK")
	info(autosaveFields_pass0, "VAL")
}


#Feedbacks
#<<<--- add_analog("FB_RampUPTIME","INT",                    PV_DESC="Ramping UP time",                          PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-EH-92:FB_RampUPTIME")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "FB_RampUPTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampUPRANGE","REAL",                  PV_DESC="Ramping UP range",                         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-92:FB_RampUPRANGE")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "FB_RampUPRANGE")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampDNTIME","INT",                    PV_DESC="Ramping DOWN time",                        PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-EH-92:FB_RampDNTIME")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "FB_RampDNTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampDNRANGE","REAL",                  PV_DESC="Ramping DOWN range",                       PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-92:FB_RampDNRANGE")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "FB_RampDNRANGE")
	info(autosaveFields_pass0, "VAL")
}



#Feedbacks
#<<<--- add_analog("FB_ForcePower",            "REAL" ,                             PV_DESC="FB Force Heater Power (AI)",        PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-92:FB_ForcePower")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Force Heater Power (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "FB_ForcePower")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Setpoint",              "REAL" ,                             PV_DESC="FB Setpoint from HMI (SP)",         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-92:FB_Setpoint")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "FB_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Manipulated",           "REAL" ,                             PV_DESC="FB Manipulated Value (AO)",         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-92:FB_Manipulated")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Manipulated Value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "FB_Manipulated")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Step",                  "REAL" ,                             PV_DESC="FB Step Value for Heating/Cooling", PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-92:FB_Step")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Step Value for Heating/Cooling")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "FB_Step")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampTIME",              "INT" ,                              PV_DESC="Ramping Time",                      PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-EH-92:FB_RampTIME")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "FB_RampTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampRANGE",             "REAL" ,                             PV_DESC="Ramping Range",                     PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-92:FB_RampRANGE")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "FB_RampRANGE")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-EH-92 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Auto",                PV_DESC="CMD: Auto Mode")
record(bo, "Spk-000CDL:Cryo-EH-92:Cmd_Auto")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "Cmd_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Manual",              PV_DESC="CMD: Manual Mode")
record(bo, "Spk-000CDL:Cryo-EH-92:Cmd_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "Cmd_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-EH-92:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_RampON",              PV_DESC="Turn Ramping ON")
record(bo, "Spk-000CDL:Cryo-EH-92:Cmd_RampON")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Turn Ramping ON")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "Cmd_RampON")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_RampOFF",             PV_DESC="Turn Ramping OFF")
record(bo, "Spk-000CDL:Cryo-EH-92:Cmd_RampOFF")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Turn Ramping OFF")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "Cmd_RampOFF")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-EH-92:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceValInp",         PV_DESC="CMD: Force Heater PLC Input")
record(bo, "Spk-000CDL:Cryo-EH-92:Cmd_ForceValInp")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Heater PLC Input")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "Cmd_ForceValInp")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceValOut",         PV_DESC="CMD: Force Heater PLC Output")
record(bo, "Spk-000CDL:Cryo-EH-92:Cmd_ForceValOut")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Heater PLC Output")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "Cmd_ForceValOut")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-EH-92:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-EH-92:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-EH-92:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}



############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-EH-92 EPICS -> PLC parameters ##########
##########

#Setpoint and Manipulated value from HMI
#<<<--- add_analog("P_ForcePower",             "REAL" ,                             PV_DESC="Force heater power (AI)",           PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-92:P_ForcePower")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force heater power (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "P_ForcePower")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Setpoint",               "REAL" ,                             PV_DESC="Setpoint from HMI (SP)",            PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-92:P_Setpoint")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "P_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Manipulated",            "REAL" ,                             PV_DESC="Manipulated value (AO)",            PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-92:P_Manipulated")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "P_Manipulated")
	info(autosaveFields_pass0, "VAL")
}


#Step value when pressing Cmd_Open1Step or Cmd_Close1Step
#<<<--- add_analog("P_Step",                   "REAL" ,                             PV_DESC="Step value for Heating/Cooling",    PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-92:P_Step")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Step value for Heating/Cooling")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "P_Step")
	info(autosaveFields_pass0, "VAL")
}


#Ramping speed from the HMI
#<<<--- add_analog("P_RampUPTIME","INT",                     PV_DESC="Ramping UP Time",                          PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-EH-92:P_RampUPTIME")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Time")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(EGU,  "sec")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "P_RampUPTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampUPRANGE","REAL",                   PV_DESC="Ramping UP Range",                         PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-92:P_RampUPRANGE")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "P_RampUPRANGE")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNTIME","INT",                     PV_DESC="Ramping DOWN Time",                        PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-EH-92:P_RampDNTIME")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Time")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(EGU,  "sec")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "P_RampDNTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNRANGE","REAL",                   PV_DESC="Ramping DOWN Range",                       PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-92:P_RampDNRANGE")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "P_RampDNRANGE")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                              PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-EH-92:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                              PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-EH-92:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-92_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-EH-92:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-EH-92:P_ForcePower")
	field(LNK2, "Spk-000CDL:Cryo-EH-92:P_Setpoint")
	field(LNK3, "Spk-000CDL:Cryo-EH-92:P_Manipulated")
	field(LNK4, "Spk-000CDL:Cryo-EH-92:P_Step")
	field(LNK5, "Spk-000CDL:Cryo-EH-92:P_RampUPTIME")
	field(LNK6, "Spk-000CDL:Cryo-EH-92:P_RampUPRANGE")
	field(LNK7, "Spk-000CDL:Cryo-EH-92:P_RampDNTIME")
	field(LNK8, "Spk-000CDL:Cryo-EH-92:P_RampDNRANGE")
	field(LNK9, "Spk-000CDL:Cryo-EH-92:P_Faceplate_LockID")
	field(LNKA, "Spk-000CDL:Cryo-EH-92:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-EH-93 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                                     EH - Alalog Heater                                   ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable name unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################           Version: 1.1           ################################
#Author:  Marino Vojneski
#Date:    2018-07-09
#Version: v1.1
#Changes:
#1. Modified "For OPI visualisation" section: Added digital variable "FB_Keep_Setpoint".
#2. Modified "Parameter Block" section: Added digital variable "P_Keep_Setpoint".
############################           Version: 1.0           ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    2018-06-12
#Version: v1.0
##############################################################################################



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-EH-93 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_Auto",             PV_DESC="Operation Mode Auto",       PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-93:OpMode_Auto")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "OpMode_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Manual",           PV_DESC="Operation Mode Manual",     PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-93:OpMode_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "OpMode_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",     PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-93:OpMode_Forced")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Heater states
#<<<--- add_analog("HeaterCurrent",            "REAL",                              PV_DESC="Heater Current AI",                 PV_EGU="A")
record(ai, "Spk-000CDL:Cryo-EH-93:HeaterCurrent")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Current AI")
	field(EGU,  "A")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "HeaterCurrent")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("HeaterVoltage",            "REAL",                              PV_DESC="Heater Voltage AI",                 PV_EGU="V")
record(ai, "Spk-000CDL:Cryo-EH-93:HeaterVoltage")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Voltage AI")
	field(EGU,  "V")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "HeaterVoltage")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("HeaterPower",              "REAL",                              PV_DESC="Heater Power",                      PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-93:HeaterPower")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Power")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "HeaterPower")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("HeaterSP",                 "REAL",                              PV_DESC="Heater Setpoint",                   PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-93:HeaterSP")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Setpoint")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "HeaterSP")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("HeaterMV",                 "REAL",                              PV_DESC="Heater Control AO",                 PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-93:HeaterMV")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Control AO")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "HeaterMV")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("HeatingON",                PV_DESC="Heater operating",         PV_ONAM="Heating",                           PV_ZNAM="NotHeating")
record(bi, "Spk-000CDL:Cryo-EH-93:HeatingON")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater operating")
	field(ONAM, "Heating")
	field(ZNAM, "NotHeating")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "HeatingON")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",       PV_ONAM="InhibitManual",                     PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-EH-93:Inhibit_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",        PV_ONAM="InhibitForce",                      PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-EH-93:Inhibit_Force")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",           PV_ONAM="InhibitLocking",                    PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-EH-93:Inhibit_Lock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}


#Interlock signals
#<<<--- add_digital("GroupInterlock",          PV_DESC="Group Interlock",           PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-93:GroupInterlock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "GroupInterlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("HeatInterlock",           PV_DESC="Heat Interlock",            PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-93:HeatInterlock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heat Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "HeatInterlock")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableAutoBtn",           PV_DESC="Enable Auto Button",        PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-93:EnableAutoBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Auto Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "EnableAutoBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",      PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-93:EnableManualBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",       PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-93:EnableForcedBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_digital("EnableForceValBtn",       PV_DESC="Enable Force Value Button", PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-93:EnableForceValBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Value Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "EnableForceValBtn")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",             PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-93:DevLocked")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                              PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-EH-93:Faceplate_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                              PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-EH-93:BlockIcon_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("LatchAlarm",                                                   PV_DESC="Latching of the alarms")
record(bi, "Spk-000CDL:Cryo-EH-93:LatchAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("GroupAlarm",                                                   PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-EH-93:GroupAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("Power_Discrep",       "Heater Power Discrepancy",          PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-93:Power_Discrep")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Heater Power Discrepancy")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "Power_Discrep")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "HW IO Error",                       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-93:IO_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Input_Module_Error",  "Input_Module_Error",                PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-93:Input_Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Input_Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "Input_Module_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Output_Module_Error", "Output_Module_Error",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-93:Output_Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Output_Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "Output_Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#Discrepancy
#<<<--- add_analog("DiscrPerc",                "REAL" ,                             PV_DESC="Discrepancy In Percent",            PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-93:DiscrPerc")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Discrepancy In Percent")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "DiscrPerc")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_time("DiscrTime",                  PV_DESC="Discrepancy Time Interval")
record(ai, "Spk-000CDL:Cryo-EH-93:DiscrTime")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Discrepancy Time Interval")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "DiscrTime")
	info(autosaveFields_pass0, "VAL")
}



#Ramping
#<<<--- add_analog("MaxRampUPSpd","REAL",                    PV_DESC="Maximum Ramping UP Speed",                 PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-EH-93:MaxRampUPSpd")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum Ramping UP Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "MaxRampUPSpd")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("MaxRampDNSpd","REAL",                    PV_DESC="Maximum Ramping DOWN Speed",               PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-EH-93:MaxRampDNSpd")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum Ramping DOWN Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "MaxRampDNSpd")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ActRampSpeed","REAL",                    PV_DESC="Actual Ramping Speed",                     PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-EH-93:ActRampSpeed")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Actual Ramping Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "ActRampSpeed")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Ramping",                               PV_DESC="Ramping Indicator",                        PV_ONAM="True",                                     PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-93:Ramping")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Indicator")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "Ramping")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("RampSettingOK",                         PV_DESC="Ramping can be enabled",                   PV_ONAM="True",                                     PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-93:RampSettingOK")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping can be enabled")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "RampSettingOK")
	info(autosaveFields_pass0, "VAL")
}


#Feedbacks
#<<<--- add_analog("FB_RampUPTIME","INT",                    PV_DESC="Ramping UP time",                          PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-EH-93:FB_RampUPTIME")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "FB_RampUPTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampUPRANGE","REAL",                  PV_DESC="Ramping UP range",                         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-93:FB_RampUPRANGE")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "FB_RampUPRANGE")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampDNTIME","INT",                    PV_DESC="Ramping DOWN time",                        PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-EH-93:FB_RampDNTIME")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "FB_RampDNTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampDNRANGE","REAL",                  PV_DESC="Ramping DOWN range",                       PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-93:FB_RampDNRANGE")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "FB_RampDNRANGE")
	info(autosaveFields_pass0, "VAL")
}



#Feedbacks
#<<<--- add_analog("FB_ForcePower",            "REAL" ,                             PV_DESC="FB Force Heater Power (AI)",        PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-93:FB_ForcePower")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Force Heater Power (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "FB_ForcePower")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Setpoint",              "REAL" ,                             PV_DESC="FB Setpoint from HMI (SP)",         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-93:FB_Setpoint")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "FB_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Manipulated",           "REAL" ,                             PV_DESC="FB Manipulated Value (AO)",         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-93:FB_Manipulated")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Manipulated Value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "FB_Manipulated")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Step",                  "REAL" ,                             PV_DESC="FB Step Value for Heating/Cooling", PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-93:FB_Step")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Step Value for Heating/Cooling")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "FB_Step")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampTIME",              "INT" ,                              PV_DESC="Ramping Time",                      PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-EH-93:FB_RampTIME")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "FB_RampTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampRANGE",             "REAL" ,                             PV_DESC="Ramping Range",                     PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-93:FB_RampRANGE")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "FB_RampRANGE")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-EH-93 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Auto",                PV_DESC="CMD: Auto Mode")
record(bo, "Spk-000CDL:Cryo-EH-93:Cmd_Auto")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "Cmd_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Manual",              PV_DESC="CMD: Manual Mode")
record(bo, "Spk-000CDL:Cryo-EH-93:Cmd_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "Cmd_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-EH-93:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_RampON",              PV_DESC="Turn Ramping ON")
record(bo, "Spk-000CDL:Cryo-EH-93:Cmd_RampON")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Turn Ramping ON")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "Cmd_RampON")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_RampOFF",             PV_DESC="Turn Ramping OFF")
record(bo, "Spk-000CDL:Cryo-EH-93:Cmd_RampOFF")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Turn Ramping OFF")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "Cmd_RampOFF")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-EH-93:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceValInp",         PV_DESC="CMD: Force Heater PLC Input")
record(bo, "Spk-000CDL:Cryo-EH-93:Cmd_ForceValInp")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Heater PLC Input")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "Cmd_ForceValInp")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceValOut",         PV_DESC="CMD: Force Heater PLC Output")
record(bo, "Spk-000CDL:Cryo-EH-93:Cmd_ForceValOut")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Heater PLC Output")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "Cmd_ForceValOut")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-EH-93:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-EH-93:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-EH-93:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}



############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-EH-93 EPICS -> PLC parameters ##########
##########

#Setpoint and Manipulated value from HMI
#<<<--- add_analog("P_ForcePower",             "REAL" ,                             PV_DESC="Force heater power (AI)",           PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-93:P_ForcePower")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force heater power (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "P_ForcePower")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Setpoint",               "REAL" ,                             PV_DESC="Setpoint from HMI (SP)",            PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-93:P_Setpoint")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "P_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Manipulated",            "REAL" ,                             PV_DESC="Manipulated value (AO)",            PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-93:P_Manipulated")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "P_Manipulated")
	info(autosaveFields_pass0, "VAL")
}


#Step value when pressing Cmd_Open1Step or Cmd_Close1Step
#<<<--- add_analog("P_Step",                   "REAL" ,                             PV_DESC="Step value for Heating/Cooling",    PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-93:P_Step")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Step value for Heating/Cooling")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "P_Step")
	info(autosaveFields_pass0, "VAL")
}


#Ramping speed from the HMI
#<<<--- add_analog("P_RampUPTIME","INT",                     PV_DESC="Ramping UP Time",                          PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-EH-93:P_RampUPTIME")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Time")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(EGU,  "sec")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "P_RampUPTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampUPRANGE","REAL",                   PV_DESC="Ramping UP Range",                         PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-93:P_RampUPRANGE")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "P_RampUPRANGE")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNTIME","INT",                     PV_DESC="Ramping DOWN Time",                        PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-EH-93:P_RampDNTIME")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Time")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(EGU,  "sec")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "P_RampDNTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNRANGE","REAL",                   PV_DESC="Ramping DOWN Range",                       PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-93:P_RampDNRANGE")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "P_RampDNRANGE")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                              PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-EH-93:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                              PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-EH-93:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-93_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-EH-93:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-EH-93:P_ForcePower")
	field(LNK2, "Spk-000CDL:Cryo-EH-93:P_Setpoint")
	field(LNK3, "Spk-000CDL:Cryo-EH-93:P_Manipulated")
	field(LNK4, "Spk-000CDL:Cryo-EH-93:P_Step")
	field(LNK5, "Spk-000CDL:Cryo-EH-93:P_RampUPTIME")
	field(LNK6, "Spk-000CDL:Cryo-EH-93:P_RampUPRANGE")
	field(LNK7, "Spk-000CDL:Cryo-EH-93:P_RampDNTIME")
	field(LNK8, "Spk-000CDL:Cryo-EH-93:P_RampDNRANGE")
	field(LNK9, "Spk-000CDL:Cryo-EH-93:P_Faceplate_LockID")
	field(LNKA, "Spk-000CDL:Cryo-EH-93:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-EH-94 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                                     EH - Alalog Heater                                   ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable name unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################           Version: 1.1           ################################
#Author:  Marino Vojneski
#Date:    2018-07-09
#Version: v1.1
#Changes:
#1. Modified "For OPI visualisation" section: Added digital variable "FB_Keep_Setpoint".
#2. Modified "Parameter Block" section: Added digital variable "P_Keep_Setpoint".
############################           Version: 1.0           ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    2018-06-12
#Version: v1.0
##############################################################################################



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-EH-94 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_Auto",             PV_DESC="Operation Mode Auto",       PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-94:OpMode_Auto")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "OpMode_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Manual",           PV_DESC="Operation Mode Manual",     PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-94:OpMode_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "OpMode_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",     PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-94:OpMode_Forced")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Heater states
#<<<--- add_analog("HeaterCurrent",            "REAL",                              PV_DESC="Heater Current AI",                 PV_EGU="A")
record(ai, "Spk-000CDL:Cryo-EH-94:HeaterCurrent")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Current AI")
	field(EGU,  "A")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "HeaterCurrent")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("HeaterVoltage",            "REAL",                              PV_DESC="Heater Voltage AI",                 PV_EGU="V")
record(ai, "Spk-000CDL:Cryo-EH-94:HeaterVoltage")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Voltage AI")
	field(EGU,  "V")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "HeaterVoltage")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("HeaterPower",              "REAL",                              PV_DESC="Heater Power",                      PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-94:HeaterPower")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Power")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "HeaterPower")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("HeaterSP",                 "REAL",                              PV_DESC="Heater Setpoint",                   PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-94:HeaterSP")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Setpoint")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "HeaterSP")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("HeaterMV",                 "REAL",                              PV_DESC="Heater Control AO",                 PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-94:HeaterMV")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Control AO")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "HeaterMV")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("HeatingON",                PV_DESC="Heater operating",         PV_ONAM="Heating",                           PV_ZNAM="NotHeating")
record(bi, "Spk-000CDL:Cryo-EH-94:HeatingON")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater operating")
	field(ONAM, "Heating")
	field(ZNAM, "NotHeating")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "HeatingON")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",       PV_ONAM="InhibitManual",                     PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-EH-94:Inhibit_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",        PV_ONAM="InhibitForce",                      PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-EH-94:Inhibit_Force")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",           PV_ONAM="InhibitLocking",                    PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-EH-94:Inhibit_Lock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}


#Interlock signals
#<<<--- add_digital("GroupInterlock",          PV_DESC="Group Interlock",           PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-94:GroupInterlock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "GroupInterlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("HeatInterlock",           PV_DESC="Heat Interlock",            PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-94:HeatInterlock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heat Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "HeatInterlock")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableAutoBtn",           PV_DESC="Enable Auto Button",        PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-94:EnableAutoBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Auto Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "EnableAutoBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",      PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-94:EnableManualBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",       PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-94:EnableForcedBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_digital("EnableForceValBtn",       PV_DESC="Enable Force Value Button", PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-94:EnableForceValBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Value Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "EnableForceValBtn")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",             PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-94:DevLocked")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                              PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-EH-94:Faceplate_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                              PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-EH-94:BlockIcon_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("LatchAlarm",                                                   PV_DESC="Latching of the alarms")
record(bi, "Spk-000CDL:Cryo-EH-94:LatchAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("GroupAlarm",                                                   PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-EH-94:GroupAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("Power_Discrep",       "Heater Power Discrepancy",          PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-94:Power_Discrep")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Heater Power Discrepancy")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "Power_Discrep")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "HW IO Error",                       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-94:IO_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Input_Module_Error",  "Input_Module_Error",                PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-94:Input_Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Input_Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "Input_Module_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Output_Module_Error", "Output_Module_Error",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-94:Output_Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Output_Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "Output_Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#Discrepancy
#<<<--- add_analog("DiscrPerc",                "REAL" ,                             PV_DESC="Discrepancy In Percent",            PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-94:DiscrPerc")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Discrepancy In Percent")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "DiscrPerc")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_time("DiscrTime",                  PV_DESC="Discrepancy Time Interval")
record(ai, "Spk-000CDL:Cryo-EH-94:DiscrTime")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Discrepancy Time Interval")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "DiscrTime")
	info(autosaveFields_pass0, "VAL")
}



#Ramping
#<<<--- add_analog("MaxRampUPSpd","REAL",                    PV_DESC="Maximum Ramping UP Speed",                 PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-EH-94:MaxRampUPSpd")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum Ramping UP Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "MaxRampUPSpd")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("MaxRampDNSpd","REAL",                    PV_DESC="Maximum Ramping DOWN Speed",               PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-EH-94:MaxRampDNSpd")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum Ramping DOWN Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "MaxRampDNSpd")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ActRampSpeed","REAL",                    PV_DESC="Actual Ramping Speed",                     PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-EH-94:ActRampSpeed")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Actual Ramping Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "ActRampSpeed")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Ramping",                               PV_DESC="Ramping Indicator",                        PV_ONAM="True",                                     PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-94:Ramping")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Indicator")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "Ramping")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("RampSettingOK",                         PV_DESC="Ramping can be enabled",                   PV_ONAM="True",                                     PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-94:RampSettingOK")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping can be enabled")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "RampSettingOK")
	info(autosaveFields_pass0, "VAL")
}


#Feedbacks
#<<<--- add_analog("FB_RampUPTIME","INT",                    PV_DESC="Ramping UP time",                          PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-EH-94:FB_RampUPTIME")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "FB_RampUPTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampUPRANGE","REAL",                  PV_DESC="Ramping UP range",                         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-94:FB_RampUPRANGE")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "FB_RampUPRANGE")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampDNTIME","INT",                    PV_DESC="Ramping DOWN time",                        PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-EH-94:FB_RampDNTIME")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "FB_RampDNTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampDNRANGE","REAL",                  PV_DESC="Ramping DOWN range",                       PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-94:FB_RampDNRANGE")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "FB_RampDNRANGE")
	info(autosaveFields_pass0, "VAL")
}



#Feedbacks
#<<<--- add_analog("FB_ForcePower",            "REAL" ,                             PV_DESC="FB Force Heater Power (AI)",        PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-94:FB_ForcePower")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Force Heater Power (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "FB_ForcePower")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Setpoint",              "REAL" ,                             PV_DESC="FB Setpoint from HMI (SP)",         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-94:FB_Setpoint")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "FB_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Manipulated",           "REAL" ,                             PV_DESC="FB Manipulated Value (AO)",         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-94:FB_Manipulated")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Manipulated Value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "FB_Manipulated")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Step",                  "REAL" ,                             PV_DESC="FB Step Value for Heating/Cooling", PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-94:FB_Step")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Step Value for Heating/Cooling")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "FB_Step")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampTIME",              "INT" ,                              PV_DESC="Ramping Time",                      PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-EH-94:FB_RampTIME")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "FB_RampTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampRANGE",             "REAL" ,                             PV_DESC="Ramping Range",                     PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-94:FB_RampRANGE")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "FB_RampRANGE")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-EH-94 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Auto",                PV_DESC="CMD: Auto Mode")
record(bo, "Spk-000CDL:Cryo-EH-94:Cmd_Auto")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "Cmd_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Manual",              PV_DESC="CMD: Manual Mode")
record(bo, "Spk-000CDL:Cryo-EH-94:Cmd_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "Cmd_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-EH-94:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_RampON",              PV_DESC="Turn Ramping ON")
record(bo, "Spk-000CDL:Cryo-EH-94:Cmd_RampON")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Turn Ramping ON")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "Cmd_RampON")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_RampOFF",             PV_DESC="Turn Ramping OFF")
record(bo, "Spk-000CDL:Cryo-EH-94:Cmd_RampOFF")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Turn Ramping OFF")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "Cmd_RampOFF")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-EH-94:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceValInp",         PV_DESC="CMD: Force Heater PLC Input")
record(bo, "Spk-000CDL:Cryo-EH-94:Cmd_ForceValInp")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Heater PLC Input")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "Cmd_ForceValInp")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceValOut",         PV_DESC="CMD: Force Heater PLC Output")
record(bo, "Spk-000CDL:Cryo-EH-94:Cmd_ForceValOut")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Heater PLC Output")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "Cmd_ForceValOut")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-EH-94:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-EH-94:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-EH-94:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}



############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-EH-94 EPICS -> PLC parameters ##########
##########

#Setpoint and Manipulated value from HMI
#<<<--- add_analog("P_ForcePower",             "REAL" ,                             PV_DESC="Force heater power (AI)",           PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-94:P_ForcePower")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force heater power (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "P_ForcePower")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Setpoint",               "REAL" ,                             PV_DESC="Setpoint from HMI (SP)",            PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-94:P_Setpoint")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "P_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Manipulated",            "REAL" ,                             PV_DESC="Manipulated value (AO)",            PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-94:P_Manipulated")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "P_Manipulated")
	info(autosaveFields_pass0, "VAL")
}


#Step value when pressing Cmd_Open1Step or Cmd_Close1Step
#<<<--- add_analog("P_Step",                   "REAL" ,                             PV_DESC="Step value for Heating/Cooling",    PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-94:P_Step")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Step value for Heating/Cooling")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "P_Step")
	info(autosaveFields_pass0, "VAL")
}


#Ramping speed from the HMI
#<<<--- add_analog("P_RampUPTIME","INT",                     PV_DESC="Ramping UP Time",                          PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-EH-94:P_RampUPTIME")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Time")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(EGU,  "sec")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "P_RampUPTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampUPRANGE","REAL",                   PV_DESC="Ramping UP Range",                         PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-94:P_RampUPRANGE")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "P_RampUPRANGE")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNTIME","INT",                     PV_DESC="Ramping DOWN Time",                        PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-EH-94:P_RampDNTIME")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Time")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(EGU,  "sec")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "P_RampDNTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNRANGE","REAL",                   PV_DESC="Ramping DOWN Range",                       PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-94:P_RampDNRANGE")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "P_RampDNRANGE")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                              PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-EH-94:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                              PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-EH-94:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-94_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-EH-94:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-EH-94:P_ForcePower")
	field(LNK2, "Spk-000CDL:Cryo-EH-94:P_Setpoint")
	field(LNK3, "Spk-000CDL:Cryo-EH-94:P_Manipulated")
	field(LNK4, "Spk-000CDL:Cryo-EH-94:P_Step")
	field(LNK5, "Spk-000CDL:Cryo-EH-94:P_RampUPTIME")
	field(LNK6, "Spk-000CDL:Cryo-EH-94:P_RampUPRANGE")
	field(LNK7, "Spk-000CDL:Cryo-EH-94:P_RampDNTIME")
	field(LNK8, "Spk-000CDL:Cryo-EH-94:P_RampDNRANGE")
	field(LNK9, "Spk-000CDL:Cryo-EH-94:P_Faceplate_LockID")
	field(LNKA, "Spk-000CDL:Cryo-EH-94:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-EH-95 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                                     EH - Alalog Heater                                   ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable name unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################           Version: 1.1           ################################
#Author:  Marino Vojneski
#Date:    2018-07-09
#Version: v1.1
#Changes:
#1. Modified "For OPI visualisation" section: Added digital variable "FB_Keep_Setpoint".
#2. Modified "Parameter Block" section: Added digital variable "P_Keep_Setpoint".
############################           Version: 1.0           ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    2018-06-12
#Version: v1.0
##############################################################################################



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-EH-95 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_Auto",             PV_DESC="Operation Mode Auto",       PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-95:OpMode_Auto")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "OpMode_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Manual",           PV_DESC="Operation Mode Manual",     PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-95:OpMode_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "OpMode_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",     PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-95:OpMode_Forced")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Heater states
#<<<--- add_analog("HeaterCurrent",            "REAL",                              PV_DESC="Heater Current AI",                 PV_EGU="A")
record(ai, "Spk-000CDL:Cryo-EH-95:HeaterCurrent")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Current AI")
	field(EGU,  "A")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "HeaterCurrent")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("HeaterVoltage",            "REAL",                              PV_DESC="Heater Voltage AI",                 PV_EGU="V")
record(ai, "Spk-000CDL:Cryo-EH-95:HeaterVoltage")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Voltage AI")
	field(EGU,  "V")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "HeaterVoltage")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("HeaterPower",              "REAL",                              PV_DESC="Heater Power",                      PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-95:HeaterPower")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Power")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "HeaterPower")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("HeaterSP",                 "REAL",                              PV_DESC="Heater Setpoint",                   PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-95:HeaterSP")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Setpoint")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "HeaterSP")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("HeaterMV",                 "REAL",                              PV_DESC="Heater Control AO",                 PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-95:HeaterMV")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Control AO")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "HeaterMV")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("HeatingON",                PV_DESC="Heater operating",         PV_ONAM="Heating",                           PV_ZNAM="NotHeating")
record(bi, "Spk-000CDL:Cryo-EH-95:HeatingON")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater operating")
	field(ONAM, "Heating")
	field(ZNAM, "NotHeating")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "HeatingON")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",       PV_ONAM="InhibitManual",                     PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-EH-95:Inhibit_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",        PV_ONAM="InhibitForce",                      PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-EH-95:Inhibit_Force")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",           PV_ONAM="InhibitLocking",                    PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-EH-95:Inhibit_Lock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}


#Interlock signals
#<<<--- add_digital("GroupInterlock",          PV_DESC="Group Interlock",           PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-95:GroupInterlock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "GroupInterlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("HeatInterlock",           PV_DESC="Heat Interlock",            PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-95:HeatInterlock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heat Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "HeatInterlock")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableAutoBtn",           PV_DESC="Enable Auto Button",        PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-95:EnableAutoBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Auto Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "EnableAutoBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",      PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-95:EnableManualBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",       PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-95:EnableForcedBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_digital("EnableForceValBtn",       PV_DESC="Enable Force Value Button", PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-95:EnableForceValBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Value Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "EnableForceValBtn")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",             PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-95:DevLocked")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                              PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-EH-95:Faceplate_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                              PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-EH-95:BlockIcon_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("LatchAlarm",                                                   PV_DESC="Latching of the alarms")
record(bi, "Spk-000CDL:Cryo-EH-95:LatchAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("GroupAlarm",                                                   PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-EH-95:GroupAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("Power_Discrep",       "Heater Power Discrepancy",          PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-95:Power_Discrep")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Heater Power Discrepancy")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "Power_Discrep")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "HW IO Error",                       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-95:IO_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Input_Module_Error",  "Input_Module_Error",                PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-95:Input_Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Input_Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "Input_Module_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Output_Module_Error", "Output_Module_Error",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-95:Output_Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Output_Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "Output_Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#Discrepancy
#<<<--- add_analog("DiscrPerc",                "REAL" ,                             PV_DESC="Discrepancy In Percent",            PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-95:DiscrPerc")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Discrepancy In Percent")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "DiscrPerc")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_time("DiscrTime",                  PV_DESC="Discrepancy Time Interval")
record(ai, "Spk-000CDL:Cryo-EH-95:DiscrTime")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Discrepancy Time Interval")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "DiscrTime")
	info(autosaveFields_pass0, "VAL")
}



#Ramping
#<<<--- add_analog("MaxRampUPSpd","REAL",                    PV_DESC="Maximum Ramping UP Speed",                 PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-EH-95:MaxRampUPSpd")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum Ramping UP Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "MaxRampUPSpd")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("MaxRampDNSpd","REAL",                    PV_DESC="Maximum Ramping DOWN Speed",               PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-EH-95:MaxRampDNSpd")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum Ramping DOWN Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "MaxRampDNSpd")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ActRampSpeed","REAL",                    PV_DESC="Actual Ramping Speed",                     PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-EH-95:ActRampSpeed")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Actual Ramping Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "ActRampSpeed")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Ramping",                               PV_DESC="Ramping Indicator",                        PV_ONAM="True",                                     PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-95:Ramping")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Indicator")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "Ramping")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("RampSettingOK",                         PV_DESC="Ramping can be enabled",                   PV_ONAM="True",                                     PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-95:RampSettingOK")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping can be enabled")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "RampSettingOK")
	info(autosaveFields_pass0, "VAL")
}


#Feedbacks
#<<<--- add_analog("FB_RampUPTIME","INT",                    PV_DESC="Ramping UP time",                          PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-EH-95:FB_RampUPTIME")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "FB_RampUPTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampUPRANGE","REAL",                  PV_DESC="Ramping UP range",                         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-95:FB_RampUPRANGE")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "FB_RampUPRANGE")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampDNTIME","INT",                    PV_DESC="Ramping DOWN time",                        PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-EH-95:FB_RampDNTIME")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "FB_RampDNTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampDNRANGE","REAL",                  PV_DESC="Ramping DOWN range",                       PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-95:FB_RampDNRANGE")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "FB_RampDNRANGE")
	info(autosaveFields_pass0, "VAL")
}



#Feedbacks
#<<<--- add_analog("FB_ForcePower",            "REAL" ,                             PV_DESC="FB Force Heater Power (AI)",        PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-95:FB_ForcePower")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Force Heater Power (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "FB_ForcePower")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Setpoint",              "REAL" ,                             PV_DESC="FB Setpoint from HMI (SP)",         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-95:FB_Setpoint")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "FB_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Manipulated",           "REAL" ,                             PV_DESC="FB Manipulated Value (AO)",         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-95:FB_Manipulated")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Manipulated Value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "FB_Manipulated")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Step",                  "REAL" ,                             PV_DESC="FB Step Value for Heating/Cooling", PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-95:FB_Step")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Step Value for Heating/Cooling")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "FB_Step")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampTIME",              "INT" ,                              PV_DESC="Ramping Time",                      PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-EH-95:FB_RampTIME")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "FB_RampTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampRANGE",             "REAL" ,                             PV_DESC="Ramping Range",                     PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-95:FB_RampRANGE")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "FB_RampRANGE")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-EH-95 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Auto",                PV_DESC="CMD: Auto Mode")
record(bo, "Spk-000CDL:Cryo-EH-95:Cmd_Auto")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "Cmd_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Manual",              PV_DESC="CMD: Manual Mode")
record(bo, "Spk-000CDL:Cryo-EH-95:Cmd_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "Cmd_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-EH-95:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_RampON",              PV_DESC="Turn Ramping ON")
record(bo, "Spk-000CDL:Cryo-EH-95:Cmd_RampON")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Turn Ramping ON")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "Cmd_RampON")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_RampOFF",             PV_DESC="Turn Ramping OFF")
record(bo, "Spk-000CDL:Cryo-EH-95:Cmd_RampOFF")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Turn Ramping OFF")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "Cmd_RampOFF")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-EH-95:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceValInp",         PV_DESC="CMD: Force Heater PLC Input")
record(bo, "Spk-000CDL:Cryo-EH-95:Cmd_ForceValInp")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Heater PLC Input")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "Cmd_ForceValInp")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceValOut",         PV_DESC="CMD: Force Heater PLC Output")
record(bo, "Spk-000CDL:Cryo-EH-95:Cmd_ForceValOut")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Heater PLC Output")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "Cmd_ForceValOut")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-EH-95:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-EH-95:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-EH-95:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}



############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-EH-95 EPICS -> PLC parameters ##########
##########

#Setpoint and Manipulated value from HMI
#<<<--- add_analog("P_ForcePower",             "REAL" ,                             PV_DESC="Force heater power (AI)",           PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-95:P_ForcePower")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force heater power (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "P_ForcePower")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Setpoint",               "REAL" ,                             PV_DESC="Setpoint from HMI (SP)",            PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-95:P_Setpoint")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "P_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Manipulated",            "REAL" ,                             PV_DESC="Manipulated value (AO)",            PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-95:P_Manipulated")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "P_Manipulated")
	info(autosaveFields_pass0, "VAL")
}


#Step value when pressing Cmd_Open1Step or Cmd_Close1Step
#<<<--- add_analog("P_Step",                   "REAL" ,                             PV_DESC="Step value for Heating/Cooling",    PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-95:P_Step")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Step value for Heating/Cooling")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "P_Step")
	info(autosaveFields_pass0, "VAL")
}


#Ramping speed from the HMI
#<<<--- add_analog("P_RampUPTIME","INT",                     PV_DESC="Ramping UP Time",                          PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-EH-95:P_RampUPTIME")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Time")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(EGU,  "sec")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "P_RampUPTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampUPRANGE","REAL",                   PV_DESC="Ramping UP Range",                         PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-95:P_RampUPRANGE")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "P_RampUPRANGE")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNTIME","INT",                     PV_DESC="Ramping DOWN Time",                        PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-EH-95:P_RampDNTIME")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Time")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(EGU,  "sec")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "P_RampDNTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNRANGE","REAL",                   PV_DESC="Ramping DOWN Range",                       PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-95:P_RampDNRANGE")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "P_RampDNRANGE")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                              PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-EH-95:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                              PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-EH-95:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-95_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-EH-95:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-EH-95:P_ForcePower")
	field(LNK2, "Spk-000CDL:Cryo-EH-95:P_Setpoint")
	field(LNK3, "Spk-000CDL:Cryo-EH-95:P_Manipulated")
	field(LNK4, "Spk-000CDL:Cryo-EH-95:P_Step")
	field(LNK5, "Spk-000CDL:Cryo-EH-95:P_RampUPTIME")
	field(LNK6, "Spk-000CDL:Cryo-EH-95:P_RampUPRANGE")
	field(LNK7, "Spk-000CDL:Cryo-EH-95:P_RampDNTIME")
	field(LNK8, "Spk-000CDL:Cryo-EH-95:P_RampDNRANGE")
	field(LNK9, "Spk-000CDL:Cryo-EH-95:P_Faceplate_LockID")
	field(LNKA, "Spk-000CDL:Cryo-EH-95:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-EH-96 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                                     EH - Alalog Heater                                   ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable name unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################           Version: 1.1           ################################
#Author:  Marino Vojneski
#Date:    2018-07-09
#Version: v1.1
#Changes:
#1. Modified "For OPI visualisation" section: Added digital variable "FB_Keep_Setpoint".
#2. Modified "Parameter Block" section: Added digital variable "P_Keep_Setpoint".
############################           Version: 1.0           ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    2018-06-12
#Version: v1.0
##############################################################################################



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-EH-96 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_Auto",             PV_DESC="Operation Mode Auto",       PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-96:OpMode_Auto")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "OpMode_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Manual",           PV_DESC="Operation Mode Manual",     PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-96:OpMode_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "OpMode_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",     PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-96:OpMode_Forced")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Heater states
#<<<--- add_analog("HeaterCurrent",            "REAL",                              PV_DESC="Heater Current AI",                 PV_EGU="A")
record(ai, "Spk-000CDL:Cryo-EH-96:HeaterCurrent")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Current AI")
	field(EGU,  "A")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "HeaterCurrent")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("HeaterVoltage",            "REAL",                              PV_DESC="Heater Voltage AI",                 PV_EGU="V")
record(ai, "Spk-000CDL:Cryo-EH-96:HeaterVoltage")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Voltage AI")
	field(EGU,  "V")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "HeaterVoltage")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("HeaterPower",              "REAL",                              PV_DESC="Heater Power",                      PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-96:HeaterPower")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Power")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "HeaterPower")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("HeaterSP",                 "REAL",                              PV_DESC="Heater Setpoint",                   PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-96:HeaterSP")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Setpoint")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "HeaterSP")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("HeaterMV",                 "REAL",                              PV_DESC="Heater Control AO",                 PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-96:HeaterMV")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater Control AO")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "HeaterMV")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("HeatingON",                PV_DESC="Heater operating",         PV_ONAM="Heating",                           PV_ZNAM="NotHeating")
record(bi, "Spk-000CDL:Cryo-EH-96:HeatingON")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heater operating")
	field(ONAM, "Heating")
	field(ZNAM, "NotHeating")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "HeatingON")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",       PV_ONAM="InhibitManual",                     PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-EH-96:Inhibit_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",        PV_ONAM="InhibitForce",                      PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-EH-96:Inhibit_Force")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",           PV_ONAM="InhibitLocking",                    PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-EH-96:Inhibit_Lock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}


#Interlock signals
#<<<--- add_digital("GroupInterlock",          PV_DESC="Group Interlock",           PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-96:GroupInterlock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "GroupInterlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("HeatInterlock",           PV_DESC="Heat Interlock",            PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-96:HeatInterlock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Heat Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "HeatInterlock")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableAutoBtn",           PV_DESC="Enable Auto Button",        PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-96:EnableAutoBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Auto Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "EnableAutoBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",      PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-96:EnableManualBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",       PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-96:EnableForcedBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_digital("EnableForceValBtn",       PV_DESC="Enable Force Value Button", PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-96:EnableForceValBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Value Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "EnableForceValBtn")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",             PV_ONAM="True",                              PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-96:DevLocked")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                              PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-EH-96:Faceplate_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                              PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-EH-96:BlockIcon_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("LatchAlarm",                                                   PV_DESC="Latching of the alarms")
record(bi, "Spk-000CDL:Cryo-EH-96:LatchAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("GroupAlarm",                                                   PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-EH-96:GroupAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("Power_Discrep",       "Heater Power Discrepancy",          PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-96:Power_Discrep")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Heater Power Discrepancy")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "Power_Discrep")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "HW IO Error",                       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-96:IO_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Input_Module_Error",  "Input_Module_Error",                PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-96:Input_Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Input_Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "Input_Module_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Output_Module_Error", "Output_Module_Error",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-EH-96:Output_Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Output_Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "Output_Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#Discrepancy
#<<<--- add_analog("DiscrPerc",                "REAL" ,                             PV_DESC="Discrepancy In Percent",            PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-96:DiscrPerc")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Discrepancy In Percent")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "DiscrPerc")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_time("DiscrTime",                  PV_DESC="Discrepancy Time Interval")
record(ai, "Spk-000CDL:Cryo-EH-96:DiscrTime")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Discrepancy Time Interval")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "DiscrTime")
	info(autosaveFields_pass0, "VAL")
}



#Ramping
#<<<--- add_analog("MaxRampUPSpd","REAL",                    PV_DESC="Maximum Ramping UP Speed",                 PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-EH-96:MaxRampUPSpd")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum Ramping UP Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "MaxRampUPSpd")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("MaxRampDNSpd","REAL",                    PV_DESC="Maximum Ramping DOWN Speed",               PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-EH-96:MaxRampDNSpd")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum Ramping DOWN Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "MaxRampDNSpd")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ActRampSpeed","REAL",                    PV_DESC="Actual Ramping Speed",                     PV_EGU="%/s")
record(ai, "Spk-000CDL:Cryo-EH-96:ActRampSpeed")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Actual Ramping Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "ActRampSpeed")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Ramping",                               PV_DESC="Ramping Indicator",                        PV_ONAM="True",                                     PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-96:Ramping")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Indicator")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "Ramping")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("RampSettingOK",                         PV_DESC="Ramping can be enabled",                   PV_ONAM="True",                                     PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-EH-96:RampSettingOK")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping can be enabled")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "RampSettingOK")
	info(autosaveFields_pass0, "VAL")
}


#Feedbacks
#<<<--- add_analog("FB_RampUPTIME","INT",                    PV_DESC="Ramping UP time",                          PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-EH-96:FB_RampUPTIME")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "FB_RampUPTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampUPRANGE","REAL",                  PV_DESC="Ramping UP range",                         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-96:FB_RampUPRANGE")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "FB_RampUPRANGE")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampDNTIME","INT",                    PV_DESC="Ramping DOWN time",                        PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-EH-96:FB_RampDNTIME")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "FB_RampDNTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampDNRANGE","REAL",                  PV_DESC="Ramping DOWN range",                       PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-96:FB_RampDNRANGE")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "FB_RampDNRANGE")
	info(autosaveFields_pass0, "VAL")
}



#Feedbacks
#<<<--- add_analog("FB_ForcePower",            "REAL" ,                             PV_DESC="FB Force Heater Power (AI)",        PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-96:FB_ForcePower")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Force Heater Power (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "FB_ForcePower")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Setpoint",              "REAL" ,                             PV_DESC="FB Setpoint from HMI (SP)",         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-96:FB_Setpoint")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "FB_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Manipulated",           "REAL" ,                             PV_DESC="FB Manipulated Value (AO)",         PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-96:FB_Manipulated")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Manipulated Value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "FB_Manipulated")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Step",                  "REAL" ,                             PV_DESC="FB Step Value for Heating/Cooling", PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-96:FB_Step")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "FB Step Value for Heating/Cooling")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "FB_Step")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampTIME",              "INT" ,                              PV_DESC="Ramping Time",                      PV_EGU="sec")
record(ai, "Spk-000CDL:Cryo-EH-96:FB_RampTIME")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Time")
	field(EGU,  "sec")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "FB_RampTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_RampRANGE",             "REAL" ,                             PV_DESC="Ramping Range",                     PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-EH-96:FB_RampRANGE")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "FB_RampRANGE")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-EH-96 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Auto",                PV_DESC="CMD: Auto Mode")
record(bo, "Spk-000CDL:Cryo-EH-96:Cmd_Auto")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "Cmd_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Manual",              PV_DESC="CMD: Manual Mode")
record(bo, "Spk-000CDL:Cryo-EH-96:Cmd_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "Cmd_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-EH-96:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_RampON",              PV_DESC="Turn Ramping ON")
record(bo, "Spk-000CDL:Cryo-EH-96:Cmd_RampON")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Turn Ramping ON")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "Cmd_RampON")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_RampOFF",             PV_DESC="Turn Ramping OFF")
record(bo, "Spk-000CDL:Cryo-EH-96:Cmd_RampOFF")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Turn Ramping OFF")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "Cmd_RampOFF")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-EH-96:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceValInp",         PV_DESC="CMD: Force Heater PLC Input")
record(bo, "Spk-000CDL:Cryo-EH-96:Cmd_ForceValInp")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Heater PLC Input")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "Cmd_ForceValInp")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceValOut",         PV_DESC="CMD: Force Heater PLC Output")
record(bo, "Spk-000CDL:Cryo-EH-96:Cmd_ForceValOut")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Heater PLC Output")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "Cmd_ForceValOut")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-EH-96:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-EH-96:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-EH-96:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}



############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-EH-96 EPICS -> PLC parameters ##########
##########

#Setpoint and Manipulated value from HMI
#<<<--- add_analog("P_ForcePower",             "REAL" ,                             PV_DESC="Force heater power (AI)",           PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-96:P_ForcePower")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force heater power (AI)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "P_ForcePower")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Setpoint",               "REAL" ,                             PV_DESC="Setpoint from HMI (SP)",            PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-96:P_Setpoint")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Setpoint from HMI (SP)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "P_Setpoint")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Manipulated",            "REAL" ,                             PV_DESC="Manipulated value (AO)",            PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-96:P_Manipulated")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Manipulated value (AO)")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "P_Manipulated")
	info(autosaveFields_pass0, "VAL")
}


#Step value when pressing Cmd_Open1Step or Cmd_Close1Step
#<<<--- add_analog("P_Step",                   "REAL" ,                             PV_DESC="Step value for Heating/Cooling",    PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-96:P_Step")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Step value for Heating/Cooling")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "P_Step")
	info(autosaveFields_pass0, "VAL")
}


#Ramping speed from the HMI
#<<<--- add_analog("P_RampUPTIME","INT",                     PV_DESC="Ramping UP Time",                          PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-EH-96:P_RampUPTIME")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Time")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(EGU,  "sec")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "P_RampUPTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampUPRANGE","REAL",                   PV_DESC="Ramping UP Range",                         PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-96:P_RampUPRANGE")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "P_RampUPRANGE")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNTIME","INT",                     PV_DESC="Ramping DOWN Time",                        PV_EGU="sec")
record(ao, "Spk-000CDL:Cryo-EH-96:P_RampDNTIME")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Time")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(EGU,  "sec")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "P_RampDNTIME")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNRANGE","REAL",                   PV_DESC="Ramping DOWN Range",                       PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-EH-96:P_RampDNRANGE")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Range")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "P_RampDNRANGE")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                              PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-EH-96:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                              PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-EH-96:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-EH-96_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-EH-96:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-EH-96:P_ForcePower")
	field(LNK2, "Spk-000CDL:Cryo-EH-96:P_Setpoint")
	field(LNK3, "Spk-000CDL:Cryo-EH-96:P_Manipulated")
	field(LNK4, "Spk-000CDL:Cryo-EH-96:P_Step")
	field(LNK5, "Spk-000CDL:Cryo-EH-96:P_RampUPTIME")
	field(LNK6, "Spk-000CDL:Cryo-EH-96:P_RampUPRANGE")
	field(LNK7, "Spk-000CDL:Cryo-EH-96:P_RampDNTIME")
	field(LNK8, "Spk-000CDL:Cryo-EH-96:P_RampDNRANGE")
	field(LNK9, "Spk-000CDL:Cryo-EH-96:P_Faceplate_LockID")
	field(LNKA, "Spk-000CDL:Cryo-EH-96:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-HV-70 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                          HV - Hand valve with position feedback
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.0, 1.1, 1.2             ######################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-HV-70 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun",PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-HV-70:OpMode_FreeRun")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "OpMode_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced", PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-HV-70:OpMode_Forced")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Valve physical states
#<<<--- add_digital("Opened",                  PV_DESC="Valve Opened",          PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-HV-70:Opened")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Opened")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "Opened")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Closed",                  PV_DESC="Valve Closed",          PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-HV-70:Closed")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Closed")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "Closed")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ValveColor",               "INT",                           PV_DESC="BlockIcon valve color")
record(ai, "Spk-000CDL:Cryo-HV-70:ValveColor")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "BlockIcon valve color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "ValveColor")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",   PV_ONAM="InhibitManual",  PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-HV-70:Inhibit_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",    PV_ONAM="InhibitForce",   PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-HV-70:Inhibit_Force")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",       PV_ONAM="InhibitLocking", PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-HV-70:Inhibit_Lock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}



#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button",PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-HV-70:EnableFreeRunBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "EnableFreeRunBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",  PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-HV-70:EnableManualBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",   PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-HV-70:EnableForcedBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",         PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-HV-70:DevLocked")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                          PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-HV-70:Faceplate_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                          PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-HV-70:BlockIcon_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("LatchAlarm",          "Latching of alarms",            PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-HV-70:LatchAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Latching of alarms")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("GroupAlarm",          "Group Alarm",                   PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-HV-70:GroupAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Group Alarm")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "IO Error",                      PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-HV-70:IO_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Input_Module_Error",  "HW Input Module Error",         PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-HV-70:Input_Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Input Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "Input_Module_Error")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-HV-70 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Spk-000CDL:Cryo-HV-70:Cmd_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "Cmd_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-HV-70:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Spk-000CDL:Cryo-HV-70:Cmd_ForceVal")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "Cmd_ForceVal")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-HV-70:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-HV-70:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-HV-70:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-HV-70:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-HV-70 EPICS -> PLC parameters ##########
##########

#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                          PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-HV-70:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                          PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-HV-70:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-70_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-HV-70:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-HV-70:P_Faceplate_LockID")
	field(LNK2, "Spk-000CDL:Cryo-HV-70:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-HV-73 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                          HV - Hand valve with position feedback
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.0, 1.1, 1.2             ######################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-HV-73 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun",PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-HV-73:OpMode_FreeRun")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "OpMode_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced", PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-HV-73:OpMode_Forced")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Valve physical states
#<<<--- add_digital("Opened",                  PV_DESC="Valve Opened",          PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-HV-73:Opened")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Opened")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "Opened")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Closed",                  PV_DESC="Valve Closed",          PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-HV-73:Closed")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Valve Closed")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "Closed")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ValveColor",               "INT",                           PV_DESC="BlockIcon valve color")
record(ai, "Spk-000CDL:Cryo-HV-73:ValveColor")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "BlockIcon valve color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "ValveColor")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",   PV_ONAM="InhibitManual",  PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-HV-73:Inhibit_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",    PV_ONAM="InhibitForce",   PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-HV-73:Inhibit_Force")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",       PV_ONAM="InhibitLocking", PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-HV-73:Inhibit_Lock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}



#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button",PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-HV-73:EnableFreeRunBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "EnableFreeRunBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",  PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-HV-73:EnableManualBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",   PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-HV-73:EnableForcedBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",         PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-HV-73:DevLocked")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                          PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-HV-73:Faceplate_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                          PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-HV-73:BlockIcon_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("LatchAlarm",          "Latching of alarms",            PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-HV-73:LatchAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Latching of alarms")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("GroupAlarm",          "Group Alarm",                   PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-HV-73:GroupAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Group Alarm")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "IO Error",                      PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-HV-73:IO_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Input_Module_Error",  "HW Input Module Error",         PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-HV-73:Input_Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "HW Input Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "Input_Module_Error")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-HV-73 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Spk-000CDL:Cryo-HV-73:Cmd_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "Cmd_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-HV-73:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Spk-000CDL:Cryo-HV-73:Cmd_ForceVal")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "Cmd_ForceVal")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-HV-73:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-HV-73:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-HV-73:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-HV-73:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-HV-73 EPICS -> PLC parameters ##########
##########

#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                          PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-HV-73:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                          PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-HV-73:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-HV-73_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-HV-73:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-HV-73:P_Faceplate_LockID")
	field(LNK2, "Spk-000CDL:Cryo-HV-73:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-TT-91 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                      TT - Temperature Transmitter in K with Lakeshore                    ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.4             ################################
#Author:  Miklos Boros
#Date:    16-12-2019
#Version: v1.4
#Changes:
#1. Modified TT for direct Temp measurement with Lakeshore
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################         Version: 1.1             ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    12-06-2018
#Version: v1.1
#Changes:
#1. Modified Alarm Signal section to be compatible with new format.
############################ Version: 1.0             ########################################
#Author:  Miklos Boros
#Date:    25-01-2018
#Version: v1.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-TT-91 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-91:OpMode_FreeRun")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "OpMode_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-91:OpMode_Forced")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",              PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-TT-91:Inhibit_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",               PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-TT-91:Inhibit_Force")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",             PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-TT-91:Inhibit_Lock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Spk-000CDL:Cryo-TT-91:TransmitterColor")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "TransmitterColor")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("MinTemp",                  "REAL",                           PV_DESC="Minimum possible temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-91:MinTemp")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Minimum possible temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "MinTemp")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("MaxTemp",                  "REAL",                           PV_DESC="Maximum possible temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-91:MaxTemp")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum possible temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "MaxTemp")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-91:EnableFreeRunBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "EnableFreeRunBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-91:EnableForcedBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-91:EnableManualBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",  ARCHIVE=True,                           PV_DESC="Temperature Value",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-91:MeasValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Temperature Value")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "MeasValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-91:DevLocked")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-TT-91:Faceplate_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-TT-91:BlockIcon_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("LatchAlarm",                            PV_DESC="Latching of the alarms")
record(bi, "Spk-000CDL:Cryo-TT-91:LatchAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("GroupAlarm",                            PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-TT-91:GroupAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("Underrange",          "Temperature Underrange",         PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-91:Underrange")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "Underrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Overrange",           "Temperature Overrange",          PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-91:Overrange")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "Overrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("HIHI",                "Temperature HIHI",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-91:HIHI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("HI",                  "Temperature HI",                 PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-91:HI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("LO",                  "Temperature LO",                 PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-91:LO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("LOLO",                "Temperature LOLO",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-91:LOLO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "LOLO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Param_Error",         "Parameter_Error",                PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-91:Param_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Parameter_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "Param_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("PN_Module_Error",     "LakeShore ProfiNet Error",       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-91:PN_Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "LakeShore ProfiNet Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "PN_Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-91:FB_ForceValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Force Temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "FB_ForceValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",        PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-91:FB_Limit_HIHI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "FB_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-91:FB_Limit_HI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "FB_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-91:FB_Limit_LO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "FB_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",        PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-91:FB_Limit_LOLO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "FB_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-TT-91 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Spk-000CDL:Cryo-TT-91:Cmd_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "Cmd_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-TT-91:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Spk-000CDL:Cryo-TT-91:Cmd_ForceVal")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "Cmd_ForceVal")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-TT-91:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-TT-91:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-TT-91:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-TT-91:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-TT-91 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",                 PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-91:P_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HIHI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                   PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-91:P_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                   PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-91:P_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",                 PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-91:P_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LOLO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force Temperature",          PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-91:P_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-TT-91:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-TT-91:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-91_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-TT-91:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-TT-91:P_Limit_HIHI")
	field(LNK2, "Spk-000CDL:Cryo-TT-91:P_Limit_HI")
	field(LNK3, "Spk-000CDL:Cryo-TT-91:P_Limit_LO")
	field(LNK4, "Spk-000CDL:Cryo-TT-91:P_Limit_LOLO")
	field(LNK5, "Spk-000CDL:Cryo-TT-91:P_ForceValue")
	field(LNK6, "Spk-000CDL:Cryo-TT-91:P_Faceplate_LockID")
	field(LNK7, "Spk-000CDL:Cryo-TT-91:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-TT-92 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                      TT - Temperature Transmitter in K with Lakeshore                    ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.4             ################################
#Author:  Miklos Boros
#Date:    16-12-2019
#Version: v1.4
#Changes:
#1. Modified TT for direct Temp measurement with Lakeshore
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################         Version: 1.1             ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    12-06-2018
#Version: v1.1
#Changes:
#1. Modified Alarm Signal section to be compatible with new format.
############################ Version: 1.0             ########################################
#Author:  Miklos Boros
#Date:    25-01-2018
#Version: v1.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-TT-92 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-92:OpMode_FreeRun")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "OpMode_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-92:OpMode_Forced")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",              PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-TT-92:Inhibit_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",               PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-TT-92:Inhibit_Force")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",             PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-TT-92:Inhibit_Lock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Spk-000CDL:Cryo-TT-92:TransmitterColor")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "TransmitterColor")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("MinTemp",                  "REAL",                           PV_DESC="Minimum possible temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-92:MinTemp")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Minimum possible temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "MinTemp")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("MaxTemp",                  "REAL",                           PV_DESC="Maximum possible temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-92:MaxTemp")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum possible temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "MaxTemp")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-92:EnableFreeRunBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "EnableFreeRunBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-92:EnableForcedBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-92:EnableManualBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",  ARCHIVE=True,                           PV_DESC="Temperature Value",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-92:MeasValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Temperature Value")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "MeasValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-92:DevLocked")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-TT-92:Faceplate_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-TT-92:BlockIcon_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("LatchAlarm",                            PV_DESC="Latching of the alarms")
record(bi, "Spk-000CDL:Cryo-TT-92:LatchAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("GroupAlarm",                            PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-TT-92:GroupAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("Underrange",          "Temperature Underrange",         PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-92:Underrange")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "Underrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Overrange",           "Temperature Overrange",          PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-92:Overrange")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "Overrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("HIHI",                "Temperature HIHI",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-92:HIHI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("HI",                  "Temperature HI",                 PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-92:HI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("LO",                  "Temperature LO",                 PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-92:LO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("LOLO",                "Temperature LOLO",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-92:LOLO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "LOLO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Param_Error",         "Parameter_Error",                PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-92:Param_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Parameter_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "Param_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("PN_Module_Error",     "LakeShore ProfiNet Error",       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-92:PN_Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "LakeShore ProfiNet Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "PN_Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-92:FB_ForceValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Force Temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "FB_ForceValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",        PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-92:FB_Limit_HIHI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "FB_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-92:FB_Limit_HI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "FB_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-92:FB_Limit_LO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "FB_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",        PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-92:FB_Limit_LOLO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "FB_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-TT-92 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Spk-000CDL:Cryo-TT-92:Cmd_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "Cmd_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-TT-92:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Spk-000CDL:Cryo-TT-92:Cmd_ForceVal")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "Cmd_ForceVal")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-TT-92:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-TT-92:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-TT-92:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-TT-92:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-TT-92 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",                 PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-92:P_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HIHI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                   PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-92:P_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                   PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-92:P_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",                 PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-92:P_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LOLO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force Temperature",          PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-92:P_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-TT-92:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-TT-92:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-92_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-TT-92:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-TT-92:P_Limit_HIHI")
	field(LNK2, "Spk-000CDL:Cryo-TT-92:P_Limit_HI")
	field(LNK3, "Spk-000CDL:Cryo-TT-92:P_Limit_LO")
	field(LNK4, "Spk-000CDL:Cryo-TT-92:P_Limit_LOLO")
	field(LNK5, "Spk-000CDL:Cryo-TT-92:P_ForceValue")
	field(LNK6, "Spk-000CDL:Cryo-TT-92:P_Faceplate_LockID")
	field(LNK7, "Spk-000CDL:Cryo-TT-92:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-TT-93 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                      TT - Temperature Transmitter in K with Lakeshore                    ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.4             ################################
#Author:  Miklos Boros
#Date:    16-12-2019
#Version: v1.4
#Changes:
#1. Modified TT for direct Temp measurement with Lakeshore
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################         Version: 1.1             ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    12-06-2018
#Version: v1.1
#Changes:
#1. Modified Alarm Signal section to be compatible with new format.
############################ Version: 1.0             ########################################
#Author:  Miklos Boros
#Date:    25-01-2018
#Version: v1.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-TT-93 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-93:OpMode_FreeRun")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "OpMode_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-93:OpMode_Forced")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",              PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-TT-93:Inhibit_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",               PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-TT-93:Inhibit_Force")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",             PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-TT-93:Inhibit_Lock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Spk-000CDL:Cryo-TT-93:TransmitterColor")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "TransmitterColor")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("MinTemp",                  "REAL",                           PV_DESC="Minimum possible temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-93:MinTemp")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Minimum possible temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "MinTemp")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("MaxTemp",                  "REAL",                           PV_DESC="Maximum possible temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-93:MaxTemp")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum possible temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "MaxTemp")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-93:EnableFreeRunBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "EnableFreeRunBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-93:EnableForcedBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-93:EnableManualBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",  ARCHIVE=True,                           PV_DESC="Temperature Value",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-93:MeasValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Temperature Value")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "MeasValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-93:DevLocked")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-TT-93:Faceplate_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-TT-93:BlockIcon_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("LatchAlarm",                            PV_DESC="Latching of the alarms")
record(bi, "Spk-000CDL:Cryo-TT-93:LatchAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("GroupAlarm",                            PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-TT-93:GroupAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("Underrange",          "Temperature Underrange",         PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-93:Underrange")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "Underrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Overrange",           "Temperature Overrange",          PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-93:Overrange")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "Overrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("HIHI",                "Temperature HIHI",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-93:HIHI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("HI",                  "Temperature HI",                 PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-93:HI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("LO",                  "Temperature LO",                 PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-93:LO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("LOLO",                "Temperature LOLO",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-93:LOLO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "LOLO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Param_Error",         "Parameter_Error",                PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-93:Param_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Parameter_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "Param_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("PN_Module_Error",     "LakeShore ProfiNet Error",       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-93:PN_Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "LakeShore ProfiNet Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "PN_Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-93:FB_ForceValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Force Temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "FB_ForceValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",        PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-93:FB_Limit_HIHI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "FB_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-93:FB_Limit_HI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "FB_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-93:FB_Limit_LO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "FB_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",        PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-93:FB_Limit_LOLO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "FB_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-TT-93 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Spk-000CDL:Cryo-TT-93:Cmd_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "Cmd_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-TT-93:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Spk-000CDL:Cryo-TT-93:Cmd_ForceVal")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "Cmd_ForceVal")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-TT-93:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-TT-93:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-TT-93:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-TT-93:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-TT-93 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",                 PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-93:P_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HIHI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                   PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-93:P_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                   PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-93:P_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",                 PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-93:P_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LOLO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force Temperature",          PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-93:P_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-TT-93:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-TT-93:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-93_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-TT-93:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-TT-93:P_Limit_HIHI")
	field(LNK2, "Spk-000CDL:Cryo-TT-93:P_Limit_HI")
	field(LNK3, "Spk-000CDL:Cryo-TT-93:P_Limit_LO")
	field(LNK4, "Spk-000CDL:Cryo-TT-93:P_Limit_LOLO")
	field(LNK5, "Spk-000CDL:Cryo-TT-93:P_ForceValue")
	field(LNK6, "Spk-000CDL:Cryo-TT-93:P_Faceplate_LockID")
	field(LNK7, "Spk-000CDL:Cryo-TT-93:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-TT-94 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                      TT - Temperature Transmitter in K with Lakeshore                    ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.4             ################################
#Author:  Miklos Boros
#Date:    16-12-2019
#Version: v1.4
#Changes:
#1. Modified TT for direct Temp measurement with Lakeshore
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################         Version: 1.1             ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    12-06-2018
#Version: v1.1
#Changes:
#1. Modified Alarm Signal section to be compatible with new format.
############################ Version: 1.0             ########################################
#Author:  Miklos Boros
#Date:    25-01-2018
#Version: v1.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-TT-94 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-94:OpMode_FreeRun")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "OpMode_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-94:OpMode_Forced")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",              PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-TT-94:Inhibit_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",               PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-TT-94:Inhibit_Force")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",             PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-TT-94:Inhibit_Lock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Spk-000CDL:Cryo-TT-94:TransmitterColor")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "TransmitterColor")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("MinTemp",                  "REAL",                           PV_DESC="Minimum possible temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-94:MinTemp")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Minimum possible temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "MinTemp")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("MaxTemp",                  "REAL",                           PV_DESC="Maximum possible temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-94:MaxTemp")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum possible temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "MaxTemp")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-94:EnableFreeRunBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "EnableFreeRunBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-94:EnableForcedBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-94:EnableManualBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",  ARCHIVE=True,                           PV_DESC="Temperature Value",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-94:MeasValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Temperature Value")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "MeasValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-94:DevLocked")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-TT-94:Faceplate_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-TT-94:BlockIcon_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("LatchAlarm",                            PV_DESC="Latching of the alarms")
record(bi, "Spk-000CDL:Cryo-TT-94:LatchAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("GroupAlarm",                            PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-TT-94:GroupAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("Underrange",          "Temperature Underrange",         PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-94:Underrange")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "Underrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Overrange",           "Temperature Overrange",          PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-94:Overrange")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "Overrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("HIHI",                "Temperature HIHI",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-94:HIHI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("HI",                  "Temperature HI",                 PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-94:HI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("LO",                  "Temperature LO",                 PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-94:LO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("LOLO",                "Temperature LOLO",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-94:LOLO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "LOLO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Param_Error",         "Parameter_Error",                PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-94:Param_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Parameter_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "Param_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("PN_Module_Error",     "LakeShore ProfiNet Error",       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-94:PN_Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "LakeShore ProfiNet Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "PN_Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-94:FB_ForceValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Force Temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "FB_ForceValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",        PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-94:FB_Limit_HIHI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "FB_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-94:FB_Limit_HI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "FB_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-94:FB_Limit_LO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "FB_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",        PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-94:FB_Limit_LOLO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "FB_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-TT-94 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Spk-000CDL:Cryo-TT-94:Cmd_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "Cmd_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-TT-94:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Spk-000CDL:Cryo-TT-94:Cmd_ForceVal")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "Cmd_ForceVal")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-TT-94:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-TT-94:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-TT-94:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-TT-94:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-TT-94 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",                 PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-94:P_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HIHI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                   PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-94:P_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                   PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-94:P_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",                 PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-94:P_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LOLO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force Temperature",          PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-94:P_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-TT-94:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-TT-94:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-94_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-TT-94:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-TT-94:P_Limit_HIHI")
	field(LNK2, "Spk-000CDL:Cryo-TT-94:P_Limit_HI")
	field(LNK3, "Spk-000CDL:Cryo-TT-94:P_Limit_LO")
	field(LNK4, "Spk-000CDL:Cryo-TT-94:P_Limit_LOLO")
	field(LNK5, "Spk-000CDL:Cryo-TT-94:P_ForceValue")
	field(LNK6, "Spk-000CDL:Cryo-TT-94:P_Faceplate_LockID")
	field(LNK7, "Spk-000CDL:Cryo-TT-94:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-TT-95 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                      TT - Temperature Transmitter in K with Lakeshore                    ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.4             ################################
#Author:  Miklos Boros
#Date:    16-12-2019
#Version: v1.4
#Changes:
#1. Modified TT for direct Temp measurement with Lakeshore
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################         Version: 1.1             ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    12-06-2018
#Version: v1.1
#Changes:
#1. Modified Alarm Signal section to be compatible with new format.
############################ Version: 1.0             ########################################
#Author:  Miklos Boros
#Date:    25-01-2018
#Version: v1.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-TT-95 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-95:OpMode_FreeRun")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "OpMode_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-95:OpMode_Forced")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",              PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-TT-95:Inhibit_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",               PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-TT-95:Inhibit_Force")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",             PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-TT-95:Inhibit_Lock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Spk-000CDL:Cryo-TT-95:TransmitterColor")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "TransmitterColor")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("MinTemp",                  "REAL",                           PV_DESC="Minimum possible temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-95:MinTemp")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Minimum possible temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "MinTemp")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("MaxTemp",                  "REAL",                           PV_DESC="Maximum possible temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-95:MaxTemp")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum possible temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "MaxTemp")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-95:EnableFreeRunBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "EnableFreeRunBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-95:EnableForcedBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-95:EnableManualBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",  ARCHIVE=True,                           PV_DESC="Temperature Value",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-95:MeasValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Temperature Value")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "MeasValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-95:DevLocked")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-TT-95:Faceplate_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-TT-95:BlockIcon_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("LatchAlarm",                            PV_DESC="Latching of the alarms")
record(bi, "Spk-000CDL:Cryo-TT-95:LatchAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("GroupAlarm",                            PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-TT-95:GroupAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("Underrange",          "Temperature Underrange",         PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-95:Underrange")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "Underrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Overrange",           "Temperature Overrange",          PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-95:Overrange")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "Overrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("HIHI",                "Temperature HIHI",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-95:HIHI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("HI",                  "Temperature HI",                 PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-95:HI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("LO",                  "Temperature LO",                 PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-95:LO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("LOLO",                "Temperature LOLO",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-95:LOLO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "LOLO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Param_Error",         "Parameter_Error",                PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-95:Param_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Parameter_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "Param_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("PN_Module_Error",     "LakeShore ProfiNet Error",       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-95:PN_Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "LakeShore ProfiNet Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "PN_Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-95:FB_ForceValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Force Temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "FB_ForceValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",        PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-95:FB_Limit_HIHI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "FB_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-95:FB_Limit_HI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "FB_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-95:FB_Limit_LO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "FB_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",        PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-95:FB_Limit_LOLO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "FB_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-TT-95 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Spk-000CDL:Cryo-TT-95:Cmd_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "Cmd_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-TT-95:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Spk-000CDL:Cryo-TT-95:Cmd_ForceVal")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "Cmd_ForceVal")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-TT-95:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-TT-95:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-TT-95:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-TT-95:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-TT-95 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",                 PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-95:P_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HIHI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                   PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-95:P_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                   PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-95:P_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",                 PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-95:P_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LOLO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force Temperature",          PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-95:P_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-TT-95:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-TT-95:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-95_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-TT-95:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-TT-95:P_Limit_HIHI")
	field(LNK2, "Spk-000CDL:Cryo-TT-95:P_Limit_HI")
	field(LNK3, "Spk-000CDL:Cryo-TT-95:P_Limit_LO")
	field(LNK4, "Spk-000CDL:Cryo-TT-95:P_Limit_LOLO")
	field(LNK5, "Spk-000CDL:Cryo-TT-95:P_ForceValue")
	field(LNK6, "Spk-000CDL:Cryo-TT-95:P_Faceplate_LockID")
	field(LNK7, "Spk-000CDL:Cryo-TT-95:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-TT-96 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                      TT - Temperature Transmitter in K with Lakeshore                    ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.4             ################################
#Author:  Miklos Boros
#Date:    16-12-2019
#Version: v1.4
#Changes:
#1. Modified TT for direct Temp measurement with Lakeshore
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################         Version: 1.1             ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    12-06-2018
#Version: v1.1
#Changes:
#1. Modified Alarm Signal section to be compatible with new format.
############################ Version: 1.0             ########################################
#Author:  Miklos Boros
#Date:    25-01-2018
#Version: v1.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-TT-96 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-96:OpMode_FreeRun")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "OpMode_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-96:OpMode_Forced")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",              PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-TT-96:Inhibit_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",               PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-TT-96:Inhibit_Force")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",             PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-TT-96:Inhibit_Lock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Spk-000CDL:Cryo-TT-96:TransmitterColor")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "TransmitterColor")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("MinTemp",                  "REAL",                           PV_DESC="Minimum possible temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-96:MinTemp")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Minimum possible temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "MinTemp")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("MaxTemp",                  "REAL",                           PV_DESC="Maximum possible temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-96:MaxTemp")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum possible temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "MaxTemp")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-96:EnableFreeRunBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "EnableFreeRunBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-96:EnableForcedBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-96:EnableManualBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",  ARCHIVE=True,                           PV_DESC="Temperature Value",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-96:MeasValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Temperature Value")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "MeasValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-96:DevLocked")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-TT-96:Faceplate_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-TT-96:BlockIcon_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("LatchAlarm",                            PV_DESC="Latching of the alarms")
record(bi, "Spk-000CDL:Cryo-TT-96:LatchAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("GroupAlarm",                            PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-TT-96:GroupAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("Underrange",          "Temperature Underrange",         PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-96:Underrange")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "Underrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Overrange",           "Temperature Overrange",          PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-96:Overrange")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "Overrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("HIHI",                "Temperature HIHI",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-96:HIHI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("HI",                  "Temperature HI",                 PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-96:HI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("LO",                  "Temperature LO",                 PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-96:LO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("LOLO",                "Temperature LOLO",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-96:LOLO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "LOLO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Param_Error",         "Parameter_Error",                PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-96:Param_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Parameter_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "Param_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("PN_Module_Error",     "LakeShore ProfiNet Error",       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-96:PN_Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "LakeShore ProfiNet Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "PN_Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-96:FB_ForceValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Force Temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "FB_ForceValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",        PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-96:FB_Limit_HIHI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "FB_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-96:FB_Limit_HI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "FB_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-96:FB_Limit_LO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "FB_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",        PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-96:FB_Limit_LOLO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "FB_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-TT-96 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Spk-000CDL:Cryo-TT-96:Cmd_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "Cmd_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-TT-96:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Spk-000CDL:Cryo-TT-96:Cmd_ForceVal")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "Cmd_ForceVal")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-TT-96:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-TT-96:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-TT-96:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-TT-96:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-TT-96 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",                 PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-96:P_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HIHI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                   PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-96:P_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                   PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-96:P_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",                 PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-96:P_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LOLO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force Temperature",          PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-96:P_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-TT-96:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-TT-96:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-96_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-TT-96:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-TT-96:P_Limit_HIHI")
	field(LNK2, "Spk-000CDL:Cryo-TT-96:P_Limit_HI")
	field(LNK3, "Spk-000CDL:Cryo-TT-96:P_Limit_LO")
	field(LNK4, "Spk-000CDL:Cryo-TT-96:P_Limit_LOLO")
	field(LNK5, "Spk-000CDL:Cryo-TT-96:P_ForceValue")
	field(LNK6, "Spk-000CDL:Cryo-TT-96:P_Faceplate_LockID")
	field(LNK7, "Spk-000CDL:Cryo-TT-96:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-TT-97 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                      TT - Temperature Transmitter in K with Lakeshore                    ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.4             ################################
#Author:  Miklos Boros
#Date:    16-12-2019
#Version: v1.4
#Changes:
#1. Modified TT for direct Temp measurement with Lakeshore
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################         Version: 1.1             ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    12-06-2018
#Version: v1.1
#Changes:
#1. Modified Alarm Signal section to be compatible with new format.
############################ Version: 1.0             ########################################
#Author:  Miklos Boros
#Date:    25-01-2018
#Version: v1.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-TT-97 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-97:OpMode_FreeRun")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "OpMode_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-97:OpMode_Forced")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",              PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-TT-97:Inhibit_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",               PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-TT-97:Inhibit_Force")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",             PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-TT-97:Inhibit_Lock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Spk-000CDL:Cryo-TT-97:TransmitterColor")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "TransmitterColor")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("MinTemp",                  "REAL",                           PV_DESC="Minimum possible temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-97:MinTemp")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Minimum possible temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "MinTemp")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("MaxTemp",                  "REAL",                           PV_DESC="Maximum possible temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-97:MaxTemp")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum possible temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "MaxTemp")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-97:EnableFreeRunBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "EnableFreeRunBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-97:EnableForcedBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-97:EnableManualBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",  ARCHIVE=True,                           PV_DESC="Temperature Value",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-97:MeasValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Temperature Value")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "MeasValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-97:DevLocked")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-TT-97:Faceplate_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-TT-97:BlockIcon_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("LatchAlarm",                            PV_DESC="Latching of the alarms")
record(bi, "Spk-000CDL:Cryo-TT-97:LatchAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("GroupAlarm",                            PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-TT-97:GroupAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("Underrange",          "Temperature Underrange",         PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-97:Underrange")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "Underrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Overrange",           "Temperature Overrange",          PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-97:Overrange")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "Overrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("HIHI",                "Temperature HIHI",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-97:HIHI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("HI",                  "Temperature HI",                 PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-97:HI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("LO",                  "Temperature LO",                 PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-97:LO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("LOLO",                "Temperature LOLO",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-97:LOLO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "LOLO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Param_Error",         "Parameter_Error",                PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-97:Param_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Parameter_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "Param_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("PN_Module_Error",     "LakeShore ProfiNet Error",       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-97:PN_Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "LakeShore ProfiNet Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "PN_Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-97:FB_ForceValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Force Temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "FB_ForceValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",        PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-97:FB_Limit_HIHI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "FB_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-97:FB_Limit_HI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "FB_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-97:FB_Limit_LO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "FB_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",        PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-97:FB_Limit_LOLO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "FB_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-TT-97 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Spk-000CDL:Cryo-TT-97:Cmd_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "Cmd_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-TT-97:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Spk-000CDL:Cryo-TT-97:Cmd_ForceVal")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "Cmd_ForceVal")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-TT-97:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-TT-97:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-TT-97:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-TT-97:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-TT-97 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",                 PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-97:P_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HIHI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                   PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-97:P_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                   PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-97:P_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",                 PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-97:P_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LOLO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force Temperature",          PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-97:P_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-TT-97:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-TT-97:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-97_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-TT-97:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-TT-97:P_Limit_HIHI")
	field(LNK2, "Spk-000CDL:Cryo-TT-97:P_Limit_HI")
	field(LNK3, "Spk-000CDL:Cryo-TT-97:P_Limit_LO")
	field(LNK4, "Spk-000CDL:Cryo-TT-97:P_Limit_LOLO")
	field(LNK5, "Spk-000CDL:Cryo-TT-97:P_ForceValue")
	field(LNK6, "Spk-000CDL:Cryo-TT-97:P_Faceplate_LockID")
	field(LNK7, "Spk-000CDL:Cryo-TT-97:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-TT-98 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                      TT - Temperature Transmitter in K with Lakeshore                    ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.4             ################################
#Author:  Miklos Boros
#Date:    16-12-2019
#Version: v1.4
#Changes:
#1. Modified TT for direct Temp measurement with Lakeshore
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################         Version: 1.1             ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    12-06-2018
#Version: v1.1
#Changes:
#1. Modified Alarm Signal section to be compatible with new format.
############################ Version: 1.0             ########################################
#Author:  Miklos Boros
#Date:    25-01-2018
#Version: v1.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-TT-98 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-98:OpMode_FreeRun")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "OpMode_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-98:OpMode_Forced")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",              PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-TT-98:Inhibit_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",               PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-TT-98:Inhibit_Force")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",             PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-TT-98:Inhibit_Lock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Spk-000CDL:Cryo-TT-98:TransmitterColor")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "TransmitterColor")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("MinTemp",                  "REAL",                           PV_DESC="Minimum possible temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-98:MinTemp")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Minimum possible temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "MinTemp")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("MaxTemp",                  "REAL",                           PV_DESC="Maximum possible temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-98:MaxTemp")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Maximum possible temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "MaxTemp")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-98:EnableFreeRunBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "EnableFreeRunBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-98:EnableForcedBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-98:EnableManualBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",  ARCHIVE=True,                           PV_DESC="Temperature Value",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-98:MeasValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Temperature Value")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "MeasValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-TT-98:DevLocked")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-TT-98:Faceplate_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-TT-98:BlockIcon_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("LatchAlarm",                            PV_DESC="Latching of the alarms")
record(bi, "Spk-000CDL:Cryo-TT-98:LatchAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("GroupAlarm",                            PV_DESC="Group Alarm for OPI")
record(bi, "Spk-000CDL:Cryo-TT-98:GroupAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("Underrange",          "Temperature Underrange",         PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-98:Underrange")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "Underrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Overrange",           "Temperature Overrange",          PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-98:Overrange")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "Overrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("HIHI",                "Temperature HIHI",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-98:HIHI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("HI",                  "Temperature HI",                 PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-98:HI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("LO",                  "Temperature LO",                 PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-98:LO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("LOLO",                "Temperature LOLO",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-98:LOLO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "LOLO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Param_Error",         "Parameter_Error",                PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-98:Param_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Parameter_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "Param_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("PN_Module_Error",     "LakeShore ProfiNet Error",       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-TT-98:PN_Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "LakeShore ProfiNet Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "PN_Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Temperature", PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-98:FB_ForceValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Force Temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "FB_ForceValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",        PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-98:FB_Limit_HIHI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "FB_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-98:FB_Limit_HI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "FB_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",          PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-98:FB_Limit_LO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "FB_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",        PV_EGU="K")
record(ai, "Spk-000CDL:Cryo-TT-98:FB_Limit_LOLO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "FB_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-TT-98 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Spk-000CDL:Cryo-TT-98:Cmd_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "Cmd_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-TT-98:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Spk-000CDL:Cryo-TT-98:Cmd_ForceVal")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "Cmd_ForceVal")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-TT-98:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-TT-98:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-TT-98:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-TT-98:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-TT-98 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",                 PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-98:P_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HIHI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                   PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-98:P_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HI")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                   PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-98:P_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",                 PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-98:P_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LOLO")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force Temperature",          PV_EGU="K")
record(ao, "Spk-000CDL:Cryo-TT-98:P_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Temperature")
	field(EGU,  "K")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-TT-98:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-TT-98:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-TT-98_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-TT-98:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-TT-98:P_Limit_HIHI")
	field(LNK2, "Spk-000CDL:Cryo-TT-98:P_Limit_HI")
	field(LNK3, "Spk-000CDL:Cryo-TT-98:P_Limit_LO")
	field(LNK4, "Spk-000CDL:Cryo-TT-98:P_Limit_LOLO")
	field(LNK5, "Spk-000CDL:Cryo-TT-98:P_ForceValue")
	field(LNK6, "Spk-000CDL:Cryo-TT-98:P_Faceplate_LockID")
	field(LNK7, "Spk-000CDL:Cryo-TT-98:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-LT-91 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                          LT- Level Transmitter in percent                                ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.4             ################################
#Author:  Emilio Asensi
#Date:    06-09-2022
#Version: v1.4
#Changes:
#1. Added pvs for timer, filter and ramping speed
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################         Version: 1.1             ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    12-06-2018
#Version: v1.1
#Changes:
#1. Modified Alarm Signal section to be compatible with new format.
############################ Version: 1.0             ########################################
#Author:  Miklos Boros
#Date:    25-01-2018
#Version: v1.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-LT-91 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-LT-91:OpMode_FreeRun")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "OpMode_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-LT-91:OpMode_Forced")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",              PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-LT-91:Inhibit_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",               PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-LT-91:Inhibit_Force")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",             PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-LT-91:Inhibit_Lock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Spk-000CDL:Cryo-LT-91:TransmitterColor")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "TransmitterColor")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-LT-91:EnableFreeRunBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "EnableFreeRunBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-LT-91:EnableForcedBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-LT-91:EnableManualBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleLOW",                 "REAL",                           PV_DESC="Scale LOW",                  PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-LT-91:ScaleLOW")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Scale LOW")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "ScaleLOW")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleHIGH",                "REAL",                           PV_DESC="Scale HIGH",                 PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-LT-91:ScaleHIGH")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Scale HIGH")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "ScaleHIGH")
	info(autosaveFields_pass0, "VAL")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",                           PV_DESC="Temperature Value",          PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-LT-91:MeasValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Temperature Value")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "MeasValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("RAWValue",                 "REAL",  ARCHIVE=True,                           PV_DESC="RAW integer scaled" )
record(ai, "Spk-000CDL:Cryo-LT-91:RAWValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RAW integer scaled")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "RAWValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-LT-91:DevLocked")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-LT-91:Faceplate_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-LT-91:BlockIcon_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("LatchAlarm",          "Latching of alarms",             PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-LT-91:LatchAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Latching of alarms")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("GroupAlarm",          "GroupAlarm",                     PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-LT-91:GroupAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "GroupAlarm")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Underrange",          "Temperature Underrange",         PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-LT-91:Underrange")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "Underrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Overrange",           "Temperature Overrange",          PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-LT-91:Overrange")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "Overrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("HIHI",                "Temperature HIHI",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-LT-91:HIHI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("HI",                  "Temperature HI",                 PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-LT-91:HI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("LO",                  "Temperature LO",                 PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-LT-91:LO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("LOLO",                "Temperature LOLO",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-LT-91:LOLO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "LOLO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "IO_Error",                       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-LT-91:IO_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "IO_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Module_Error",        "Module_Error",                   PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-LT-91:Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "Module_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Param_Error",         "Parameter_Error",                PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-LT-91:Param_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Parameter_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "Param_Error")
	info(autosaveFields_pass0, "VAL")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Temperature", PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-LT-91:FB_ForceValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Force Temperature")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "FB_ForceValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",        PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-LT-91:FB_Limit_HIHI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "FB_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",          PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-LT-91:FB_Limit_HI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "FB_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",          PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-LT-91:FB_Limit_LO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "FB_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",        PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-LT-91:FB_Limit_LOLO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "FB_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Timers and Filters
#<<<--- add_digital("Timer_enabled")
record(bi, "Spk-000CDL:Cryo-LT-91:Timer_enabled")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "Timer_enabled")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("T_triggered")
record(bi, "Spk-000CDL:Cryo-LT-91:T_triggered")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "T_triggered")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("T_running", "INT")
record(ai, "Spk-000CDL:Cryo-LT-91:T_running")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "T_running")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("F_enabled")
record(bi, "Spk-000CDL:Cryo-LT-91:F_enabled")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "F_enabled")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FiltedValue", "REAL")
record(ai, "Spk-000CDL:Cryo-LT-91:FiltedValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "FiltedValue")
	info(autosaveFields_pass0, "VAL")
}


############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-LT-91 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Spk-000CDL:Cryo-LT-91:Cmd_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "Cmd_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-LT-91:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Spk-000CDL:Cryo-LT-91:Cmd_ForceVal")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "Cmd_ForceVal")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-LT-91:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-LT-91:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-LT-91:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-LT-91:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-LT-91 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",                 PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-LT-91:P_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HIHI")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                   PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-LT-91:P_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HI")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                   PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-LT-91:P_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LO")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",                 PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-LT-91:P_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LOLO")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force Temperature",          PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-LT-91:P_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Temperature")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-LT-91:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-LT-91:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Timers and Filters
#<<<--- add_analog("T_period", "INT")
record(ao, "Spk-000CDL:Cryo-LT-91:T_period")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "T_period")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("F_interval", "INT")
record(ao, "Spk-000CDL:Cryo-LT-91:F_interval")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "F_interval")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("F_buffer", "INT")
record(ao, "Spk-000CDL:Cryo-LT-91:F_buffer")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "F_buffer")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("F_Enable")
record(bo, "Spk-000CDL:Cryo-LT-91:F_Enable")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "F_Enable")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampUPSpeed","REAL",                   PV_DESC="Ramping UP Speed",                         PV_EGU="%/s")
record(ao, "Spk-000CDL:Cryo-LT-91:P_RampUPSpeed")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "P_RampUPSpeed")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNSpeed","REAL",                   PV_DESC="Ramping DOWN Speed",                         PV_EGU="%/s")
record(ao, "Spk-000CDL:Cryo-LT-91:P_RampDNSpeed")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-91_iDB")
	info("plc_variable", "P_RampDNSpeed")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-LT-91:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-LT-91:P_Limit_HIHI")
	field(LNK2, "Spk-000CDL:Cryo-LT-91:P_Limit_HI")
	field(LNK3, "Spk-000CDL:Cryo-LT-91:P_Limit_LO")
	field(LNK4, "Spk-000CDL:Cryo-LT-91:P_Limit_LOLO")
	field(LNK5, "Spk-000CDL:Cryo-LT-91:P_ForceValue")
	field(LNK6, "Spk-000CDL:Cryo-LT-91:P_Faceplate_LockID")
	field(LNK7, "Spk-000CDL:Cryo-LT-91:P_BlockIcon_LockID")
	field(LNK8, "Spk-000CDL:Cryo-LT-91:T_period")
	field(LNK9, "Spk-000CDL:Cryo-LT-91:F_interval")
	field(LNKA, "Spk-000CDL:Cryo-LT-91:F_buffer")
	field(LNKB, "Spk-000CDL:Cryo-LT-91:F_Enable")
	field(LNKC, "Spk-000CDL:Cryo-LT-91:P_RampUPSpeed")
	field(LNKD, "Spk-000CDL:Cryo-LT-91:P_RampDNSpeed")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-LT-92 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                          LT- Level Transmitter in percent                                ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.4             ################################
#Author:  Emilio Asensi
#Date:    06-09-2022
#Version: v1.4
#Changes:
#1. Added pvs for timer, filter and ramping speed
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################         Version: 1.1             ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    12-06-2018
#Version: v1.1
#Changes:
#1. Modified Alarm Signal section to be compatible with new format.
############################ Version: 1.0             ########################################
#Author:  Miklos Boros
#Date:    25-01-2018
#Version: v1.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-LT-92 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-LT-92:OpMode_FreeRun")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "OpMode_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-LT-92:OpMode_Forced")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",              PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-LT-92:Inhibit_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",               PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-LT-92:Inhibit_Force")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",             PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-LT-92:Inhibit_Lock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Spk-000CDL:Cryo-LT-92:TransmitterColor")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "TransmitterColor")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-LT-92:EnableFreeRunBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "EnableFreeRunBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-LT-92:EnableForcedBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-LT-92:EnableManualBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleLOW",                 "REAL",                           PV_DESC="Scale LOW",                  PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-LT-92:ScaleLOW")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Scale LOW")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "ScaleLOW")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleHIGH",                "REAL",                           PV_DESC="Scale HIGH",                 PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-LT-92:ScaleHIGH")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Scale HIGH")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "ScaleHIGH")
	info(autosaveFields_pass0, "VAL")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",                           PV_DESC="Temperature Value",          PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-LT-92:MeasValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Temperature Value")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "MeasValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("RAWValue",                 "REAL",  ARCHIVE=True,                           PV_DESC="RAW integer scaled" )
record(ai, "Spk-000CDL:Cryo-LT-92:RAWValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "RAW integer scaled")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "RAWValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-LT-92:DevLocked")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-LT-92:Faceplate_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-LT-92:BlockIcon_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("LatchAlarm",          "Latching of alarms",             PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-LT-92:LatchAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Latching of alarms")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("GroupAlarm",          "GroupAlarm",                     PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-LT-92:GroupAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "GroupAlarm")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Underrange",          "Temperature Underrange",         PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-LT-92:Underrange")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "Underrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Overrange",           "Temperature Overrange",          PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-LT-92:Overrange")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "Overrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("HIHI",                "Temperature HIHI",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-LT-92:HIHI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("HI",                  "Temperature HI",                 PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-LT-92:HI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("LO",                  "Temperature LO",                 PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-LT-92:LO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("LOLO",                "Temperature LOLO",               PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-LT-92:LOLO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Temperature LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "LOLO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "IO_Error",                       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-LT-92:IO_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "IO_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Module_Error",        "Module_Error",                   PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-LT-92:Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "Module_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Param_Error",         "Parameter_Error",                PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-LT-92:Param_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Parameter_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "Param_Error")
	info(autosaveFields_pass0, "VAL")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Temperature", PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-LT-92:FB_ForceValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Force Temperature")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "FB_ForceValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",        PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-LT-92:FB_Limit_HIHI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "FB_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",          PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-LT-92:FB_Limit_HI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "FB_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",          PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-LT-92:FB_Limit_LO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "FB_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",        PV_EGU="%")
record(ai, "Spk-000CDL:Cryo-LT-92:FB_Limit_LOLO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "FB_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Timers and Filters
#<<<--- add_digital("Timer_enabled")
record(bi, "Spk-000CDL:Cryo-LT-92:Timer_enabled")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "Timer_enabled")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("T_triggered")
record(bi, "Spk-000CDL:Cryo-LT-92:T_triggered")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "T_triggered")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("T_running", "INT")
record(ai, "Spk-000CDL:Cryo-LT-92:T_running")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "T_running")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("F_enabled")
record(bi, "Spk-000CDL:Cryo-LT-92:F_enabled")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "F_enabled")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FiltedValue", "REAL")
record(ai, "Spk-000CDL:Cryo-LT-92:FiltedValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "FiltedValue")
	info(autosaveFields_pass0, "VAL")
}


############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-LT-92 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Spk-000CDL:Cryo-LT-92:Cmd_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "Cmd_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-LT-92:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Spk-000CDL:Cryo-LT-92:Cmd_ForceVal")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "Cmd_ForceVal")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-LT-92:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-LT-92:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-LT-92:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-LT-92:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-LT-92 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",                 PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-LT-92:P_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HIHI")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                   PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-LT-92:P_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HI")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                   PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-LT-92:P_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LO")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",                 PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-LT-92:P_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LOLO")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force Temperature",          PV_EGU="%")
record(ao, "Spk-000CDL:Cryo-LT-92:P_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force Temperature")
	field(EGU,  "%")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-LT-92:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-LT-92:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Timers and Filters
#<<<--- add_analog("T_period", "INT")
record(ao, "Spk-000CDL:Cryo-LT-92:T_period")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "T_period")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("F_interval", "INT")
record(ao, "Spk-000CDL:Cryo-LT-92:F_interval")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "F_interval")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("F_buffer", "INT")
record(ao, "Spk-000CDL:Cryo-LT-92:F_buffer")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DRVH, "32767")
	field(DRVL, "-32768")
	field(HOPR, "32767")
	field(LOPR, "-32768")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "F_buffer")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("F_Enable")
record(bo, "Spk-000CDL:Cryo-LT-92:F_Enable")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "F_Enable")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampUPSpeed","REAL",                   PV_DESC="Ramping UP Speed",                         PV_EGU="%/s")
record(ao, "Spk-000CDL:Cryo-LT-92:P_RampUPSpeed")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping UP Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "P_RampUPSpeed")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_RampDNSpeed","REAL",                   PV_DESC="Ramping DOWN Speed",                         PV_EGU="%/s")
record(ao, "Spk-000CDL:Cryo-LT-92:P_RampDNSpeed")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Ramping DOWN Speed")
	field(EGU,  "%/s")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-LT-92_iDB")
	info("plc_variable", "P_RampDNSpeed")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-LT-92:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-LT-92:P_Limit_HIHI")
	field(LNK2, "Spk-000CDL:Cryo-LT-92:P_Limit_HI")
	field(LNK3, "Spk-000CDL:Cryo-LT-92:P_Limit_LO")
	field(LNK4, "Spk-000CDL:Cryo-LT-92:P_Limit_LOLO")
	field(LNK5, "Spk-000CDL:Cryo-LT-92:P_ForceValue")
	field(LNK6, "Spk-000CDL:Cryo-LT-92:P_Faceplate_LockID")
	field(LNK7, "Spk-000CDL:Cryo-LT-92:P_BlockIcon_LockID")
	field(LNK8, "Spk-000CDL:Cryo-LT-92:T_period")
	field(LNK9, "Spk-000CDL:Cryo-LT-92:F_interval")
	field(LNKA, "Spk-000CDL:Cryo-LT-92:F_buffer")
	field(LNKB, "Spk-000CDL:Cryo-LT-92:F_Enable")
	field(LNKC, "Spk-000CDL:Cryo-LT-92:P_RampUPSpeed")
	field(LNKD, "Spk-000CDL:Cryo-LT-92:P_RampDNSpeed")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-PT-91 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                             PT - Pressure Transmitter in mbar                            ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################         Version: 1.1             ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    12-06-2018
#Version: v1.1
#Changes:
#1. Modified Alarm Signal section to be compatible with new format.
############################ Version: 1.0             ########################################
#Author:  Miklos Boros
#Date:    25-01-2018
#Version: v1.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-PT-91 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-91:OpMode_FreeRun")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "OpMode_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-91:OpMode_Forced")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",           PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-PT-91:Inhibit_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",            PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-PT-91:Inhibit_Force")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",          PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-PT-91:Inhibit_Lock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Spk-000CDL:Cryo-PT-91:TransmitterColor")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "TransmitterColor")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-91:EnableFreeRunBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "EnableFreeRunBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-91:EnableManualBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-91:EnableForcedBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleLOW",                 "REAL",                           PV_DESC="Scale LOW",               PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-91:ScaleLOW")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Scale LOW")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "ScaleLOW")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleHIGH",                "REAL",                           PV_DESC="Scale HIGH",              PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-91:ScaleHIGH")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Scale HIGH")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "ScaleHIGH")
	info(autosaveFields_pass0, "VAL")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",                           PV_DESC="Pressure Value",          PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-91:MeasValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Pressure Value")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "MeasValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-91:DevLocked")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-PT-91:Faceplate_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-PT-91:BlockIcon_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("LatchAlarm",          "Latching of alarms",             PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-PT-91:LatchAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Latching of alarms")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("GroupAlarm",          "GroupAlarm",                     PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-91:GroupAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "GroupAlarm")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Underrange",          "Pressure Underrange",            PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-91:Underrange")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "Underrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Overrange",           "Pressure Overrange",             PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-91:Overrange")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "Overrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("HIHI",                "Pressure HIHI",                  PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-91:HIHI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("HI",                  "Pressure HI",                    PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-91:HI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("LO",                  "Pressure LO",                    PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-91:LO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("LOLO",                "Pressure LOLO",                  PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-91:LOLO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "LOLO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "IO_Error",                       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-91:IO_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "IO_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Module_Error",        "Module_Error",                   PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-91:Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Pressure", PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-91:FB_ForceValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Force Pressure")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "FB_ForceValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",     PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-91:FB_Limit_HIHI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "FB_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",       PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-91:FB_Limit_HI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "FB_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",       PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-91:FB_Limit_LO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "FB_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",     PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-91:FB_Limit_LOLO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "FB_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-PT-91 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Spk-000CDL:Cryo-PT-91:Cmd_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "Cmd_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-PT-91:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Spk-000CDL:Cryo-PT-91:Cmd_ForceVal")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "Cmd_ForceVal")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-PT-91:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-PT-91:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-PT-91:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-PT-91:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-PT-91 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",              PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-91:P_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HIHI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-91:P_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-91:P_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",              PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-91:P_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LOLO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force pressure",          PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-91:P_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force pressure")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-PT-91:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-PT-91:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-91_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-PT-91:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-PT-91:P_Limit_HIHI")
	field(LNK2, "Spk-000CDL:Cryo-PT-91:P_Limit_HI")
	field(LNK3, "Spk-000CDL:Cryo-PT-91:P_Limit_LO")
	field(LNK4, "Spk-000CDL:Cryo-PT-91:P_Limit_LOLO")
	field(LNK5, "Spk-000CDL:Cryo-PT-91:P_ForceValue")
	field(LNK6, "Spk-000CDL:Cryo-PT-91:P_Faceplate_LockID")
	field(LNK7, "Spk-000CDL:Cryo-PT-91:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-PT-92 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                             PT - Pressure Transmitter in mbar                            ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################         Version: 1.1             ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    12-06-2018
#Version: v1.1
#Changes:
#1. Modified Alarm Signal section to be compatible with new format.
############################ Version: 1.0             ########################################
#Author:  Miklos Boros
#Date:    25-01-2018
#Version: v1.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-PT-92 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-92:OpMode_FreeRun")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "OpMode_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-92:OpMode_Forced")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",           PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-PT-92:Inhibit_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",            PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-PT-92:Inhibit_Force")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",          PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-PT-92:Inhibit_Lock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Spk-000CDL:Cryo-PT-92:TransmitterColor")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "TransmitterColor")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-92:EnableFreeRunBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "EnableFreeRunBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-92:EnableManualBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-92:EnableForcedBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleLOW",                 "REAL",                           PV_DESC="Scale LOW",               PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-92:ScaleLOW")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Scale LOW")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "ScaleLOW")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleHIGH",                "REAL",                           PV_DESC="Scale HIGH",              PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-92:ScaleHIGH")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Scale HIGH")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "ScaleHIGH")
	info(autosaveFields_pass0, "VAL")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",                           PV_DESC="Pressure Value",          PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-92:MeasValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Pressure Value")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "MeasValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-92:DevLocked")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-PT-92:Faceplate_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-PT-92:BlockIcon_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("LatchAlarm",          "Latching of alarms",             PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-PT-92:LatchAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Latching of alarms")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("GroupAlarm",          "GroupAlarm",                     PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-92:GroupAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "GroupAlarm")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Underrange",          "Pressure Underrange",            PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-92:Underrange")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "Underrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Overrange",           "Pressure Overrange",             PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-92:Overrange")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "Overrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("HIHI",                "Pressure HIHI",                  PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-92:HIHI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("HI",                  "Pressure HI",                    PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-92:HI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("LO",                  "Pressure LO",                    PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-92:LO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("LOLO",                "Pressure LOLO",                  PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-92:LOLO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "LOLO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "IO_Error",                       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-92:IO_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "IO_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Module_Error",        "Module_Error",                   PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-92:Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Pressure", PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-92:FB_ForceValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Force Pressure")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "FB_ForceValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",     PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-92:FB_Limit_HIHI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "FB_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",       PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-92:FB_Limit_HI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "FB_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",       PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-92:FB_Limit_LO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "FB_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",     PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-92:FB_Limit_LOLO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "FB_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-PT-92 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Spk-000CDL:Cryo-PT-92:Cmd_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "Cmd_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-PT-92:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Spk-000CDL:Cryo-PT-92:Cmd_ForceVal")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "Cmd_ForceVal")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-PT-92:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-PT-92:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-PT-92:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-PT-92:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-PT-92 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",              PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-92:P_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HIHI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-92:P_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-92:P_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",              PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-92:P_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LOLO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force pressure",          PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-92:P_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force pressure")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-PT-92:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-PT-92:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-92_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-PT-92:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-PT-92:P_Limit_HIHI")
	field(LNK2, "Spk-000CDL:Cryo-PT-92:P_Limit_HI")
	field(LNK3, "Spk-000CDL:Cryo-PT-92:P_Limit_LO")
	field(LNK4, "Spk-000CDL:Cryo-PT-92:P_Limit_LOLO")
	field(LNK5, "Spk-000CDL:Cryo-PT-92:P_ForceValue")
	field(LNK6, "Spk-000CDL:Cryo-PT-92:P_Faceplate_LockID")
	field(LNK7, "Spk-000CDL:Cryo-PT-92:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-PT-93 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                             PT - Pressure Transmitter in mbar                            ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################         Version: 1.1             ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    12-06-2018
#Version: v1.1
#Changes:
#1. Modified Alarm Signal section to be compatible with new format.
############################ Version: 1.0             ########################################
#Author:  Miklos Boros
#Date:    25-01-2018
#Version: v1.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-PT-93 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-93:OpMode_FreeRun")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "OpMode_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-93:OpMode_Forced")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",           PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-PT-93:Inhibit_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",            PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-PT-93:Inhibit_Force")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",          PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-PT-93:Inhibit_Lock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Spk-000CDL:Cryo-PT-93:TransmitterColor")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "TransmitterColor")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-93:EnableFreeRunBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "EnableFreeRunBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-93:EnableManualBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-93:EnableForcedBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleLOW",                 "REAL",                           PV_DESC="Scale LOW",               PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-93:ScaleLOW")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Scale LOW")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "ScaleLOW")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleHIGH",                "REAL",                           PV_DESC="Scale HIGH",              PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-93:ScaleHIGH")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Scale HIGH")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "ScaleHIGH")
	info(autosaveFields_pass0, "VAL")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",                           PV_DESC="Pressure Value",          PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-93:MeasValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Pressure Value")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "MeasValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-93:DevLocked")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-PT-93:Faceplate_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-PT-93:BlockIcon_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("LatchAlarm",          "Latching of alarms",             PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-PT-93:LatchAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Latching of alarms")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("GroupAlarm",          "GroupAlarm",                     PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-93:GroupAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "GroupAlarm")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Underrange",          "Pressure Underrange",            PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-93:Underrange")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "Underrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Overrange",           "Pressure Overrange",             PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-93:Overrange")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "Overrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("HIHI",                "Pressure HIHI",                  PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-93:HIHI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("HI",                  "Pressure HI",                    PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-93:HI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("LO",                  "Pressure LO",                    PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-93:LO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("LOLO",                "Pressure LOLO",                  PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-93:LOLO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "LOLO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "IO_Error",                       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-93:IO_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "IO_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Module_Error",        "Module_Error",                   PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-93:Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Pressure", PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-93:FB_ForceValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Force Pressure")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "FB_ForceValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",     PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-93:FB_Limit_HIHI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "FB_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",       PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-93:FB_Limit_HI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "FB_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",       PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-93:FB_Limit_LO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "FB_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",     PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-93:FB_Limit_LOLO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "FB_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-PT-93 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Spk-000CDL:Cryo-PT-93:Cmd_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "Cmd_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-PT-93:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Spk-000CDL:Cryo-PT-93:Cmd_ForceVal")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "Cmd_ForceVal")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-PT-93:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-PT-93:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-PT-93:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-PT-93:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-PT-93 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",              PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-93:P_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HIHI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-93:P_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-93:P_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",              PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-93:P_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LOLO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force pressure",          PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-93:P_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force pressure")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-PT-93:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-PT-93:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-93_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-PT-93:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-PT-93:P_Limit_HIHI")
	field(LNK2, "Spk-000CDL:Cryo-PT-93:P_Limit_HI")
	field(LNK3, "Spk-000CDL:Cryo-PT-93:P_Limit_LO")
	field(LNK4, "Spk-000CDL:Cryo-PT-93:P_Limit_LOLO")
	field(LNK5, "Spk-000CDL:Cryo-PT-93:P_ForceValue")
	field(LNK6, "Spk-000CDL:Cryo-PT-93:P_Faceplate_LockID")
	field(LNK7, "Spk-000CDL:Cryo-PT-93:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-PT-94 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                             PT - Pressure Transmitter in mbar                            ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################         Version: 1.1             ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    12-06-2018
#Version: v1.1
#Changes:
#1. Modified Alarm Signal section to be compatible with new format.
############################ Version: 1.0             ########################################
#Author:  Miklos Boros
#Date:    25-01-2018
#Version: v1.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-PT-94 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-94:OpMode_FreeRun")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "OpMode_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-94:OpMode_Forced")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",           PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-PT-94:Inhibit_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",            PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-PT-94:Inhibit_Force")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",          PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-PT-94:Inhibit_Lock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Spk-000CDL:Cryo-PT-94:TransmitterColor")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "TransmitterColor")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-94:EnableFreeRunBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "EnableFreeRunBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-94:EnableManualBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-94:EnableForcedBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleLOW",                 "REAL",                           PV_DESC="Scale LOW",               PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-94:ScaleLOW")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Scale LOW")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "ScaleLOW")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleHIGH",                "REAL",                           PV_DESC="Scale HIGH",              PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-94:ScaleHIGH")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Scale HIGH")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "ScaleHIGH")
	info(autosaveFields_pass0, "VAL")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",                           PV_DESC="Pressure Value",          PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-94:MeasValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Pressure Value")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "MeasValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-94:DevLocked")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-PT-94:Faceplate_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-PT-94:BlockIcon_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("LatchAlarm",          "Latching of alarms",             PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-PT-94:LatchAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Latching of alarms")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("GroupAlarm",          "GroupAlarm",                     PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-94:GroupAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "GroupAlarm")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Underrange",          "Pressure Underrange",            PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-94:Underrange")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "Underrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Overrange",           "Pressure Overrange",             PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-94:Overrange")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "Overrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("HIHI",                "Pressure HIHI",                  PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-94:HIHI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("HI",                  "Pressure HI",                    PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-94:HI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("LO",                  "Pressure LO",                    PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-94:LO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("LOLO",                "Pressure LOLO",                  PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-94:LOLO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "LOLO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "IO_Error",                       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-94:IO_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "IO_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Module_Error",        "Module_Error",                   PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-94:Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Pressure", PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-94:FB_ForceValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Force Pressure")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "FB_ForceValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",     PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-94:FB_Limit_HIHI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "FB_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",       PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-94:FB_Limit_HI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "FB_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",       PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-94:FB_Limit_LO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "FB_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",     PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-94:FB_Limit_LOLO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "FB_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-PT-94 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Spk-000CDL:Cryo-PT-94:Cmd_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "Cmd_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-PT-94:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Spk-000CDL:Cryo-PT-94:Cmd_ForceVal")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "Cmd_ForceVal")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-PT-94:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-PT-94:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-PT-94:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-PT-94:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-PT-94 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",              PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-94:P_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HIHI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-94:P_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-94:P_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",              PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-94:P_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LOLO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force pressure",          PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-94:P_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force pressure")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-PT-94:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-PT-94:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-94_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-PT-94:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-PT-94:P_Limit_HIHI")
	field(LNK2, "Spk-000CDL:Cryo-PT-94:P_Limit_HI")
	field(LNK3, "Spk-000CDL:Cryo-PT-94:P_Limit_LO")
	field(LNK4, "Spk-000CDL:Cryo-PT-94:P_Limit_LOLO")
	field(LNK5, "Spk-000CDL:Cryo-PT-94:P_ForceValue")
	field(LNK6, "Spk-000CDL:Cryo-PT-94:P_Faceplate_LockID")
	field(LNK7, "Spk-000CDL:Cryo-PT-94:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Cryo-PT-95 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                             PT - Pressure Transmitter in mbar                            ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################         Version: 1.1             ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    12-06-2018
#Version: v1.1
#Changes:
#1. Modified Alarm Signal section to be compatible with new format.
############################ Version: 1.0             ########################################
#Author:  Miklos Boros
#Date:    25-01-2018
#Version: v1.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Cryo-PT-95 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-95:OpMode_FreeRun")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "OpMode_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-95:OpMode_Forced")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",           PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Cryo-PT-95:Inhibit_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",            PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Cryo-PT-95:Inhibit_Force")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",          PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Cryo-PT-95:Inhibit_Lock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Spk-000CDL:Cryo-PT-95:TransmitterColor")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "TransmitterColor")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-95:EnableFreeRunBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "EnableFreeRunBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-95:EnableManualBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-95:EnableForcedBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleLOW",                 "REAL",                           PV_DESC="Scale LOW",               PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-95:ScaleLOW")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Scale LOW")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "ScaleLOW")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleHIGH",                "REAL",                           PV_DESC="Scale HIGH",              PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-95:ScaleHIGH")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Scale HIGH")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "ScaleHIGH")
	info(autosaveFields_pass0, "VAL")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",                           PV_DESC="Pressure Value",          PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-95:MeasValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Pressure Value")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "MeasValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Cryo-PT-95:DevLocked")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Cryo-PT-95:Faceplate_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Cryo-PT-95:BlockIcon_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("LatchAlarm",          "Latching of alarms",             PV_ZNAM="True")
record(bi, "Spk-000CDL:Cryo-PT-95:LatchAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Latching of alarms")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("GroupAlarm",          "GroupAlarm",                     PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-95:GroupAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "GroupAlarm")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Underrange",          "Pressure Underrange",            PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-95:Underrange")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "Underrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Overrange",           "Pressure Overrange",             PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-95:Overrange")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "Overrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("HIHI",                "Pressure HIHI",                  PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-95:HIHI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("HI",                  "Pressure HI",                    PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-95:HI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("LO",                  "Pressure LO",                    PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-95:LO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("LOLO",                "Pressure LOLO",                  PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-95:LOLO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "LOLO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "IO_Error",                       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-95:IO_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "IO_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Module_Error",        "Module_Error",                   PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Cryo-PT-95:Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Pressure", PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-95:FB_ForceValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Force Pressure")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "FB_ForceValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",     PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-95:FB_Limit_HIHI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "FB_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",       PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-95:FB_Limit_HI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "FB_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",       PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-95:FB_Limit_LO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "FB_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",     PV_EGU="mBar")
record(ai, "Spk-000CDL:Cryo-PT-95:FB_Limit_LOLO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "FB_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Cryo-PT-95 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Spk-000CDL:Cryo-PT-95:Cmd_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "Cmd_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Cryo-PT-95:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Spk-000CDL:Cryo-PT-95:Cmd_ForceVal")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "Cmd_ForceVal")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Cryo-PT-95:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Cryo-PT-95:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Cryo-PT-95:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Cryo-PT-95:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Cryo-PT-95 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",              PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-95:P_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HIHI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-95:P_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-95:P_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",              PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-95:P_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LOLO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force pressure",          PV_EGU="mBar")
record(ao, "Spk-000CDL:Cryo-PT-95:P_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force pressure")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Cryo-PT-95:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Cryo-PT-95:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Cryo-PT-95_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Cryo-PT-95:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Cryo-PT-95:P_Limit_HIHI")
	field(LNK2, "Spk-000CDL:Cryo-PT-95:P_Limit_HI")
	field(LNK3, "Spk-000CDL:Cryo-PT-95:P_Limit_LO")
	field(LNK4, "Spk-000CDL:Cryo-PT-95:P_Limit_LOLO")
	field(LNK5, "Spk-000CDL:Cryo-PT-95:P_ForceValue")
	field(LNK6, "Spk-000CDL:Cryo-PT-95:P_Faceplate_LockID")
	field(LNK7, "Spk-000CDL:Cryo-PT-95:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Vac-VGC-071 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                             PT - Pressure Transmitter in mbar                            ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################         Version: 1.1             ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    12-06-2018
#Version: v1.1
#Changes:
#1. Modified Alarm Signal section to be compatible with new format.
############################ Version: 1.0             ########################################
#Author:  Miklos Boros
#Date:    25-01-2018
#Version: v1.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Vac-VGC-071 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Vac-VGC-071:OpMode_FreeRun")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "OpMode_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Vac-VGC-071:OpMode_Forced")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",           PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Vac-VGC-071:Inhibit_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",            PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Vac-VGC-071:Inhibit_Force")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",          PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Vac-VGC-071:Inhibit_Lock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Spk-000CDL:Vac-VGC-071:TransmitterColor")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "TransmitterColor")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Vac-VGC-071:EnableFreeRunBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "EnableFreeRunBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Vac-VGC-071:EnableManualBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Vac-VGC-071:EnableForcedBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleLOW",                 "REAL",                           PV_DESC="Scale LOW",               PV_EGU="mBar")
record(ai, "Spk-000CDL:Vac-VGC-071:ScaleLOW")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Scale LOW")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "ScaleLOW")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleHIGH",                "REAL",                           PV_DESC="Scale HIGH",              PV_EGU="mBar")
record(ai, "Spk-000CDL:Vac-VGC-071:ScaleHIGH")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Scale HIGH")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "ScaleHIGH")
	info(autosaveFields_pass0, "VAL")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",                           PV_DESC="Pressure Value",          PV_EGU="mBar")
record(ai, "Spk-000CDL:Vac-VGC-071:MeasValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Pressure Value")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "MeasValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Vac-VGC-071:DevLocked")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Vac-VGC-071:Faceplate_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Vac-VGC-071:BlockIcon_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("LatchAlarm",          "Latching of alarms",             PV_ZNAM="True")
record(bi, "Spk-000CDL:Vac-VGC-071:LatchAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Latching of alarms")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("GroupAlarm",          "GroupAlarm",                     PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Vac-VGC-071:GroupAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "GroupAlarm")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Underrange",          "Pressure Underrange",            PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Vac-VGC-071:Underrange")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "Underrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Overrange",           "Pressure Overrange",             PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Vac-VGC-071:Overrange")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "Overrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("HIHI",                "Pressure HIHI",                  PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Vac-VGC-071:HIHI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("HI",                  "Pressure HI",                    PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Vac-VGC-071:HI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("LO",                  "Pressure LO",                    PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Vac-VGC-071:LO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("LOLO",                "Pressure LOLO",                  PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Vac-VGC-071:LOLO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "LOLO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "IO_Error",                       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Vac-VGC-071:IO_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "IO_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Module_Error",        "Module_Error",                   PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Vac-VGC-071:Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Pressure", PV_EGU="mBar")
record(ai, "Spk-000CDL:Vac-VGC-071:FB_ForceValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Force Pressure")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "FB_ForceValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",     PV_EGU="mBar")
record(ai, "Spk-000CDL:Vac-VGC-071:FB_Limit_HIHI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "FB_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",       PV_EGU="mBar")
record(ai, "Spk-000CDL:Vac-VGC-071:FB_Limit_HI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "FB_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",       PV_EGU="mBar")
record(ai, "Spk-000CDL:Vac-VGC-071:FB_Limit_LO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "FB_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",     PV_EGU="mBar")
record(ai, "Spk-000CDL:Vac-VGC-071:FB_Limit_LOLO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "FB_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Vac-VGC-071 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Spk-000CDL:Vac-VGC-071:Cmd_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "Cmd_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Vac-VGC-071:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Spk-000CDL:Vac-VGC-071:Cmd_ForceVal")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "Cmd_ForceVal")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Vac-VGC-071:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Vac-VGC-071:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Vac-VGC-071:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Vac-VGC-071:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Vac-VGC-071 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",              PV_EGU="mBar")
record(ao, "Spk-000CDL:Vac-VGC-071:P_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HIHI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                PV_EGU="mBar")
record(ao, "Spk-000CDL:Vac-VGC-071:P_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                PV_EGU="mBar")
record(ao, "Spk-000CDL:Vac-VGC-071:P_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",              PV_EGU="mBar")
record(ao, "Spk-000CDL:Vac-VGC-071:P_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LOLO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force pressure",          PV_EGU="mBar")
record(ao, "Spk-000CDL:Vac-VGC-071:P_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force pressure")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Vac-VGC-071:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Vac-VGC-071:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGC-071_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Vac-VGC-071:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Vac-VGC-071:P_Limit_HIHI")
	field(LNK2, "Spk-000CDL:Vac-VGC-071:P_Limit_HI")
	field(LNK3, "Spk-000CDL:Vac-VGC-071:P_Limit_LO")
	field(LNK4, "Spk-000CDL:Vac-VGC-071:P_Limit_LOLO")
	field(LNK5, "Spk-000CDL:Vac-VGC-071:P_ForceValue")
	field(LNK6, "Spk-000CDL:Vac-VGC-071:P_Faceplate_LockID")
	field(LNK7, "Spk-000CDL:Vac-VGC-071:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}




##########
########## Spk-000CDL:Vac-VGP-070 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                             PT - Pressure Transmitter in mbar                            ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################         Version: 1.1             ################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    12-06-2018
#Version: v1.1
#Changes:
#1. Modified Alarm Signal section to be compatible with new format.
############################ Version: 1.0             ########################################
#Author:  Miklos Boros
#Date:    25-01-2018
#Version: v1.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Spk-000CDL:Vac-VGP-070 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Vac-VGP-070:OpMode_FreeRun")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "OpMode_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Vac-VGP-070:OpMode_Forced")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",           PV_ZNAM="AllowManual")
record(bi, "Spk-000CDL:Vac-VGP-070:Inhibit_Manual")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",            PV_ZNAM="AllowForce")
record(bi, "Spk-000CDL:Vac-VGP-070:Inhibit_Force")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",          PV_ZNAM="AllowLocking")
record(bi, "Spk-000CDL:Vac-VGP-070:Inhibit_Lock")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Spk-000CDL:Vac-VGP-070:TransmitterColor")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "TransmitterColor")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Vac-VGP-070:EnableFreeRunBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "EnableFreeRunBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Vac-VGP-070:EnableManualBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Vac-VGP-070:EnableForcedBtn")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleLOW",                 "REAL",                           PV_DESC="Scale LOW",               PV_EGU="mBar")
record(ai, "Spk-000CDL:Vac-VGP-070:ScaleLOW")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Scale LOW")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "ScaleLOW")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleHIGH",                "REAL",                           PV_DESC="Scale HIGH",              PV_EGU="mBar")
record(ai, "Spk-000CDL:Vac-VGP-070:ScaleHIGH")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Scale HIGH")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "ScaleHIGH")
	info(autosaveFields_pass0, "VAL")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",                           PV_DESC="Pressure Value",          PV_EGU="mBar")
record(ai, "Spk-000CDL:Vac-VGP-070:MeasValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Pressure Value")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "MeasValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                    PV_ZNAM="False")
record(bi, "Spk-000CDL:Vac-VGP-070:DevLocked")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Spk-000CDL:Vac-VGP-070:Faceplate_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Spk-000CDL:Vac-VGP-070:BlockIcon_LockID")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("LatchAlarm",          "Latching of alarms",             PV_ZNAM="True")
record(bi, "Spk-000CDL:Vac-VGP-070:LatchAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Latching of alarms")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("GroupAlarm",          "GroupAlarm",                     PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Vac-VGP-070:GroupAlarm")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "GroupAlarm")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Underrange",          "Pressure Underrange",            PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Vac-VGP-070:Underrange")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "Underrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Overrange",           "Pressure Overrange",             PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Vac-VGP-070:Overrange")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "Overrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("HIHI",                "Pressure HIHI",                  PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Vac-VGP-070:HIHI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("HI",                  "Pressure HI",                    PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Vac-VGP-070:HI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("LO",                  "Pressure LO",                    PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Vac-VGP-070:LO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("LOLO",                "Pressure LOLO",                  PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Vac-VGP-070:LOLO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Pressure LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "LOLO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "IO_Error",                       PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Vac-VGP-070:IO_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "IO_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Module_Error",        "Module_Error",                   PV_ZNAM="NominalState")
record(bi, "Spk-000CDL:Vac-VGP-070:Module_Error")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(ONAM, "Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Pressure", PV_EGU="mBar")
record(ai, "Spk-000CDL:Vac-VGP-070:FB_ForceValue")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Force Pressure")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "FB_ForceValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",     PV_EGU="mBar")
record(ai, "Spk-000CDL:Vac-VGP-070:FB_Limit_HIHI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "FB_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",       PV_EGU="mBar")
record(ai, "Spk-000CDL:Vac-VGP-070:FB_Limit_HI")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "FB_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",       PV_EGU="mBar")
record(ai, "Spk-000CDL:Vac-VGP-070:FB_Limit_LO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "FB_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",     PV_EGU="mBar")
record(ai, "Spk-000CDL:Vac-VGP-070:FB_Limit_LOLO")
{
	field(SCAN, "Event")
	field(EVNT, "S7plc")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "FB_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Spk-000CDL:Vac-VGP-070 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Spk-000CDL:Vac-VGP-070:Cmd_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "Cmd_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Spk-000CDL:Vac-VGP-070:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Spk-000CDL:Vac-VGP-070:Cmd_ForceVal")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "Cmd_ForceVal")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Spk-000CDL:Vac-VGP-070:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Spk-000CDL:Vac-VGP-070:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Spk-000CDL:Vac-VGP-070:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Spk-000CDL:Vac-VGP-070:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Spk-000CDL:Vac-VGP-070 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",              PV_EGU="mBar")
record(ao, "Spk-000CDL:Vac-VGP-070:P_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HIHI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                PV_EGU="mBar")
record(ao, "Spk-000CDL:Vac-VGP-070:P_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit HI")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                PV_EGU="mBar")
record(ao, "Spk-000CDL:Vac-VGP-070:P_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",              PV_EGU="mBar")
record(ao, "Spk-000CDL:Vac-VGP-070:P_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Limit LOLO")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force pressure",          PV_EGU="mBar")
record(ao, "Spk-000CDL:Vac-VGP-070:P_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Force pressure")
	field(EGU,  "mBar")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Spk-000CDL:Vac-VGP-070:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Spk-000CDL:Vac-VGP-070:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	field(HOPR, "2147483647")
	field(LOPR, "-2147483648")
	field(FLNK, "Spk-000CDL:Cryo-PLC-010:#plcfDoneUploadStat")
	info("plc_datablock", "DEV_Spk-000CDL:Vac-VGP-070_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Spk-000CDL:Vac-VGP-070:#plcfDUplParamsCmd")
{
	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:HeartbeatToPLCS")
	field(LNK1, "Spk-000CDL:Vac-VGP-070:P_Limit_HIHI")
	field(LNK2, "Spk-000CDL:Vac-VGP-070:P_Limit_HI")
	field(LNK3, "Spk-000CDL:Vac-VGP-070:P_Limit_LO")
	field(LNK4, "Spk-000CDL:Vac-VGP-070:P_Limit_LOLO")
	field(LNK5, "Spk-000CDL:Vac-VGP-070:P_ForceValue")
	field(LNK6, "Spk-000CDL:Vac-VGP-070:P_Faceplate_LockID")
	field(LNK7, "Spk-000CDL:Vac-VGP-070:P_BlockIcon_LockID")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}



record(fanout, "Spk-000CDL:Cryo-PLC-010:UploadParametersCmd")
{
	alias("Spk-000CDL:Cryo-PLC-010:UploadParametersS")

	field(DESC, "Upload parameter values")
	field(SHFT, "0")
	field(LNK0, "Spk-000CDL:Cryo-PLC-010:#plcfInitUploadStat")
	field(LNK1, "Spk-000CDL:SC-FSM-300:#plcfDUplParamsCmd")
	field(LNK2, "Spk-000CDL:Cryo-PID-91:#plcfDUplParamsCmd")
	field(LNK3, "Spk-000CDL:Cryo-PID-92:#plcfDUplParamsCmd")
	field(LNK4, "Spk-000CDL:Cryo-PID-93:#plcfDUplParamsCmd")
	field(LNK5, "Spk-000CDL:Cryo-PID-94:#plcfDUplParamsCmd")
	field(LNK6, "Spk-000CDL:Cryo-CV-91:#plcfDUplParamsCmd")
	field(LNK7, "Spk-000CDL:Cryo-CV-92:#plcfDUplParamsCmd")
	field(LNK8, "Spk-000CDL:Cryo-CV-93:#plcfDUplParamsCmd")
	field(LNK9, "Spk-000CDL:Cryo-CV-94:#plcfDUplParamsCmd")
	field(LNKA, "Spk-000CDL:Cryo-EH-91:#plcfDUplParamsCmd")
	field(LNKB, "Spk-000CDL:Cryo-EH-92:#plcfDUplParamsCmd")
	field(LNKC, "Spk-000CDL:Cryo-EH-93:#plcfDUplParamsCmd")
	field(LNKD, "Spk-000CDL:Cryo-EH-94:#plcfDUplParamsCmd")
	field(LNKE, "Spk-000CDL:Cryo-EH-95:#plcfDUplParamsCmd")
	field(LNKF, "Spk-000CDL:Cryo-EH-96:#plcfDUplParamsCmd")
	field(FLNK, "Spk-000CDL:Cryo-PLC-010:#plcfGUplParam01-FO")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}

record(fanout, "Spk-000CDL:Cryo-PLC-010:#plcfGUplParam01-FO")
{
	field(DESC, "Upload parameter values")
	field(LNK1, "Spk-000CDL:Cryo-HV-70:#plcfDUplParamsCmd")
	field(LNK2, "Spk-000CDL:Cryo-HV-73:#plcfDUplParamsCmd")
	field(LNK3, "Spk-000CDL:Cryo-TT-91:#plcfDUplParamsCmd")
	field(LNK4, "Spk-000CDL:Cryo-TT-92:#plcfDUplParamsCmd")
	field(LNK5, "Spk-000CDL:Cryo-TT-93:#plcfDUplParamsCmd")
	field(LNK6, "Spk-000CDL:Cryo-TT-94:#plcfDUplParamsCmd")
	field(LNK7, "Spk-000CDL:Cryo-TT-95:#plcfDUplParamsCmd")
	field(LNK8, "Spk-000CDL:Cryo-TT-96:#plcfDUplParamsCmd")
	field(LNK9, "Spk-000CDL:Cryo-TT-97:#plcfDUplParamsCmd")
	field(LNKA, "Spk-000CDL:Cryo-TT-98:#plcfDUplParamsCmd")
	field(LNKB, "Spk-000CDL:Cryo-LT-91:#plcfDUplParamsCmd")
	field(LNKC, "Spk-000CDL:Cryo-LT-92:#plcfDUplParamsCmd")
	field(LNKD, "Spk-000CDL:Cryo-PT-91:#plcfDUplParamsCmd")
	field(LNKE, "Spk-000CDL:Cryo-PT-92:#plcfDUplParamsCmd")
	field(LNKF, "Spk-000CDL:Cryo-PT-93:#plcfDUplParamsCmd")
	field(FLNK, "Spk-000CDL:Cryo-PLC-010:#plcfGUplParam02-FO")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}

record(fanout, "Spk-000CDL:Cryo-PLC-010:#plcfGUplParam02-FO")
{
	field(DESC, "Upload parameter values")
	field(LNK1, "Spk-000CDL:Cryo-PT-94:#plcfDUplParamsCmd")
	field(LNK2, "Spk-000CDL:Cryo-PT-95:#plcfDUplParamsCmd")
	field(LNK3, "Spk-000CDL:Vac-VGC-071:#plcfDUplParamsCmd")
	field(LNK4, "Spk-000CDL:Vac-VGP-070:#plcfDUplParamsCmd")
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:PLCHashCorrectR")
}

record(bo, "Spk-000CDL:Cryo-PLC-010:#plcfInitUploadStat")
{
	field(DESC, "Initialize parameter uploading status")
	field(DOL,  "Spk-000CDL:Cryo-PLC-010:#plcfC1")
	field(OMSL, "closed_loop")
	field(OUT,  "Spk-000CDL:Cryo-PLC-010:#plcfUploadStatToPLCS PP")
}

record(longout, "Spk-000CDL:Cryo-PLC-010:#plcfDoneUploadStat")
{
	field(DESC, "Done parameter uploading status")
	field(DOL,  "Spk-000CDL:Cryo-PLC-010:#plcfC2")
	field(OMSL, "closed_loop")
	field(OUT,  "Spk-000CDL:Cryo-PLC-010:#plcfUploadStatToPLCS PP")
	field(SDIS, "Spk-000CDL:Cryo-PLC-010:UploadStat-RB")
	field(DISV, "0")
}

#If PLC says we are uploading but #plcfInitUploadStat was never processed ==> reset upload status in the PLC
record(calcout, "Spk-000CDL:Cryo-PLC-010:#plcfAssertUplStat")
{
	field(DESC, "Assert validity of upload statistics")
	field(INPA, "Spk-000CDL:Cryo-PLC-010:UploadStat-RB CP")
	field(INPB, "Spk-000CDL:Cryo-PLC-010:#plcfInitUploadStat.UDF")
	field(CALC, "A == 1 && B == 1")
	field(OOPT, "When Non-zero")
	field(DOPT, "Use OCAL")
	field(OCAL, "0")
	field(OUT,  "Spk-000CDL:Cryo-PLC-010:#plcfUploadStatToPLCS PP")
}

